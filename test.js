!function(t){function i(){}function n(){}function e(t){this.Ta=t,Error.captureStackTrace&&Error.captureStackTrace(this,e)}function s(t){this.g=wi.Ga(s.N),wi.Ea(this.g).get("features").textContent=t.join(", ")}function a(){this.nl=new m,this.g=wi.Ga(a.N);var t=wi.Ea(this.g);this.rg=t.get("ping"),this.wp=t.get("max-ping"),this.wo=t.get("fps"),wi.xe(t.get("graph"),this.nl.g)}function h(t,i,n){var e=this;this.g=wi.Ga(h.N),(a=wi.Ea(this.g)).get("ok"),a.get("cancel"),this.Vd=a.get("content");for(var s=a.get("title"),a=a.get("buttons"),o=0,r=0;r<n.length;){var c=n[r++],l=window.document.createElement("button");l.textContent=c,l.onclick=function(t){return function(){Yt.i(e.Va,t[0])}}([o++]),a.appendChild(l)}this.Vd.textContent=i,s.textContent=t}function o(t){function i(t){var i=window.document.createElement("div");i.className="inputrow",(n=window.document.createElement("div")).textContent=t,i.appendChild(n);for(var n=b.Eo(t),e=0;e<n.length;){var s=[n[e]];++e;var a=[window.document.createElement("div")],h=s[0];Ui.startsWith(s[0],"Key")&&(h=Oi.substr(s[0],3,null)),a[0].textContent=h,i.appendChild(a[0]),(h=window.document.createElement("i")).className="icon-cancel",h.onclick=function(t,i){return function(){b.Jq(i[0]),It.A.tg.Xa(b),t[0].remove()}}(a,s),a[0].appendChild(h)}return(n=window.document.createElement("i")).className="icon-plus",i.appendChild(n),n.onclick=function(){p.classList.toggle("show",!0),p.focus(),p.onkeydown=function(i){p.classList.toggle("show",!1),i.stopPropagation(),i=i.code,null==b.L(i)&&(b.Pa(i,t),It.A.tg.Xa(b),d())}},i}function n(t,i,n){if(t=c.get(t),null==n)t.hidden=!0;else{t.innerHTML=i+": <div class='flagico'></div> <span></span>",i=t.querySelector(".flagico"),t=t.querySelector("span");try{i.classList.add("f-"+n.ub)}catch(t){}t.textContent=n.ub.toUpperCase()}}function e(t,i,n,e){var s=c.get(t);s.selectedIndex=e(i.L()),s.onchange=function(){var t=n(s.selectedIndex);i.Xa(t)}}function s(t,i,n){function e(t){s.classList.toggle("icon-ok",t),s.classList.toggle("icon-cancel",!t)}(t=c.get(t)).classList.add("toggle");var s=window.document.createElement("i");s.classList.add("icon-ok"),t.insertBefore(s,t.firstChild),t.onclick=function(){var t=!i.L();i.Xa(t),e(t),null!=n&&n(t)},e(i.L())}function a(t){var i={Jm:c.get(t+"btn"),bh:c.get(t+"sec")};l.push(i),i.Jm.onclick=function(){h(i)}}function h(t){for(var i=0,n=0;n<l.length;){var e=l[n];++n;var s=e==t;s&&(o.$l=i),e.bh.classList.toggle("selected",s),e.Jm.classList.toggle("selected",s),++i}}null==t&&(t=!1);var r=this;this.g=wi.Ga(o.N);var c=wi.Ea(this.g);this.nd=c.get("close");var l=[];a("sound"),a("video"),a("misc"),a("input"),h(l[o.$l]),s("tsound-main",It.A.pm,function(t){It.Na.im(t?1:0)}),s("tsound-chat",It.A.Hi),s("tsound-highlight",It.A.om),s("tsound-crowd",It.A.nm),e("viewmode",It.A.Tb,function(t){return t-1},function(t){return t+1}),e("fps",It.A.Fh,function(t){return t},function(t){return t});var u=[1,.7,.3,.2];e("resscale",It.A.Sl,function(t){return u[t]},function(t){for(var i=0,n=u.length-1;i<n&&!(u[i]<=t);)++i;return i}),s("tvideo-teamcol",It.A.xm),s("tvideo-showindicators",It.A.Ak),s("tvideo-showavatars",It.A.lm);var f=null;(f=function(){var i=It.A.Ne.L();n("loc","Detected location",It.A.Me.L()),n("loc-ovr","Location override",i);var e=c.get("loc-ovr-btn");e.disabled=!t,null==i?(e.textContent="Override location",e.onclick=function(){Xt.i(r.Ep)}):(e.textContent="Remove override",e.onclick=function(){It.A.Ne.Xa(null),f()})})();var d,b=It.A.tg.L(),p=c.get("presskey"),v=c.get("inputsec");(d=function(){wi.Cf(v);var t=i("Up");v.appendChild(t),t=i("Down"),v.appendChild(t),t=i("Left"),v.appendChild(t),t=i("Right"),v.appendChild(t),t=i("Kick"),v.appendChild(t)})(),this.nd.onclick=function(){Xt.i(r.qb)}}function r(t){this.fk=!1,this.qm=new v(pt.Ia),this.Lj=new v(pt.xa),this.Hl=new v(pt.fa);var i=this;this.g=wi.Ga(r.N);var n=wi.Ea(this.g);this.jc=n.get("room-name"),this.tm=n.get("start-btn"),this.vm=n.get("stop-btn"),this.gi=n.get("pause-btn"),this.xn=n.get("auto-btn"),this.Nk=n.get("lock-btn"),this.Rl=n.get("reset-all-btn"),this.Fl=n.get("rec-btn");var e=n.get("link-btn"),s=n.get("leave-btn"),a=n.get("rand-btn");this.wf=n.get("time-limit-sel"),this.qf=n.get("score-limit-sel"),this.rm=n.get("stadium-name"),this.sm=n.get("stadium-pick"),this.sm.onclick=function(){Xt.i(i.Xp)},this.Th(n.get("red-list"),this.Hl,pt.fa,t),this.Th(n.get("blue-list"),this.Lj,pt.xa,t),this.Th(n.get("spec-list"),this.qm,pt.Ia,t),this.Uk(this.wf,this.Tk(15)),this.Uk(this.qf,this.Tk(15)),this.wf.onchange=function(){Yt.i(i.aq,i.wf.selectedIndex)},this.qf.onchange=function(){Yt.i(i.Tp,i.qf.selectedIndex)},this.tm.onclick=function(){Xt.i(i.Yp)},this.vm.onclick=function(){Xt.i(i.Zp)},this.gi.onclick=function(){Xt.i(i.Mp)},this.xn.onclick=function(){Xt.i(i.Dp)},this.Nk.onclick=function(){Yt.i(i.$p,!i.Xh)},this.Rl.onclick=function(){null!=i.ee&&(i.ee(pt.xa),i.ee(pt.fa))},this.Fl.onclick=function(){Xt.i(i.Qp)},e.onclick=function(){Xt.i(i.Wp)},s.onclick=function(){Xt.i(i.de)},a.onclick=function(){Xt.i(i.Pp)},this.Bj(!1),this.Cj(!1)}function c(){var t=this;this.g=wi.Ga(c.N);var i=wi.Ea(this.g);this.Cb=i.get("input"),this.af=i.get("ok"),i.get("cancel").onclick=function(){null!=t.Va&&t.Va(null)},this.Cb.maxLength=30,this.Cb.oninput=function(){t.C()},this.Cb.onkeydown=function(i){13==i.keyCode&&t.Dc()&&null!=t.Va&&t.Va(t.Cb.value)},this.af.onclick=function(){t.Dc()&&null!=t.Va&&t.Va(t.Cb.value)},this.C()}function l(t){this.Xk=t.get("notice"),this.$n=t.get("notice-contents"),this.nd=t.get("notice-close"),this.Il()}function u(t){function i(t){function i(){s.className=a.Ta?"icon-ok":"icon-cancel"}var s=(t=e.get(t)).querySelector("i"),a={Ta:!0};return i(),t.onclick=function(){a.Ta=!a.Ta,i(),n.bn(n.dj)},a}this.dj=[];var n=this;this.gs=t,this.Ja=wi.Ga(u.tj);var e=wi.Ea(this.Ja),s=new l(e);this.pj=e.get("refresh"),this.Tm=e.get("join"),t=e.get("create"),this.cs=e.get("count"),t.onclick=function(){Xt.i(n.ws)},e.get("changenick").onclick=function(){Xt.i(n.vs)},e.get("settings").onclick=function(){Xt.i(n.ys)};var a=e.get("replayfile");a.onchange=function(){if(!(1>(t=a.files).length)){var t=t.item(0),i=new FileReader;i.onload=function(){Yt.i(n.xs,i.result)},i.readAsArrayBuffer(t)}},this.fs=i("fil-full"),this.zs=i("fil-pass"),this.ns=e.get("listscroll"),this.Bs=xi.cg(this.ns),this.gj=e.get("list"),this.pj.onclick=function(){s.Il(),n.Om()},this.Tm.onclick=function(){null!=n.Od&&Yt.i(n.Ym,n.Od.Fs)},this.Om()}function f(t){this.Ja=wi.Ga(f.tj,"tbody");var i=(a=wi.Ea(this.Ja)).get("name"),n=a.get("players"),e=a.get("distance"),s=a.get("pass"),a=a.get("flag");this.Fs=t;var h=t.vd;i.textContent=h.w,n.textContent=h.I+"/"+h.Xe,s.textContent=h.Ib?"Yes":"No",e.textContent=(0|t.Le)+"km";try{a.classList.add("f-"+h.ub.toLowerCase())}catch(t){}9>t.vd.Id&&this.Ja.classList.add("old")}function d(){this.gk=null;var t=this;this.g=wi.Ga(d.N);var i=wi.Ea(this.g);this.Zf=i.get("link");var n=i.get("copy");i=i.get("close");this.Zf.onfocus=function(){t.Zf.select()},n.onclick=function(){return t.Zf.select(),window.document.execCommand("Copy")},i.onclick=function(){Xt.i(t.qb)}}function b(t){function i(){var i=h[a];t.pl=s?i:0,e.get("spd").textContent=i+"x"}this.Wf=!1;var n=this;this.g=wi.Ga(b.N);var e=wi.Ea(this.g);this.ti=t,e.get("reset").onclick=function(){t.ui(),n.el()};var s=!0,a=2,h=[.5,.75,1,2,3];i();var o=e.get("playicon");o.classList.add("icon-pause"),e.get("play").onclick=function(){s=!s;var t=o.classList;t.toggle("icon-play",!s),t.toggle("icon-pause",s),i()},e.get("spdup").onclick=function(){a+=1;var t=h.length-1;a>t&&(a=t),i()},e.get("spddn").onclick=function(){0>--a&&(a=0),i()},this.Er=e.get("time");var r=e.get("timebar");this.Aq=e.get("progbar");for(var c=e.get("timetooltip"),l=0,u=t.Vk;l<u.length;){var f=u[l];++l;var d=window.document.createElement("div");d.className="marker",d.classList.add("k"+f.kind),d.style.left=100*f.mj+"%",r.appendChild(d)}r.onclick=function(i){t.er((i.pageX-r.offsetLeft)/r.clientWidth*t.mh*t.mf),n.Wf||(n.Wf=!0,n.Vp(),n.el())},r.onmousemove=function(i){return i=(i.pageX-r.offsetLeft)/r.clientWidth,c.textContent=b.Wk(t.mf*t.mh*i),c.style.left="calc("+100*i+"% - 30px)"},this.fp=e.get("leave"),this.fp.onclick=function(){Xt.i(n.de)}}function p(t){var i=this,n=new h("Only humans","",[]);this.g=n.g,n.Vd.style.minHeight="78px",Ci.gp().then(function(e){null==p.xg&&(p.xg=window.document.createElement("div"),n.Vd.appendChild(p.xg),p.Dq=e.render(p.xg,{sitekey:t,callback:function(t){Yt.i(p.Gl,t)},theme:"dark"})),e.reset(p.Dq),p.Gl=function(t){window.setTimeout(function(){Yt.i(i.Va,t)},1e3),p.Gl=null},n.Vd.appendChild(p.xg)})}function v(t){this.xd=new Map;var i=this;this.g=wi.Ga(v.N),this.g.className+=" "+t.io;var n=wi.Ea(this.g);this.ab=n.get("list"),this.Vh=n.get("join-btn"),this.vi=n.get("reset-btn"),t==pt.Ia&&this.vi.remove(),this.Vh.textContent=""+t.w,this.g.ondragover=this.g.Qs=function(t){-1!=t.dataTransfer.types.indexOf("player")&&t.preventDefault()},this.g.ondrop=function(n){n.preventDefault(),null!=(n=n.dataTransfer.getData("player"))&&(null!=(n=qi.parseInt(n))&&Zt.i(i.mg,n,t))},this.Vh.onclick=function(){Yt.i(i.Kp,t)},this.vi.onclick=function(){Yt.i(i.ee,t)}}function g(t){var i=this;this.w=t.w,this.yb=t.yb,this.$=t.V,this.g=wi.Ga(g.N);var n=wi.Ea(this.g);this.Ze=n.get("name"),this.rg=n.get("ping");try{n.get("flag").classList.add("f-"+t.Kd)}catch(t){}this.Ze.textContent=this.w,this.rg.textContent=""+this.yb,this.g.ondragstart=function(t){t.dataTransfer.setData("player",qi.ye(i.$))},this.g.oncontextmenu=function(t){t.preventDefault(),Yt.i(i.ff,i.$)},this.em(t.cb)}function w(t,i){var n=this;this.g=wi.Ga(w.N);var e=wi.Ea(this.g);this.Ze=e.get("name"),this.Hf=e.get("admin"),this.Qe=e.get("kick"),this.nd=e.get("close"),this.Hf.onclick=function(){Zt.i(n.Cp,n.Nb,!n.ql)},this.Qe.onclick=function(){Yt.i(n.ei,n.Nb)},this.nd.onclick=function(){Xt.i(n.qb)},this.Nb=t.V,this.Ej(t.w),this.Dj(t.cb),this.Hf.disabled=!i||0==this.Nb,this.Qe.disabled=!i||0==this.Nb}function m(){this.Ah=0,this.vp=400,this.yk=64,this.Vi=32,this.sa=window.document.createElement("canvas"),this.Qf=window.document.createElement("canvas"),this.g=window.document.createElement("div"),this.Qf.width=this.sa.width=this.Vi,this.Qf.height=this.sa.height=this.yk,this.Eh=this.Qf.getContext("2d",null),this.c=this.sa.getContext("2d",null),this.c.fillStyle="white";for(var t=[],i=0,n=this.Vi;i<n;)++i,t.push(0);this.fq=t,this.g.appendChild(this.Qf),this.g.className="graph"}function y(){this.jb=null;var t=this;this.g=wi.Ga(y.N);var i=wi.Ea(this.g);i.get("cancel").onclick=function(){Xt.i(t.ci)},this.hi=i.get("pick"),this.bk=i.get("delete"),this.rk=i.get("export");var n=i.get("list"),s=i.get("file");this.Lg(),this.hi.onclick=function(){null!=t.jb&&t.jb.Pd().then(function(i){Yt.i(t.og,i)})},this.bk.onclick=function(){if(null!=t.jb){var i=t.jb.Lm;null!=i&&(t.jb.Ja.remove(),t.jb=null,i(),t.Lg())}},this.rk.onclick=function(){null!=t.jb&&t.jb.Pd().then(function(t){yi.br(t.se(),t.w+".hbs")})},this.ki(n),this.vg=xi.cg(n),window.setTimeout(function(){t.vg.update()},0),s.onchange=function(){if(!(1>(i=s.files).length)){var i=i.item(0),n=new FileReader;n.onload=function(){try{var i=new gt;i.Lk(n.result),Yt.i(t.og,i)}catch(n){(i=n instanceof e?n.Ta:n)instanceof SyntaxError?Yt.i(t.fi,"SyntaxError in line: "+qi.ye(i.lineNumber)):i instanceof wt?Yt.i(t.fi,i.xp):Yt.i(t.fi,"Error loading stadium file.")}},n.readAsText(i)}}}function k(){var t=this;this.g=wi.Ga(k.N);var i=wi.Ea(this.g);i.get("cancel").onclick=function(){Yt.i(t.qb,!1)},i.get("leave").onclick=function(){Yt.i(t.qb,!0)}}function x(t){var i=this;this.g=wi.Ga(x.N);var n=wi.Ea(this.g);this.Ze=n.get("title"),this.oi=n.get("reason"),this.yn=n.get("ban-btn"),this.An=n.get("ban-text"),this.Qe=n.get("kick"),this.nd=n.get("close"),this.yn.onclick=function(){i.Aj(!i.Jj)},this.nd.onclick=function(){Xt.i(i.qb)},this.Qe.onclick=function(){Wt.i(i.ei,i.Nb,i.oi.value,i.Jj)},this.oi.onkeydown=function(t){return t.stopPropagation()},this.oi.maxLength=100,this.Nb=t.V,this.Ze.textContent="Kick "+t.w,this.Aj(!1)}function C(t){this.Fb=new S,this.Gd=!1,this.pe=new a,this.Qa=new P;var i=this;this.Wa=new r(t),this.Fb.Nb=t,this.g=wi.Ga(C.N),t=wi.Ea(this.g),this.Jh=t.get("gameplay-section"),this.hf=t.get("popups"),this.hf.style.display="none",wi.xe(t.get("chatbox"),this.Qa.g),wi.xe(t.get("stats"),this.pe.g),this.bi=t.get("menu"),this.bi.onclick=function(){i.me(!i.Gd),i.bi.blur()},t.get("settings").onclick=function(){var t=new o;t.qb=function(){i.bb(null)},i.bb(t.g)},this.Jh.appendChild(this.Fb.g),this.Wa.de=function(){var t=new k;t.qb=function(t){i.bb(null),t&&Xt.i(i.de)},i.bb(t.g)},this.Wa.Xp=function(){var t=new y;t.ci=function(){i.bb(null)},t.og=function(t){Yt.i(i.og,t),i.bb(null)},t.fi=function(t){(t=new h("Error loading stadium",t,["Ok"])).Va=function(){i.bb(null)},i.bb(t.g)},i.bb(t.g)}}function j(){this.Da=0,this.hk=this.ik=!1,this.Ke=0,this.g=window.document.createElement("div"),this.g.className="game-timer-view",this.g.appendChild(this.bq=this.Wd("OVERTIME!","overtime")),this.g.appendChild(this.zp=this.Wd("0","digit")),this.g.appendChild(this.yp=this.Wd("0","digit")),this.g.appendChild(this.Wd(":",null)),this.g.appendChild(this.dr=this.Wd("0","digit")),this.g.appendChild(this.cr=this.Wd("0","digit"))}function S(){this.Nb=-1,this.Eb=new D,this.xc=new j,this.g=wi.Ga(S.N);var t=wi.Ea(this.g);this.Pb=new mi(t.get("red-score"),0),this.Kb=new mi(t.get("blue-score"),0),wi.xe(t.get("timer"),this.xc.g),wi.xe(t.get("canvas"),this.Eb.sa)}function T(t,i){var n=this;this.g=wi.Ga(T.N);var e=wi.Ea(this.g);this.Bp=e.get("ok"),this.Bp.onclick=function(){Xt.i(n.Va)},this.Nl=e.get("replay");var s=null!=i;this.Nl.hidden=!s,s&&(this.Nl.onclick=function(){Nt.Yl(i)}),e.get("reason").textContent=t}function A(t){var i=this;this.g=wi.Ga(A.N);var n=wi.Ea(this.g);for(this.vh=n.get("cancel"),this.Wj=n.get("create"),this.$e=n.get("name"),this.kl=n.get("pass"),this.ai=n.get("max-pl"),this.Em=n.get("unlisted"),this.$e.maxLength=40,this.$e.value=t,this.$e.oninput=function(){i.C()},this.kl.maxLength=30,this.Em.onclick=function(){i.Fj(!i.Fm)},this.vh.onclick=function(){Xt.i(i.ci)},this.Wj.onclick=function(){if(i.Dc()){var t=i.kl.value;""==t&&(t=null),Yt.i(i.Jp,{name:i.$e.value,password:t,qs:i.ai.selectedIndex+2,Ks:i.Fm})}},t=2;21>t;)(n=window.document.createElement("option")).textContent=""+t++,this.ai.appendChild(n);this.ai.selectedIndex=10,this.Fj(!1),this.C()}function L(){this.g=wi.Ga(L.N);var t=wi.Ea(this.g);this.dc=t.get("log"),this.vh=t.get("cancel")}function R(t){function i(){n.Dc()&&null!=n.cl&&n.cl(n.Cb.value)}var n=this;this.g=wi.Ga(R.N);var e=wi.Ea(this.g);this.Cb=e.get("input"),this.af=e.get("ok"),this.Cb.maxLength=25,this.Cb.value=t,this.Cb.oninput=function(){n.C()},this.Cb.onkeydown=function(t){13==t.keyCode&&i()},this.af.onclick=i,this.C()}function M(t,i){this.Hj=[],this.Iq=/[#@][^\s@#]*$/,this.Mb=t,this.Rp=i,t.hidden=!0}function P(){function t(){null!=i.fl&&""!=i.gb.value&&i.fl(i.gb.value),i.gb.value="",i.gb.blur()}var i=this;this.g=wi.Ga(P.N);var n=wi.Ea(this.g);this.dc=n.get("log"),this.vg=xi.cg(this.dc),this.gb=n.get("input"),this.gb.maxLength=140,n.get("send").onclick=t,this.Bc=new M(n.get("autocompletebox"),function(t,n){i.gb.value=t,i.gb.setSelectionRange(n,n)}),this.gb.onkeydown=function(n){switch(n.keyCode){case 9:i.Bc.Mb.hidden||(i.Bc.qo(),n.preventDefault());break;case 13:t();break;case 27:i.Bc.Mb.hidden?(i.gb.value="",i.gb.blur()):i.Bc.Qh();break;case 38:i.Bc.Qj(-1);break;case 40:i.Bc.Qj(1)}n.stopPropagation()},this.gb.onfocus=function(){null!=i.ig&&i.ig(!0)},this.gb.onblur=function(){null!=i.ig&&i.ig(!1),i.Bc.Qh()},this.gb.oninput=function(){i.Bc.Hn(i.gb.value,i.gb.selectionStart)}}function I(){this.rf=null;var t=this;this.g=wi.Ga(I.N);var i=wi.Ea(this.g);i.get("cancel").onclick=function(){Xt.i(t.qb)},this.wh=i.get("change"),this.wh.disabled=!0,this.wh.onclick=function(){null!=t.rf&&t.Zl(t.rf.index)},i=i.get("list"),this.ki(i);var n=xi.cg(i);window.setTimeout(function(){n.update()},0)}function B(){this.Xf=!1,this.w="",this.uh=0,this.Jf="",this.kb=new vt;var t=window.document.createElement("canvas");t.width=64,t.height=64,this.rb=t.getContext("2d",null),this.Ij=this.rb.createPattern(this.rb.canvas,"no-repeat"),this.fo()}function U(){this.xc=0,this.ab=[],this.Ar=new q(["Time is","Up!"],16777215),this.Gq=new q(["Red is","Victorious!"],15035990),this.Fq=new q(["Red","Scores!"],15035990),this.Cn=new q(["Blue is","Victorious!"],625603),this.Bn=new q(["Blue","Scores!"],625603),this.eq=new q(["Game","Paused"],16777215)}function q(t,i){for(var n=[],e=0;e<t.length;)n.push(this.sp(t[e++],i));this.We=n}function D(){this.$c=window.performance.now(),this.Jg=new Map,this.dd=new Map,this.zg=1,this.xf=35,this.jf=0,this.kf=1.5,this.Ya=new $t(0,0),this.Dk=!1,this.td=new U,this.sa=window.document.createElement("canvas"),this.sa.mozOpaque=!0,this.c=this.sa.getContext("2d",{alpha:!1}),this.Lo=this.c.createPattern(It.Ko,null),this.Wn=this.c.createPattern(It.Vn,null),this.Un=this.c.createPattern(It.Tn,null)}function O(){this.ud=0,this.v=32,this.h=63,this.m=1,this.a=new $t(0,0)}function F(){this.Hg=this.Ig=this.wa=null,this.Yj=0,this.ca=this.W=this.Xd=null,this.Cc=0,this.m=1,this.h=63,this.v=32,this.vb=1/0,this.Za=!0,this.R=0}function E(){this.v=32,this.h=63,this.m=1,this.Ua=0,this.wa=new $t(0,0)}function N(){this.hc=-1,this.gc=null,this.F=[]}function G(){this.R=0,this.ne=1/0,this.Hb=this.ec=100,this.Yd=this.Zd=0}function K(){this.hc=-1,this.gc=null,this.jl=0,this.h=this.v=63,this.Mj=0,this.R=16777215,this.Ca=.99,this.aa=1,this.m=.5,this.Z=10,this.oa=new $t(0,0),this.D=new $t(0,0),this.a=new $t(0,0)}function H(){this.da=0}function V(){this.da=0}function J(){this.da=0}function W(){this.da=0}function Z(){this.da=0}function Y(){this.da=0}function X(){this.Qg=!1,this.da=0}function z(){}function $(){this.da=0}function Q(){this.da=0}function _(){this.da=0}function tt(){this.da=0}function it(){this.da=0}function nt(){this.da=0}function et(){this.da=0}function st(){this.da=0}function at(){this.da=0}function ht(){this.da=0}function ot(){this.da=0}function rt(){this.da=0}function ct(){this.da=0}function lt(){this.da=0}function ut(){this.da=0}function ft(){this.da=0}function dt(){this.zc=-1,this.an=null,this.ea=pt.Ia,this.H=null,this.yc=this.Sc=0,this.Wb=!1,this.ob=this.V=0,this.w="Player",this.Ug=this.yb=0,this.Kd=null,this.Ld=!1,this.Xb=this.Jd=null,this.Jb=0,this.cb=!1}function bt(){this.hc=-1,this.S=this.gc=null,this.yd=2,this.Zc=0,this.ce=1,this.ib=this.Da=3,this.Pc=!1,this.K=null,this.I=[],this.jc="",this.S=gt.Kh()[0],this.kb=[null,new vt,new vt],this.kb[1].fb.push(pt.fa.R),this.kb[2].fb.push(pt.xa.R)}function pt(t,i,n,e,s,a,h,o){this.pg=null,this.$=t,this.R=i,this.Ch=n,this.cp=e,this.w=s,this.io=a,this.v=o,this.wm=new vt,this.wm.fb.push(i)}function vt(){this.ed=16777215,this.fb=[]}function gt(){this.J=[],this.U=[],this.qa=[],this.tc=[],this.F=[],this.pb=[],this.Dd=[],this.md=[],this.ge=new mt,this.Bh=255,this.Ge=this.Ye=0,this.Lf=!0,this.pf=!1}function wt(t){this.xp=t}function mt(){this.Se=0,this.Z=15,this.v=0,this.oa=new $t(0,0),this.aa=this.m=.5,this.Ca=.96,this.Ce=.1,this.Te=.07,this.Ue=.96,this.Re=5}function yt(){this.qe=pt.Ia,this.ca=new $t(0,0),this.W=new $t(0,0)}function kt(){this.hc=-1,this.gc=null,this.Pb=this.Kb=this.Hc=this.Oa=0,this.ae=pt.fa,this.vc=this.Bb=0,this.ta=new N,this.Da=0,this.ib=5,this.S=null}function xt(){this.h=this.v=63,this.R=16777215,this.Ca=.99,this.aa=1,this.m=.5,this.Z=10,this.oa=new $t(0,0),this.D=new $t(0,0),this.a=new $t(0,0)}function Ct(t,i){this.gh=null,this.Js=.025,this.ve=this.dh=this.Ef=0,this.Tg=i.createGain(),this.Tg.gain.value=0;var n=i.createBufferSource();n.buffer=t,n.connect(this.Tg),n.loop=!0,n.start()}function jt(t){function i(i){return new Promise(function(e,s){var a=t.file(i).asArrayBuffer();return n.c.decodeAudioData(a,e,s)})}var n=this;this.c=new AudioContext,this.ag=this.c.createGain(),this.im(It.A.pm.L()?1:0),this.ag.connect(this.c.destination),this.ro=Promise.all([i("sounds/chat.ogg").then(function(t){return n.Rj=t}),i("sounds/highlight.wav").then(function(t){return n.zk=t}),i("sounds/kick.ogg").then(function(t){return n.bp=t}),i("sounds/goal.ogg").then(function(t){return n.Io=t}),i("sounds/join.ogg").then(function(t){return n.$o=t}),i("sounds/leave.ogg").then(function(t){return n.ep=t}),i("sounds/crowd.ogg").then(function(t){n.ho=t,n.Xj=new Ct(n.ho,n.c),n.Xj.connect(n.ag)})])}function St(){}function Tt(){}function At(){}function Lt(t){this.$c=window.performance.now(),this.sd=this.De=0;var i=this;this.ya=t,this.j=new C(t.uc);var n=new Et(this.j);n.ri(t.T),window.document.addEventListener("keydown",Gi(this,this.Bd)),window.document.addEventListener("keyup",Gi(this,this.Cd)),window.requestAnimationFrame(Gi(this,this.bf)),this.Gh=window.setInterval(function(){i.j.pe.hm(i.sd),i.sd=0},1e3),this.uf(It.A.Tb.L()),this.j.g.classList.add("replayer"),this.je=new b(t),this.je.Vp=function(){n.Lr(t.T)},this.je.Up=function(){i.j.me(null==t.T.K),n.ri(t.T)},this.je.el=function(){i.j.Fb.Eb.Xq()},this.j.g.appendChild(this.je.g)}function Rt(){}function Mt(){}function Pt(){}function It(){}function Bt(){this.Yc=new Map}function Ut(t,i,n,e){this.w=t,this.Ur=e,this.Yh=i,e=null,null!=i&&(e=i.getItem(t)),this.Hm=n(e)}function qt(){}function Dt(){function t(t){return new Ut(t,s,function(t){if(null==t)return null;try{return Ot.Hh(t)}catch(t){return null}},function(t){if(null==t)return null;try{return t.se()}catch(t){return null}})}function i(t){return new Ut(t,s,function(t){return null==t||"0"!=t},function(t){return t?"1":"0"})}function n(t,i){return new Ut(t,s,function(t){var n=i;try{null!=t&&(n=qi.parseInt(t))}catch(t){}return n},function(t){return""+t})}function e(t,i,n){return new Ut(t,s,function(t){return null==t?i:Bi.Qc(t,n)},function(t){return t})}var s=qt.Pm();this.fe=e("player_name","",25),this.Tb=n("view_mode",-1),this.Fh=n("fps_limit",0),this.sh=e("avatar",null,2),e("rctoken",null,1024),this.xm=i("team_colors"),this.Ak=i("show_indicators"),this.pm=i("sound_main"),this.Hi=i("sound_chat"),this.om=i("sound_highlight"),this.nm=i("sound_crowd"),this.Gj=e("player_auth_key",null,1024),this.rd=n("extrapolation",0),this.Sl=new Ut("resolution_scale",s,function(t){var i=1;try{null!=t&&(i=parseFloat(t))}catch(t){}return i},function(t){return""+t}),this.lm=i("show_avatars"),this.Me=t("geo"),this.Ne=t("geo_override"),this.tg=new Ut("player_keys",s,function(t){if(null==t)return Bt.$j();try{return Bt.Hh(t)}catch(t){return Bt.$j()}},function(t){try{return t.se()}catch(t){return null}})}function Ot(){this.ub="",this.Ec=this.Gc=0}function Ft(){this.$d=this.Yf=0,window.document.addEventListener("focusout",Gi(this,this.al))}function Et(t,i){this.Rh=null,this.j=t,null!=i&&(this.Rh="@"+Ui.replace(i," ","_"))}function Nt(t){this.Nf=null,this.Ik=this.zh=!1,this.$c=window.performance.now(),this.Ed=null,this.De=0,this.Jn=new Vt(3,1e3),this.ob=new Ft,this.Bg="Waiting for link",this.xi=this.am=!1,this.sd=0;var i=this;this.Of=new Kt(t,function(t){i.j.Qa.Gb(t)}),this.ya=t,t.T.ko=function(n){i.am!=n&&(i.am=n,n=ft.la(n),t.ra(n))},this.j=new C(t.uc),this.Ih=new Et(this.j,t.T.na(t.uc).w),this.Ih.ri(t.T),this.j.Qa.fl=Gi(this,this.Gp),this.j.Qa.ig=Gi(this,this.Fp),window.document.addEventListener("keydown",Gi(this,this.Bd)),window.document.addEventListener("keyup",Gi(this,this.Cd)),window.onbeforeunload=function(){return"Are you sure you want to leave the room?"},this.ob.ng=function(i){t.ra(i)},this.j.Wa.aq=function(i){i=ct.la(1,i),t.ra(i)},this.j.Wa.Tp=function(i){i=ct.la(0,i),t.ra(i)},this.j.og=function(i){i=at.la(i),t.ra(i)},this.j.Wa.Yp=function(){t.ra(new J)},this.j.Wa.Zp=function(){t.ra(new V)},this.j.Wa.Mp=function(){i.Bm()},this.j.Wa.mg=function(i,n){var e=ht.la(i,n);t.ra(e)},this.j.Wa.ee=Gi(this,this.Wq),this.j.Wa.Dp=function(){t.ra(new lt)},this.j.Wa.Pp=function(){Nt.Bq(t)},this.j.Wa.$p=function(i){i=et.la(i),t.ra(i)},this.j.Wa.ff=function(n){var e=t.T.na(n);if(null!=e){var s=new w(e,i.xi);s.qb=function(){i.j.bb(null)},s.Cp=function(i,n){var e=rt.la(i,n);t.ra(e)},s.ei=function(){i.vr(e)},i.j.bb(s.g,function(){s.C(t.T,i.xi)})}},this.j.Wa.Wp=function(){var t=new d;t.qb=function(){i.j.bb(null)},i.j.bb(t.g,function(){t.nr(i.Bg)})},this.j.Wa.Qp=function(){if(null==i.Ed)i.zr();else{var t=i.Ed.stop();i.Ed=null,Nt.Yl(t)}i.j.Wa.rr(null!=i.Ed)},window.requestAnimationFrame(Gi(this,this.bf)),this.Gh=window.setInterval(function(){i.j.pe.hm(i.sd),i.sd=0},1e3),this.Qr=window.setInterval(function(){t.C()},50),this.uf();var n=It.A.rd.L();if(0!=n){var e=It.A.rd.L();t.gm(e),this.j.Qa.Gb("Extrapolation set to "+n+" msec")}}function Gt(){}function Kt(t,i){this.ya=t,this.ba=i}function Ht(){}function Vt(t,i){this.Nj=t,this.Si=i,this.oc=t,this.Ve=window.performance.now()}function Jt(){}function Wt(){}function Zt(){}function Yt(){}function Xt(){}function zt(){}function $t(t,i){this.x=t,this.y=i}function Qt(t){this.Yb=t.slice()}function _t(t,i,n){if(this.Vk=[],this.pl=5,this.Fd=-1,this.hg=this.Qb=this.Wh=this.sk=0,ai.call(this,i),1212305970!=(t=new Ti(new DataView(t.buffer),!1)).hb())throw new e("");if(n!=(i=t.hb()))throw new e(new ti(i));this.mf=t.hb(),n=pako.inflateRaw(t.sb()),this.Lc=new Ti(new DataView(n.buffer,n.byteOffset,n.byteLength)),this.Cq(this.Lc),n=this.Lc.sb(),this.Lc=new Ti(new DataView(n.buffer,n.byteOffset,n.byteLength),!1),this.ui(),this.Wh=window.performance.now(),this.uc=-1}function ti(t){this.Id=t}function ii(){}function ni(t){this.xj=new Map,this.Ho=new Vt(100,16),this.yg=!1,this.yb=0,this.pa=t,(t=Si.ha(8)).s(Math.random()),this.He=t.Sb()}function ei(t){this.Kj=new Map,this.Ib=null,this.fg=32,this.Ie=new Map,this.ac=[],this.wi=4,this.Mn=600;var i=this;ai.call(this,t.state),this.tp=t.ij,this.Sr=t.version,this.up=1,this.Jk=this.uc=0,this.Li=window.performance.now(),this.Ic=new Ri(this.tp,t.iceServers,ii.Km,t.gn),this.Ic.Vj=Gi(this,this.Oo),this.Ic.bl=function(t){i.Lp(t)},this.Ic.kg=function(t){Yt.i(i.kg,t)},this.Ic.ef=function(t,n){null!=i.ef&&i.ef(t,n)}}function si(t,i){this.Di=[],this.pi=[],this.ug=new bi,this.Ap=1,this.pd=this.zm=0,this.Qi=new li(50),this.sg=new li(50),this.nn=1e3,this.ek="";var n=this;ai.call(this,i.state),this.Uh=i.Ms,this.Je=i.ds;var e=null;(e=function(s){n.tf(0);var a=Si.ha();a.Ub(i.version),a.Db(i.password),n.pc=new Pi(i.ij,i.iceServers,t,ii.Km,a,i.gn),n.pc.rh=s,n.pc.zd=function(t){n.pc=null,n.pa=t,t.lg=function(t){t=new Ti(new DataView(t)),n.uq(t)},t.cf=function(){3!=n.pd&&Yt.i(n.df,Zi.ih("Connection closed")),n.ia()},t=window.setTimeout(function(){Yt.i(n.df,Zi.ih("Game state timeout")),n.ia()},1e4),n.re=t,n.tf(2)},n.pc.gl=function(){n.tf(1)};var h=!1;n.pc.Zk=function(){return h=!0},n.pc.bd=function(t){if(!s&&1==n.pd&&h)Xt.i(n.Sp),e(!0);else{var i=Pi.Do(t);switch(t.nb){case 0:t=Zi.jh;break;case 1:t=Zi.lh(t.code);break;case 2:t=Zi.hh;break;default:t=Zi.ih(i)}Yt.i(n.df,t),n.ia(i)}}})(null!=i.cn&&i.cn)}function ai(t){this.Ri=new bi,this.te=this.cc=0,this.le=new bi,this.uc=this.bc=this.rd=0,this.Ac=.06,this.mh=1,this.Ff=120,di.call(this,t)}function hi(){}function oi(){}function ri(t,i){this.Xm=0,this.version=1,this.ah=0,this.Nd=Si.ha(1e3),this.Df=Si.ha(16384);var n=this;this.version=i;var e=this.ah=t.Y;this.hj=t,t.T.ga(this.Df),t.fc=function(i){var s=t.Y;n.Df.lb(s-e),e=s,n.Df.Ub(i.P),pi.lj(i,n.Df)},this.Nd.Ub(0);var s=this.ah;t.T.km(function(i){var e=t.Y;n.Nd.lb(e-s),n.Nd.l(i),n.Xm++,s=e})}function ci(){}function li(t){this.rs=t,this.$a=[]}function ui(){}function fi(){this.da=0}function di(t){this.Y=0,this.T=t}function bi(){this.list=[]}function pi(){this.da=0}function vi(){}function gi(){}function wi(){}function mi(t,i){this.Ja=t,this.value=i,t.textContent=""+i}function yi(){}function ki(){}function xi(){}function Ci(){}function ji(){}function Si(t,i){null==i&&(i=!1),this.o=t,this.Sa=i,this.a=0}function Ti(t,i){null==i&&(i=!1),this.o=t,this.Sa=i,this.a=0}function Ai(t){this.gd=null,this.Eq=1e4,this.wd=!0;var i=this;t.Tj(),this.Ra=t.Ra,this.Vc=t.Vc,this.oe=t.oe,this.gd=t.gd,this.ym=window.performance.now();var n=null;(n=function(){var t=i.Eq-i.Br();0>=t?i.ia():(window.clearTimeout(i.Am),t=window.setTimeout(n,t+1e3),i.Am=t)})(),this.Ra.oniceconnectionstatechange=function(){var t=i.Ra.iceConnectionState;"closed"!=t&&"failed"!=t||i.ia()},t=0;for(var e=this.Vc;t<e.length;){var s=e[t];++t,s.onmessage=function(t){i.wd&&(i.ym=window.performance.now(),null!=i.lg&&i.lg(t.data))},s.onclose=function(){i.ia()}}}function Li(){}function Ri(t,i,n,e){this.th=new Set,this.If=new Set,this.Ag=this.nf=this.dm=!1,this.Mc=null,this.$="",this.$q=5e4,this.Zq=1e4,this.od=new Map,this.xr=t,this.Vf=i,this.In=n,this.Dg=e,null==this.Dg&&(this.Dg=""),this.Ji()}function Mi(t,i,n){this.gd=this.re=null,this.oe=[],this.ak=0,this.hl=!1,this.Uf=[],this.Vc=[];var e=this;for(this.Ra=new RTCPeerConnection({iceServers:i},Mi.Yn),this.Sh=new Promise(function(t){e.Vo=t}),this.Ra.onicecandidate=function(t){null==t.candidate?e.Vo(e.Uf):null!=(t=t.candidate).candidate&&""!=t.candidate&&(null!=e.jg&&e.jg(t),e.Uf.push(t))},i=0;i<n.length;)this.co(n[i++]);this.$=t}function Pi(t,i,n,e,s,a){this.rh=this.yh=!1;var h=this;this.pa=new Mi(0,i,e),this.pa.bd=function(){h.Oe(Vi.jh)},this.pa.zd=function(){null!=h.zd&&h.zd(new Ai(h.pa)),h.pa=null,h.Uj()},this.pa.di=function(i){h.jr=i,h.X=new WebSocket(t+"client?id="+n+(null==a?"":"&token="+a)),h.X.binaryType="arraybuffer",h.X.onclose=function(t){h.yh||h.Oe(Vi.lh(t.code))},h.X.onerror=function(){h.yh||h.Oe(Vi.Error)},h.X.onmessage=Gi(h,h.Ph),h.X.onopen=function(){null!=h.gl&&h.gl(),h.pa.Mi(),h.Bi(h.jr,h.pa.Uf,s),h.pa.jg=Gi(h,h.yi),h.pa.Sh.then(function(){h.Nc(0,null)})}},this.pa.eo()}function Ii(){this.hash=0}function Bi(){}function Ui(){}function qi(){}function Di(){}function Oi(){}function Fi(t,i){this.r=new RegExp(t,i.split("u").join(""))}function Ei(){return n.Be(this,"")}function Ni(t,i){var n,e=Object.create(t);for(n in i)e[n]=i[n];return i.toString!==Object.prototype.toString&&(e.toString=i.toString),e}function Gi(t,i){return null==i?null:(null==i.oh&&(i.oh=Yi++),null==t.ej?t.ej={}:n=t.ej[i.oh],null==n&&(n=i.bind(t),t.ej[i.oh]=n),n);var n}var Ki,Hi=Hi||{};Fi.b=!0,Fi.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.nc=this.r.exec(t),this.r.bh=t,null!=this.r.nc},Wm:function(t){if(null!=this.r.nc&&0<=t&&t<this.r.nc.length)return this.r.nc[t];throw new e("EReg::matched")},ps:function(){if(null==this.r.nc)throw new e("No string matched");return{mj:this.r.nc.index,ms:this.r.nc[0].length}},os:function(t,i,n){return null==n&&(n=-1),this.r.global?(this.r.lastIndex=i,this.r.nc=this.r.exec(0>n?t:Oi.substr(t,0,i+n)),(i=null!=this.r.nc)&&(this.r.bh=t),i):((n=this.match(0>n?Oi.substr(t,i,null):Oi.substr(t,i,n)))&&(this.r.bh=t,this.r.nc.index+=i),n)},f:Fi},Oi.b=!0,Oi.bj=function(t,i){var n=t.charCodeAt(i);if(n==n)return n},Oi.substr=function(t,i,n){if(null==n)n=t.length;else if(0>n){if(0!=i)return"";n=t.length+n}return t.substr(i,n)},Oi.remove=function(t,i){var n=t.indexOf(i);return-1!=n&&(t.splice(n,1),!0)},Math.b=!0,Di.b=!0,Di.Mm=function(t){var i=[];if(null!=t){var n,e=Object.prototype.hasOwnProperty;for(n in t)"__id__"!=n&&"hx__closures__"!=n&&e.call(t,n)&&i.push(n)}return i},qi.b=!0,qi.ye=function(t){return n.Be(t,"")},qi.parseInt=function(t){return t=parseInt(t,!t||"0"!=t[0]||"x"!=t[1]&&"X"!=t[1]?10:16),isNaN(t)?null:t},Ui.b=!0,Ui.startsWith=function(t,i){return t.length>=i.length&&Oi.substr(t,0,i.length)==i},Ui.ls=function(t,i){var n=Oi.bj(t,i);return 8<n&&14>n||32==n},Ui.Gs=function(t){for(var i=t.length,n=0;n<i&&Ui.ls(t,i-n-1);)++n;return 0<n?Oi.substr(t,0,i-n):t},Ui.Af=function(t){var i,n="";for(i=2-t.length;n.length<i;)n+="0";return n+(null==t?"null":""+t)},Ui.replace=function(t,i,n){return t.split(i).join(n)},Ui.Vg=function(t,i){for(var n="";n="0123456789ABCDEF".charAt(15&t)+n,0<(t>>>=4););if(null!=i)for(;n.length<i;)n="0"+n;return n},Bi.b=!0,Bi.Qc=function(t,i){return t.length<=i?t:Oi.substr(t,0,i)},Bi.Zr=function(t){for(var i="",n=0,e=t.byteLength;n<e;)i+=Ui.Vg(t[n++],2);return i},Ii.b=!0,Ii.prototype={Yr:function(t){for(var i=0,n=t.length;i<n;)this.hash+=t[i++],this.hash+=this.hash<<10,this.hash^=this.hash>>>6},f:Ii};var Vi=Hi["bas.basnet.FailReason"]={Gf:!0,nh:["PeerFailed","Rejected","Cancelled","Error"],jh:{nb:0,eb:"bas.basnet.FailReason",toString:Ei},lh:(Ki=function(t){return{nb:1,code:t,eb:"bas.basnet.FailReason",toString:Ei}},Ki.Ae=["code"],Ki),hh:{nb:2,eb:"bas.basnet.FailReason",toString:Ei},Error:{nb:3,eb:"bas.basnet.FailReason",toString:Ei}};Pi.b=!0,Pi.Do=function(t){switch(t.nb){case 0:return"Failed";case 1:return Wi.description(t.code);case 2:return"";case 3:return"Master connection error"}},Pi.prototype={Gn:function(){this.Oe(Vi.hh)},Uj:function(){null!=this.X&&(this.X.onclose=null,this.X.onmessage=null,this.X.onerror=null,this.X.onopen=null,this.X.close(),this.X=null),null!=this.pa&&(this.pa.ia(),this.pa=null)},Oe:function(t){null!=this.bd&&this.bd(t),this.Uj()},Ph:function(t){var i=(t=new Ti(new DataView(t.data))).B();switch(0<t.o.byteLength-t.a&&(t=new Ti(new DataView(pako.inflateRaw(t.sb()).buffer),!1)),i){case 1:i=t.ic();for(var n=t.wg(),e=[],s=0;s<n.length;)e.push(new RTCIceCandidate(n[s++]));this.Oh(i,e,t);break;case 4:this.Nh(new RTCIceCandidate(t.wg()))}},Oh:function(t,i){var n=this;this.pa.Mi(this.rh?1e4:4e3),this.yh=!0,null!=this.Zk&&this.Zk(),this.pa.Ra.setRemoteDescription(new RTCSessionDescription({sdp:t,type:"answer"}),function(){for(var t=0;t<i.length;)n.pa.Ra.addIceCandidate(i[t++])},function(){n.Oe(Vi.Error)})},Nh:function(t){this.pa.Ra.addIceCandidate(t)},Nc:function(t,i){if(null!=this.X){var n=Si.ha(32,!1);n.l(t),null!=i&&n.Vb(pako.deflateRaw(i.Sb())),this.X.send(n.Hd())}},Bi:function(t,i,n){var e=Si.ha(32,!1);e.l(this.rh?1:0),e.mc(t.sdp),e.Ng(i),null!=n&&e.Vb(n.Sb()),this.Nc(1,e)},yi:function(t){var i=Si.ha(32,!1);i.Ng(t),this.Nc(4,i)},f:Pi},Mi.b=!0,Mi.prototype={Mi:function(t){null==t&&(t=1e4),window.clearTimeout(this.re),this.re=window.setTimeout(Gi(this,this.To),t)},bo:function(t,i){var n=this;this.ck(this.Ra.setRemoteDescription(t).then(function(){return n.Ra.createAnswer()}),i,500)},eo:function(){this.ck(this.Ra.createOffer(),[],1e3)},ck:function(t,i,n){var e=this;t.then(function(t){return e.Ra.setLocalDescription(t).then(function(){return t})}).then(function(t){function s(){return t}for(var a=0;a<i.length;)e.yj(i[a++]);return vi.Dr(e.Sh,n).then(s,s)}).then(function(t){e.di(t)}).catch(function(){e.Tf()})},co:function(t){var i=this,n={id:this.Vc.length,negotiated:!0,ordered:t.kj};t.reliable||(n.maxRetransmits=0),(t=this.Ra.createDataChannel(t.name,n)).binaryType="arraybuffer",t.onopen=function(){for(var t=0,n=i.Vc;t<n.length;)if("open"!=n[t++].readyState)return;null!=i.zd&&i.zd()},t.onclose=function(){i.Tf()},t.onmessage=function(){i.Tf()},this.Vc.push(t)},yj:function(t){var i=this;window.setTimeout(function(){return i.Ra.addIceCandidate(t)},this.ak)},To:function(){this.Tf()},Tf:function(){null!=this.bd&&this.bd(),this.ia()},ia:function(){this.Tj(),this.Ra.close()},Tj:function(){window.clearTimeout(this.re),this.di=this.zd=this.jg=this.bd=null,this.Ra.onicecandidate=null,this.Ra.ondatachannel=null,this.Ra.onsignalingstatechange=null,this.Ra.oniceconnectionstatechange=null;for(var t=0,i=this.Vc;t<i.length;){var n=i[t];++t,n.onopen=null,n.onclose=null,n.onmessage=null}},f:Mi};var Ji=Hi["bas.basnet.ConnectionRequestResponse"]={Gf:!0,nh:["Accept","Reject"],hn:{nb:0,eb:"bas.basnet.ConnectionRequestResponse",toString:Ei},kh:(Ki=function(t){return{nb:1,reason:t,eb:"bas.basnet.ConnectionRequestResponse",toString:Ei}},Ki.Ae=["reason"],Ki)};Ri.b=!0,Ri.vk=function(t){try{var i=Li.gf(t.candidate);if("srflx"==i.Jr)return i.Xo}catch(t){}return null},Ri.prototype={ia:function(){window.clearTimeout(this.Ul),window.clearTimeout(this.ke),this.ke=null,window.clearInterval(this.ol),this.X.onmessage=null,this.X.onerror=null,this.X.onclose=null,this.X.onopen=null,this.X.close(),this.X=null,this.qk()},Fi:function(t){var i=this;if(null!=this.Mc||null!=t){if(null!=this.Mc&&null!=t&&this.Mc.byteLength==t.byteLength){for(var n=new Uint8Array(this.Mc),e=new Uint8Array(t),s=!1,a=0,h=this.Mc.byteLength;a<h;){var o=a++;if(n[o]!=e[o]){s=!0;break}}if(!s)return}this.Mc=t.slice(0),this.Ag=!0,null!=this.X&&1==this.X.readyState&&null==this.ke&&(this.Ai(),this.ke=window.setTimeout(function(){i.ke=null,1==i.X.readyState&&i.Ag&&i.Ai()},1e4))}},Ei:function(t){function i(){null!=n.X&&1==n.X.readyState&&n.nf!=n.dm&&n.cm(),n.Ql=null}var n=this;this.nf=t,null==this.Ql&&(i(),this.Ql=window.setTimeout(i,1e3))},Ji:function(t){null==t&&(t="");var i=this;zt.zl(this.xr,"token="+this.Dg+"&rcr="+t,zt.vj).then(function(t){switch(t.action){case"connect":!function(t){var n=t.url;if(null==n)throw new e(null);if(null==(t=t.token))throw new e(null);i.X=new WebSocket(n+"?token="+t),i.X.binaryType="arraybuffer",i.X.onopen=function(){i.So()},i.X.onclose=function(t){i.Mh(4001!=t.code)},i.X.onerror=function(){i.Mh(!0)},i.X.onmessage=Gi(i,i.Ph)}(t);break;case"recaptcha":!function(t){if(null==(t=t.sitekey))throw new e(null);null!=i.ef&&i.ef(t,function(t){i.Ji(t)})}(t)}}).catch(function(){i.Mh(!0)})},So:function(){var t=this;null!=this.Mc&&this.Ai(),0!=this.nf&&this.cm(),this.ol=window.setInterval(function(){t.zi()},4e4)},Ph:function(t){switch((t=new Ti(new DataView(t.data),!1)).B()){case 1:this.Oh(t);break;case 4:this.Nh(t);break;case 5:this.No(t);break;case 6:this.Qo(t)}},Oh:function(t){var i,n,e,s=t.hb(),a=Bi.Zr(t.sb(t.B()));try{i=0!=(t=new Ti(new DataView(pako.inflateRaw(t.sb()).buffer),!1)).B(),n=t.ic();for(var h=t.wg(),o=[],r=0;r<h.length;)o.push(new RTCIceCandidate(h[r++]));e=o}catch(t){return void this.sf(s,0)}this.Ro(s,a,n,e,t,i)},Ro:function(t,i,n,e,s,a){var h=this;if(16<=this.od.size)this.sf(t,4104);else if(this.th.has(i))this.sf(t,4102);else{for(var o=[],r=0;r<e.length;){var c=Ri.vk(e[r++]);if(null!=c){if(this.If.has(c))return void this.sf(t,4102);o.push(c)}}if(null!=this.Vj&&((r=new Ti(s.o)).a=s.a,1==(s=this.Vj(i,r)).nb))return void this.sf(t,s.reason);var l=new Mi(t,this.Vf,this.In);a&&(l.ak=2500),l.oe=o,l.gd=i,this.od.set(t,l),l.bd=function(){h.Nc(0,l,null),h.od.delete(l.$)},l.zd=function(){h.od.delete(l.$),h.Nc(0,l,null),null!=h.bl&&h.bl(new Ai(l))},l.di=function(t){h.Bi(l,t,l.Uf,null),l.Sh.then(function(){h.Nc(0,l,null)}),l.jg=function(t){h.yi(l,t)}},l.Mi(),l.bo(new RTCSessionDescription({sdp:n,type:"offer"}),e)}},Nh:function(t){var i,n=t.hb();try{t=new Ti(new DataView(pako.inflateRaw(t.sb()).buffer),!1),i=new RTCIceCandidate(t.wg())}catch(t){return}this.Mo(n,i)},Mo:function(t,i){var n=this.od.get(t);if(null!=n){var e=Ri.vk(i);if(null!=e&&(n.oe.push(e),this.If.has(e)))return;n.yj(i)}},No:function(t){this.$=t.ie(t.B()),null!=this.kg&&this.kg(this.$)},Qo:function(t){this.Dg=t.ie(t.o.byteLength-t.a)},Nc:function(t,i,n){if(!i.hl){0==t&&(i.hl=!0),i=i.$;var e=Si.ha(32,!1);e.l(t),e.tb(i),null!=n&&e.Vb(pako.deflateRaw(n.Sb())),this.X.send(e.Hd())}},sf:function(t,i){var n=Si.ha(16,!1);n.l(0),n.tb(t),n.Ub(i),this.X.send(n.Hd())},zi:function(){var t=Si.ha(1,!1);t.l(8),this.X.send(t.Hd())},Ai:function(){this.Ag=!1;var t=Si.ha(256,!1);t.l(7),null!=this.Mc&&t.Mg(this.Mc),this.X.send(t.Hd())},cm:function(){var t=Si.ha(2,!1);t.l(9),t.l(this.nf?1:0),this.X.send(t.Hd()),this.dm=this.nf},Bi:function(t,i,n,e){var s=Si.ha(32,!1);s.mc(i.sdp),s.Ng(n),null!=e&&s.Vb(e.Sb()),this.Nc(1,t,s)},yi:function(t,i){var n=Si.ha(32,!1);n.Ng(i),this.Nc(4,t,n)},qk:function(){for(var t=this.od.values(),i=t.next();!i.done;){var n=i.value;i=t.next();n.ia()}this.od.clear()},Mh:function(t){var i=this;this.qk(),window.clearTimeout(this.ke),this.ke=null,this.Ag=!1,window.clearInterval(this.ol),window.clearTimeout(this.Ul),t&&(this.Ul=window.setTimeout(function(){i.Ji()},this.Zq+Math.random()*this.$q|0))},zn:function(t){for(var i=0,n=t.oe;i<n.length;)this.If.add(n[i++]);return null!=t.gd&&this.th.add(t.gd),{Rs:t.oe,Ps:t.gd}},Ud:function(){this.If.clear(),this.th.clear()},f:Ri},Li.b=!0,Li.gf=function(t){if("typ"!=(t=t.split(" "))[6])throw new e(null);return{Jr:t[7],Xo:t[4]}},Ai.b=!0,Ai.prototype={Br:function(){return window.performance.now()-this.ym},Rb:function(t,i){if(this.wd){var n=this.Vc[t];if("open"==n.readyState){var s=i.Kg();try{n.send(s)}catch(t){window.console.log(t instanceof e?t.Ta:t)}}}},ia:function(){window.clearTimeout(this.Am),this.wd&&(this.wd=!1,this.Ra.close(),null!=this.cf&&this.cf())},f:Ai};var Wi={b:!0,description:function(t){switch(t){case 4001:return"The room was closed.";case 4100:return"The room is full.";case 4101:return"Wrong password.";case 4102:return"You are banned from this room.";case 4103:return"Incompatible game version.";default:return"Connection closed ("+t+")"}}};Ti.b=!0,Ti.jo=function(t,i){var n=t.getUint8(i),s=i;if(0==(128&n))++i;else if(192==(224&n))n=(31&n)<<6|63&t.getUint8(i+1),i+=2;else if(224==(240&n))n=(15&n)<<12|(63&t.getUint8(i+1))<<6|63&t.getUint8(i+2),i+=3;else if(240==(248&n))n=(7&n)<<18|(63&t.getUint8(i+1))<<12|(63&t.getUint8(i+2))<<6|63&t.getUint8(i+3),i+=4;else if(248==(252&n))n=(3&n)<<24|(63&t.getUint8(i+1))<<18|(63&t.getUint8(i+2))<<12|(63&t.getUint8(i+3))<<6|63&t.getUint8(i+4),i+=5;else{if(252!=(254&n))throw new e("Cannot decode UTF8 character at offset "+i+": charCode ("+n+") is invalid");n=(1&n)<<30|(63&t.getUint8(i+1))<<24|(63&t.getUint8(i+2))<<18|(63&t.getUint8(i+3))<<12|(63&t.getUint8(i+4))<<6|63&t.getUint8(i+5),i+=6}return{char:n,length:i-s}},Ti.prototype={sb:function(t){if(null==t&&(t=this.o.byteLength-this.a),this.a+t>this.o.byteLength)throw new e("Read too much");var i=new Uint8Array(this.o.buffer,this.o.byteOffset+this.a,t);return this.a+=t,i},Cl:function(t){var i=this.sb(t);return t=new ArrayBuffer(t),new Uint8Array(t).set(i),t},lf:function(){return this.o.getInt8(this.a++)},B:function(){return this.o.getUint8(this.a++)},ni:function(){var t=this.o.getInt16(this.a,this.Sa);return this.a+=2,t},Ob:function(){var t=this.o.getUint16(this.a,this.Sa);return this.a+=2,t},M:function(){var t=this.o.getInt32(this.a,this.Sa);return this.a+=4,t},hb:function(){var t=this.o.getUint32(this.a,this.Sa);return this.a+=4,t},mi:function(){var t=this.o.getFloat32(this.a,this.Sa);return this.a+=4,t},u:function(){var t=this.o.getFloat64(this.a,this.Sa);return this.a+=8,t},Ab:function(){for(var t,i=this.a,n=0,e=0;t=this.o.getUint8(i+n),5>n&&(e|=(127&t)<<7*n>>>0),++n,0!=(128&t););return this.a+=n,0|e},ie:function(t){var i,n=this.a,s="";for(t=n+t;n<t;)n+=(i=Ti.jo(this.o,n)).length,s+=String.fromCodePoint(i.char);if(n!=t)throw new e("Actual string length differs from the specified: "+(n-t)+" bytes");return this.a=n,s},zb:function(){var t=this.Ab();return 0>=t?null:this.ie(t-1)},ic:function(){return this.ie(this.Ab())},El:function(){return this.ie(this.B())},wg:function(){var t=this.ic();return JSON.parse(t)},f:Ti},Si.b=!0,Si.ha=function(t,i){return null==i&&(i=!1),null==t&&(t=16),new Si(new DataView(new ArrayBuffer(t)),i)},Si.uo=function(t,i,n){var s=n;if(0>t)throw new e("Cannot encode UTF8 character: charCode ("+t+") is negative");if(128>t)i.setUint8(n,127&t),++n;else if(2048>t)i.setUint8(n,t>>6&31|192),i.setUint8(n+1,63&t|128),n+=2;else if(65536>t)i.setUint8(n,t>>12&15|224),i.setUint8(n+1,t>>6&63|128),i.setUint8(n+2,63&t|128),n+=3;else if(2097152>t)i.setUint8(n,t>>18&7|240),i.setUint8(n+1,t>>12&63|128),i.setUint8(n+2,t>>6&63|128),i.setUint8(n+3,63&t|128),n+=4;else if(67108864>t)i.setUint8(n,t>>24&3|248),i.setUint8(n+1,t>>18&63|128),i.setUint8(n+2,t>>12&63|128),i.setUint8(n+3,t>>6&63|128),i.setUint8(n+4,63&t|128),n+=5;else{if(!(-2147483648>t))throw new e("Cannot encode UTF8 character: charCode ("+t+") is too large (>= 0x80000000)");i.setUint8(n,t>>30&1|252),i.setUint8(n+1,t>>24&63|128),i.setUint8(n+2,t>>18&63|128),i.setUint8(n+3,t>>12&63|128),i.setUint8(n+4,t>>6&63|128),i.setUint8(n+5,63&t|128),n+=6}return n-s},Si.En=function(t){if(0>t)throw new e("Cannot calculate length of UTF8 character: charCode ("+t+") is negative");if(128>t)return 1;if(2048>t)return 2;if(65536>t)return 3;if(2097152>t)return 4;if(67108864>t)return 5;if(-2147483648>t)return 6;throw new e("Cannot calculate length of UTF8 character: charCode ("+t+") is too large (>= 0x80000000)")},Si.Kf=function(t){for(var i=0,n=t.length,e=0;e<n;)i+=Si.En(Oi.bj(t,e++));return i},Si.Fn=function(t){return 128>(t>>>=0)?1:16384>t?2:2097152>t?3:268435456>t?4:5},Si.prototype={Kg:function(){var t=new ArrayBuffer(this.a),i=new Uint8Array(this.o.buffer,this.o.byteOffset,this.a);return new Uint8Array(t).set(i),t},Sb:function(){return new Uint8Array(this.o.buffer,this.o.byteOffset,this.a)},Hd:function(){return new DataView(this.o.buffer,this.o.byteOffset,this.a)},Gr:function(){return new Ti(this.Hd(),this.Sa)},rc:function(t){this.o.byteLength<t&&this.Yq(2*this.o.byteLength>=t?2*this.o.byteLength:t)},Yq:function(t){if(1>t)throw new e("Can't resize buffer to a capacity lower than 1");if(this.o.byteLength<t){var i=new Uint8Array(this.o.buffer);t=new ArrayBuffer(t),new Uint8Array(t).set(i),this.o=new DataView(t)}},l:function(t){var i=this.a++;this.rc(this.a),this.o.setUint8(i,t)},Xi:function(t){var i=this.a;this.a+=2,this.rc(this.a),this.o.setInt16(i,t,this.Sa)},Ub:function(t){var i=this.a;this.a+=2,this.rc(this.a),this.o.setUint16(i,t,this.Sa)},O:function(t){var i=this.a;this.a+=4,this.rc(this.a),this.o.setInt32(i,t,this.Sa)},tb:function(t){var i=this.a;this.a+=4,this.rc(this.a),this.o.setUint32(i,t,this.Sa)},Wi:function(t){var i=this.a;this.a+=4,this.rc(this.a),this.o.setFloat32(i,t,this.Sa)},s:function(t){var i=this.a;this.a+=8,this.rc(this.a),this.o.setFloat64(i,t,this.Sa)},Vb:function(t){var i=this.a;this.a+=t.byteLength,this.rc(this.a),new Uint8Array(this.o.buffer,this.o.byteOffset,this.o.byteLength).set(t,i)},Mg:function(t){this.Vb(new Uint8Array(t))},mc:function(t){this.lb(Si.Kf(t)),this.Og(t)},Db:function(t){null==t?this.lb(0):(this.lb(Si.Kf(t)+1),this.Og(t))},Im:function(t){var i=Si.Kf(t);if(255<i)throw new e(null);this.l(i),this.Og(t)},Ng:function(t){this.mc(JSON.stringify(t))},Og:function(t){var i=this.a;this.rc(i+Si.Kf(t));for(var n=t.length,e=0;e<n;)i+=Si.uo(Oi.bj(t,e++),this.o,i);this.a=i},lb:function(t){var i=this.a;t>>>=0,this.rc(i+Si.Fn(t)),this.o.setUint8(i,128|t),128<=t?(this.o.setUint8(i+1,t>>7|128),16384<=t?(this.o.setUint8(i+2,t>>14|128),2097152<=t?(this.o.setUint8(i+3,t>>21|128),268435456<=t?(this.o.setUint8(i+4,t>>28&127),t=5):(this.o.setUint8(i+3,127&this.o.getUint8(i+3)),t=4)):(this.o.setUint8(i+2,127&this.o.getUint8(i+2)),t=3)):(this.o.setUint8(i+1,127&this.o.getUint8(i+1)),t=2)):(this.o.setUint8(i,127&this.o.getUint8(i)),t=1),this.a+=t},f:Si},ji.b=!0,ji.yo=function(){try{return window.crypto.subtle.generateKey(ji.qh,!0,["sign","verify"]).then(function(t){var i=t.privateKey;return window.crypto.subtle.exportKey("jwk",i).then(function(t){var n=t.y,e=t.d,s=new ji;return s.Yi=t.x,s.Zi=n,s.Zj=e,s.Al=i,s})})}catch(t){return Promise.reject(t instanceof e?t.Ta:t)}},ji.xo=function(t){if(4!=(t=t.split(".")).length||"idkey"!=t[0])return Promise.reject("Invalid id format");var i=t[1],n=t[2],e=t[3];return ji.Xr(i,n,e).then(function(t){var s=new ji;return s.Yi=i,s.Zi=n,s.Zj=e,s.Al=t,s})},ji.Rr=function(t,i){try{(c=new Ti(new DataView(t.buffer,t.byteOffset,t.byteLength),!1)).B();var n=c.sb(c.Ob()),s=c.sb(),a=new Ti(new DataView(n.buffer,n.byteOffset,n.byteLength),!1),h=a.ic(),o=a.ic(),r=a.sb();if(r.byteLength!=i.byteLength)return Promise.reject(null);for(var c=0,l=r.byteLength;c<l;){var u=c++;if(r[u]!=i[u])return Promise.reject(null)}return ji.Wr(h,o).then(function(t){return window.crypto.subtle.verify(ji.mm,t,s,n)}).then(function(t){if(!t)throw new e(null);return h})}catch(t){return Promise.reject(t instanceof e?t.Ta:t)}},ji.Xr=function(t,i,n){try{return window.crypto.subtle.importKey("jwk",{crv:"P-256",ext:!0,key_ops:["sign"],kty:"EC",d:n,x:t,y:i},ji.qh,!0,["sign"])}catch(t){return Promise.reject(t instanceof e?t.Ta:t)}},ji.Wr=function(t,i){try{return window.crypto.subtle.importKey("jwk",{crv:"P-256",ext:!0,key_ops:["verify"],kty:"EC",x:t,y:i},ji.qh,!0,["verify"])}catch(t){return Promise.reject(t instanceof e?t.Ta:t)}},ji.prototype={Ir:function(){return"idkey."+this.Yi+"."+this.Zi+"."+this.Zj},wr:function(t){try{var i=Si.ha(1024);i.l(1);var n=i.a;i.Ub(0);var s=i.a;i.mc(this.Yi),i.mc(this.Zi),i.Vb(t);var a=i.a-s;i.o.setUint16(n,a,i.Sa);var h=new Uint8Array(i.o.buffer,i.o.byteOffset+s,a);return window.crypto.subtle.sign(ji.mm,this.Al,h).then(function(t){return i.Mg(t),i.Sb()})}catch(t){return Promise.reject(t instanceof e?t.Ta:t)}},f:ji},Ci.b=!0,Ci.gp=function(){return null!=Ci.li?Ci.li:(Ci.li=new Promise(function(t,i){var n=window.grecaptcha;null!=n?t(n):((n=window.document.createElement("script")).src="https://www.google.com/recaptcha/api.js?onload=___recaptchaload&render=explicit",window.document.head.appendChild(n),window.___recaptchaload=function(){t(window.grecaptcha)},n.onerror=function(){i(null)})}),Ci.li)},xi.b=!0,xi.cg=function(t){return new PerfectScrollbar(t,{handlers:xi.Uo})},ki.b=!0,ki.ts=function(){(i=window).RTCPeerConnection=i.webkitRTCPeerConnection||i.mozRTCPeerConnection||i.RTCPeerConnection,i.RTCIceCandidate=i.webkitRTCIceCandidate||i.mozRTCIceCandidate||i.RTCIceCandidate,i.RTCSessionDescription=i.webkitRTCSessionDescription||i.mozRTCSessionDescription||i.RTCSessionDescription;var t=new RTCPeerConnection({iceServers:[]});try{t.createAnswer().catch(function(){})}catch(t){var i,n=(i=i.RTCPeerConnection.prototype).createOffer,e=i.createAnswer;i.createOffer=function(t){var i=this;return new Promise(function(e,s){n.call(i,e,s,t)})},i.createAnswer=function(t){var i=this;return new Promise(function(n,s){e.call(i,n,s,t)})}}},yi.b=!0,yi.ar=function(t,i){yi.Xl(new Blob([t],{type:"octet/stream"}),i)},yi.br=function(t,i){yi.Xl(new Blob([t],{type:"text/plain"}),i)},yi.Xl=function(t,i){var n=window.document.createElement("a");n.style.display="display: none",window.document.body.appendChild(n);var e=URL.createObjectURL(t);n.href=e,n.download=i,n.click(),URL.revokeObjectURL(e),n.remove()},mi.b=!0,mi.prototype={set:function(t){this.value!=t&&(this.value=t,this.Ja.textContent=""+this.value)},f:mi},wi.b=!0,wi.Ea=function(t){var i=new Map,n=0;for(t=t.querySelectorAll("[data-hook]");n<t.length;){var e=t[n++];i.set(e.getAttribute("data-hook"),e)}return i},wi.Ga=function(t,i){null==i&&(i="div");var n=window.document.createElement(i);return n.innerHTML=t,n.firstElementChild},wi.xe=function(t,i){t.parentElement.replaceChild(i,t)},wi.Cf=function(t){for(var i=t.firstChild;null!=i;)t.removeChild(i),i=t.firstChild},gi.b=!0,gi.eh=function(t){return new Promise(function(i,n){t.onsuccess=function(){i(t.result)},t.onerror=n})},vi.b=!0,vi.Dr=function(t,i){return new Promise(function(n,e){var s=window.setTimeout(function(){e("Timed out")},i);t.then(function(t){window.clearTimeout(s),n(t)},function(t){window.clearTimeout(s),e(t)})})},pi.b=!0,pi.Fa=function(t){return null==t.Aa&&(t.Aa=!0),null==t.Ba&&(t.Ba=!0),t},pi.Ha=function(t){if(t.on=pi.yf,null==t.za)throw new e("Class doesn't have a config");t.prototype.zf=t.za,pi.Qm.set(pi.yf,t),pi.yf++},pi.lj=function(t,i){var s=(null==t?null:n.Nm(t)).on;if(null==s)throw new e("Tried to pack unregistered action");i.l(s),t.ua(i)},pi.fh=function(t){var i=t.B();return(i=Object.create(pi.Qm.get(i).prototype)).da=0,i.mb=0,i.va(t),i},pi.prototype={$m:function(){return!0},apply:function(){throw new e("missing implementation")},va:function(){throw new e("missing implementation")},ua:function(){throw new e("missing implementation")},f:pi},bi.b=!0,bi.ss=function(t,i,n){if(0==t.length)for(t=0;t<i.length;)n.push(i[t++]);else if(0==i.length)for(i=0;i<t.length;)n.push(t[i++]);else for(var e=0,s=t.length,a=0,h=i.length;;){var o=t[e],r=i[a];if(o.mb<=r.mb){if(n.push(o),++e>=s){for(;a<h;)n.push(i[a++]);break}}else if(n.push(r),++a>=h){for(;e<s;)n.push(t[e++]);break}}},bi.prototype={Rm:function(t){for(var i=0,n=t.mb,e=t.da,s=0,a=this.list;s<a.length;){var h=a[s];++s;var o=h.mb;if(o>n)break;if(o==n){if((h=h.da)>e)break;h==e&&++e}++i}t.da=e,this.list.splice(i,0,t)},Cs:function(t){for(var i=0,n=0,e=this.list;n<e.length&&!(e[n++].mb>=t);)++i;this.list.splice(0,i)},as:function(t,i){for(var n=this.list;0<n.length;)n.pop();bi.ss(t.list,i.list,this.list)},Ds:function(t){for(var i=0,n=this.list,e=0,s=n.length;e<s;){var a=n[e++];a.ue!=t&&(n[i]=a,++i)}for(;n.length>i;)n.pop()},bs:function(t){for(var i=0,n=0,e=this.list;n<e.length&&!(e[n++].mb>=t);)++i;return i},f:bi},di.b=!0,di.prototype={f:di},fi.b=!0,fi.ma=pi,fi.prototype=Ni(pi.prototype,{apply:function(t){t.Sn(this.Rg)},ua:function(t){t.lb(this.Rg.byteLength),t.Mg(this.Rg)},va:function(t){this.Rg=t.Cl(t.Ab())},f:fi}),ui.b=!0,ui.prototype={f:ui},li.b=!0,li.prototype={add:function(t){for(var i=this.$a.length,n=0,e=this.Qd=0;e<i;){var s=e++,a=this.$a[s];a.index++,a.weight*=.97,this.$a[n].index<a.index&&(n=s),this.Qd+=a.weight}for(i>=this.rs?(i=this.$a[n],this.Qd-=i.weight,this.$a.splice(n,1)):i=new ci,i.value=t,i.weight=1,i.index=0,this.Qd+=i.weight,t=0;t<this.$a.length&&this.$a[t].value<=i.value;)++t;this.$a.splice(t,0,i)},$g:function(t){if(0==this.$a.length)return 0;if(1==this.$a.length)return this.$a[0].value;t*=this.Qd;for(var i=this.$a[0].weight,n=0;n<this.$a.length-1&&!(i>=t);)++n,i+=this.$a[n].weight;return this.$a[n].value},max:function(){return 0==this.$a.length?0:this.$a[this.$a.length-1].value},f:li},ci.b=!0,ci.prototype={f:ci},ri.b=!0,ri.prototype={stop:function(){this.hj.fc=null,this.hj.T.km(null),this.Nd.o.setUint16(0,this.Xm,this.Nd.Sa),this.Nd.Vb(this.Df.Sb());var t=pako.deflateRaw(this.Nd.Sb()),i=Si.ha(t.byteLength+32);return i.Og("HBR2"),i.tb(this.version),i.tb(this.hj.Y-this.ah),i.Vb(t),i.Sb()},f:ri},oi.b=!0,hi.b=!0,ai.b=!0,ai.ma=di,ai.prototype=Ni(di.prototype,{ra:function(){throw new e("missing implementation")},Sf:function(){throw new e("missing implementation")},C:function(){throw new e("missing implementation")},zj:function(t){for(var i=this.le.list,n=0,e=i.length,s=0;s<t;){for(++s;n<e;){var a=i[n];if(a.mb!=this.Y)break;a.apply(this.T),null!=this.fc&&this.fc(a),this.cc++,++n}this.T.C(1),this.te+=this.cc,this.cc=0,this.Y++}for(;n<e&&((t=i[n]).mb==this.Y&&t.da==this.cc);)t.apply(this.T),null!=this.fc&&this.fc(t),this.cc++,++n;i.splice(0,n)},Cg:function(t){t.mb==this.Y&&t.da<=this.cc?(t.da=this.cc++,t.apply(this.T),null!=this.fc&&this.fc(t)):this.le.Rm(t)},wk:function(t,i){if(0>=t)return this.T;t>this.Ff&&(t=this.Ff),hi.zc++;var n,e=this.T.sc();null!=i?(this.Ri.as(this.le,i),n=this.Ri):n=this.le;for(var s=0,a=(n=n.list).length,h=this.Y,o=0|t,r=h+o;h<=r;){for(;s<a;){var c=n[s];if(c.mb>h)break;c.zf.Ba&&c.apply(e),++s}e.C(h!=r?1:t-o),++h}for(n=this.Ri.list;0<n.length;)n.pop();return e},kr:function(t){300<t&&(t=300),0>t&&(t=0),this.bc=this.Ac*t|0},gm:function(t){this.rd=this.Ac*t},f:ai});var Zi=Hi["bas.marf.net.ConnFailReason"]={Gf:!0,nh:["Cancelled","PeerFailed","Rejected","Other"],hh:{nb:0,eb:"bas.marf.net.ConnFailReason",toString:Ei},jh:{nb:1,eb:"bas.marf.net.ConnFailReason",toString:Ei},lh:(Ki=function(t){return{nb:2,reason:t,eb:"bas.marf.net.ConnFailReason",toString:Ei}},Ki.Ae=["reason"],Ki),ih:(Ki=function(t){return{nb:3,description:t,eb:"bas.marf.net.ConnFailReason",toString:Ei}},Ki.Ae=["description"],Ki)};si.b=!0,si.xh=function(t){switch(t.nb){case 0:return"Cancelled";case 1:return"Failed to connect to peer.";case 2:return Wi.description(t.reason);case 3:return t.description}},si.ma=ai,si.prototype=Ni(ai.prototype,{ia:function(t){null!=this.pc&&(this.pc.bd=null,this.pc.Gn(),this.pc=null),window.clearTimeout(this.re),null!=this.pa&&(this.pa.cf=null,this.pa.ia(),this.pa=null),this.ek=null==t?"Connection closed":t,this.tf(4)},tf:function(t){this.pd!=t&&(this.pd=t,null!=this.Ad&&this.Ad(t))},wd:function(){return 3==this.pd},C:function(){this.wd()&&window.performance.now()-this.zm>this.nn&&this.zi(),this.Xc=window.performance.now()*this.Ac+this.Qi.$g(.5)-this.Y,this.Oj()},Sf:function(){return this.wd()?(0>this.bc&&(this.bc=0),this.wk(window.performance.now()*this.Ac+this.Qi.$g(.5)-this.Y+this.bc+this.rd,this.ug)):this.T},Oj:function(){0>this.Xc&&(this.Xc=0),this.Xc>this.Ff&&(this.Xc=this.Ff)},uq:function(t){switch(t.B()){case 0:this.rq(t);break;case 1:this.qq(t);break;case 2:this.nq(t);break;case 3:this.wq(t);break;case 4:this.tq(t);break;case 5:this.pq(t);break;case 6:this.vq(t)}},rq:function(t){var i=this;t=t.sb(t.Ab());var n=Promise.resolve(null);null!=this.Je&&(n=this.Je.wr(t)),n.catch(function(){return null}).then(function(t){i.ir(t)})},qq:function(t){for(t=pako.inflateRaw(t.sb()),t=new Ti(new DataView(t.buffer,t.byteOffset,t.byteLength)),this.uc=t.Ob(),this.Y=t.hb(),this.te=t.hb(),this.cc=t.Ab(),this.Xc=10,this.T.ja(t);0<t.o.byteLength-t.a;)this.Cg(this.Gm(t));window.clearTimeout(this.re),this.tf(3)},ir:function(t){var i=Si.ha();i.l(0),null!=t?(i.lb(t.byteLength),i.Vb(t)):i.lb(0),i.lb(this.Uh.byteLength),i.Mg(this.Uh),this.Rb(i),this.Uh=null},Rb:function(t,i){null==i&&(i=0),this.pa.Rb(i,t)},Gm:function(t){var i=t.hb(),n=t.Ab(),e=t.Ob(),s=t.hb();return(t=pi.fh(t)).P=e,t.ue=s,t.mb=i,t.da=n,t},nq:function(t){t=this.Gm(t),this.Cg(t),t.P==this.uc&&this.ug.Ds(t.ue),this.Bl()},vq:function(t){(t=pi.fh(t)).P=0,t.ue=0,t.apply(this.T),null!=this.fc&&this.fc(t)},wq:function(t){var i=t.hb();t=t.hb(),this.pi.push({frame:i,yf:t}),this.Bl()},Bl:function(){if(3==this.pd){for(var t=0,i=this.pi;t<i.length;){var n=i[t];++t,n.frame<=this.Y||n.yf==this.te+this.cc+this.le.bs(n.frame)&&this.vn(n.frame-this.Y)}t=0,n=0;for(var e=(i=this.pi).length;n<e;){var s=i[n++];s.frame>this.Y&&(i[t]=s,++t)}for(;i.length>t;)i.pop();this.ug.Cs(this.Y)}},pq:function(t){var i=0!=t.B(),n=t.ic(),e="";0<t.o.byteLength-t.a&&(e=t.ic()),t=i?"You were banned":"You were kicked",""!=e&&(t+=" by "+e),""!=n&&(t+=" ("+n+")"),this.ia(t)},tq:function(t){var i=t.u();t=t.u();var n=window.performance.now()-t;this.Qi.add(i-t*this.Ac),this.sg.add(n);for(var e=i=0,s=this.Di;e<s.length;){var a=s[e];if(++e,a>t)break;a<t?Yt.i(this.dl,-1):Yt.i(this.dl,n),++i}this.Di.splice(0,i)},zi:function(){var t=window.performance.now();this.zm=t,this.Di.push(t);var i=0|this.sg.$g(.5),n=Si.ha();n.l(2),n.s(t),n.lb(i),this.Rb(n,2)},vn:function(t){this.zj(t),this.Xc-=t,this.Oj()},ra:function(t){if(3==this.pd){var i=this.Ap++,n=0;0>this.bc&&(this.bc=0),t.zf.Aa&&(n=this.Y+(0|this.Xc)+this.bc);var e=Si.ha();e.l(1),e.tb(n),e.tb(i),pi.lj(t,e),this.Rb(e),t.zf.Ba&&(t.ue=i,t.P=this.uc,t.mb=n,this.ug.Rm(t))}},f:si}),ei.b=!0,ei.ma=ai,ei.prototype=Ni(ai.prototype,{ia:function(){this.Ic.ia();for(var t=0,i=this.ac;t<i.length;){var n=i[t++].pa;n.cf=null,n.lg=null,n.ia()}},to:function(t,i,n,e){var s=this.Ie.get(t);if(null!=s){if(e){var a=this.Ic.zn(s.pa);this.Kj.set(t,a)}(t=Si.ha()).l(5),t.l(e?1:0),t.mc(i),null==n&&(n=""),t.mc(n),s.Rb(t),s.pa.ia()}},Ud:function(){this.Ic.Ud(),this.Kj.clear()},Fi:function(t){this.Ic.Fi(t)},Ei:function(t){this.Ic.Ei(t)},ra:function(t){t.P=0;var i=this.Y+this.wi+this.bc;t.zf.Aa||(i=this.Y),t.mb=i,this.Cg(t),this.Ci(),0<this.ac.length&&this.Eg(this.Zh(t),1)},C:function(){var t=((window.performance.now()-this.Li)*this.Ac|0)-this.Y;0<t&&this.zj(t),7<=this.Y-this.Kk&&this.Ci(),this.Y-this.Jk>=this.Mn&&(this.Ci(),this.gr())},Sf:function(){return 0>this.bc&&(this.bc=0),this.wk((window.performance.now()-this.Li)*this.Ac-this.Y+this.wi+this.bc+this.rd)},Oo:function(t,i){if(this.ac.length>=this.fg)return Ji.kh(4100);try{if(i.Ob()!=this.Sr)throw new e(null)}catch(t){return Ji.kh(4103)}try{var n=i.zb();if(null!=this.Ib&&n!=this.Ib)throw new e(null)}catch(t){return Ji.kh(4101)}return Ji.hn},Lp:function(t){var i=this;if(this.ac.length>=this.fg)t.ia();else{var n=new ni(t);this.ac.push(n),t.lg=function(t){t=new Ti(new DataView(t)),i.oq(t,n)},t.cf=function(){Oi.remove(i.ac,n),i.Ie.delete(n.$),Yt.i(i.Ip,n.$)},(t=Si.ha(1+n.He.byteLength)).l(0),t.lb(n.He.byteLength),t.Vb(n.He),n.Rb(t)}},Zh:function(t){var i=Si.ha();return i.l(2),this.il(t,i),i},il:function(t,i){i.tb(t.mb),i.lb(t.da),i.Ub(t.P),i.tb(t.ue),pi.lj(t,i)},Ci:function(){if(!(0>=this.Y-this.Kk)&&0!=this.ac.length){var t=Si.ha();t.l(3),t.tb(this.Y),t.tb(this.te),this.Eg(t,2),this.Kk=this.Y}},Eg:function(t,i){null==i&&(i=0);for(var n=0,e=this.ac;n<e.length;){var s=e[n];++n,s.yg&&s.Rb(t,i)}},hr:function(t){var i=Si.ha();i.l(1);var n=Si.ha();n.Ub(t.$),n.tb(this.Y),n.tb(this.te),n.lb(this.cc),this.T.ga(n);for(var e=this.le.list,s=0,a=e.length;s<a;)this.il(e[s++],n);i.Vb(pako.deflateRaw(n.Sb())),t.Rb(i)},gr:function(){if(this.Jk=this.Y,0!=this.ac.length){var t=new fi;t.mb=this.Y,t.da=this.cc++,t.P=0,t.Rg=this.T.Ao(),this.Eg(this.Zh(t))}},yq:function(t,i){var n=this,s=t.sb(t.Ab()),a=t.sb(t.Ab()),h=i.He;i.He=null,ji.Rr(s,h).catch(function(){return null}).then(function(t){try{if(-1!=n.ac.indexOf(i)){i.Ns=t;var s=n.up++;i.$=s,n.Ie.set(s,i),Zt.i(n.Hp,s,new Ti(new DataView(a.buffer,a.byteOffset,a.byteLength),!1)),i.yg=!0,n.hr(i)}}catch(t){n.xk(i,t instanceof e?t.Ta:t)}})},oq:function(t,i){this.C();try{if(!i.Ho.Cm())throw new e(1);var n=t.B();if(i.yg)switch(n){case 1:this.zq(t,i);break;case 2:this.sq(t,i);break;default:throw new e(0)}else{if(0!=n)throw new e(0);this.yq(t,i)}if(0<t.o.byteLength-t.a)throw new e(2)}catch(t){this.xk(i,t instanceof e?t.Ta:t)}},xk:function(t,i){window.console.log(i),this.Ie.delete(t.$),Oi.remove(this.ac,t),t.yg&&null!=this.$k&&this.$k(t.$),t.pa.ia()},sq:function(t,i){var n=t.u();i.yb=t.Ab();var e=Si.ha();e.l(4),e.s((window.performance.now()-this.Li)*this.Ac+this.wi),e.s(n),i.Rb(e,2)},zq:function(t,i){var n=t.hb(),s=t.hb(),a=pi.fh(t),h=a.zf.oj;if(null!=h){var o=i.xj.get(h);if(null==o&&(o=new Vt(h.$i,h.uj),i.xj.set(h,o)),!o.Cm())throw new e(3)}h=this.Y,o=this.Y+120,a.ue=s,a.P=i.$,a.mb=n<h?h:n>o?o:n,a.$m(this.T)&&(this.Cg(a),this.Eg(this.Zh(a),1))},f:ei}),ni.b=!0,ni.prototype={Rb:function(t,i){null==i&&(i=0),this.pa.Rb(i,t)},f:ni},ii.b=!0,ti.b=!0,ti.prototype={f:ti},_t.b=!0,_t.ma=ai,_t.prototype=Ni(ai.prototype,{Cq:function(t){for(var i=t.Ob(),n=0,e=0;e<i;){++e;n=n+t.Ab();var s=t.B();this.Vk.push({mj:n/this.mf,kind:s})}},Dl:function(){var t=this.Lc;0<t.o.byteLength-t.a?(t=this.Lc.Ab(),this.hg+=t,t=this.Lc.Ob(),this.gg=pi.fh(this.Lc),this.gg.P=t):this.gg=null},Go:function(){return this.Y/this.mf},ra:function(){},Sf:function(){this.C(),hi.zc++;var t=this.T.sc();return t.C(this.sk),t},C:function(){var t=window.performance.now(),i=t-this.Wh;for(this.Wh=t,0<this.Fd?(this.Qb+=1e4,this.Qb>this.Fd&&(this.Qb=this.Fd,this.Fd=-1)):this.Qb+=i*this.pl,t=this.mf*this.mh,this.Qb>t&&(this.Qb=t),t=0|(i=this.Qb*this.Ac),this.sk=i-t;this.Y<t;){for(;null!=this.gg&&this.hg==this.Y;)(i=this.gg).apply(this.T),null!=this.fc&&this.fc(i),this.Dl();this.Y++,this.T.C(1)}},er:function(t){this.Fd=t,t<this.Qb&&this.ui()},ui:function(){this.hg=0,this.Qb=this.Y=this.Lc.a=0,this.T.ja(this.Lc),this.Dl()},f:_t}),Qt.b=!0,Qt.prototype={eval:function(t){var i=this.Yb.length-1;if(t<=this.Yb[0])return this.Yb[1];if(t>=this.Yb[i])return this.Yb[i-2];var n=0;for(i=i/5|0;;){var e=i+n>>>1;if(t>this.Yb[5*e]?n=e+1:i=e-1,!(n<=i))break}return n=5*i,(2*(e=(i=(t=(t-(i=this.Yb[n]))/(this.Yb[n+5]-i))*t)*t)-3*i+1)*this.Yb[n+1]+(e-2*i+t)*this.Yb[n+2]+(-2*e+3*i)*this.Yb[n+3]+(e-i)*this.Yb[n+4]},f:Qt},$t.b=!0,$t.prototype={f:$t},zt.b=!0,zt.Pl=function(t,i,n,e,s){return new Promise(function(a,h){var o=new XMLHttpRequest;o.open(i,t),o.responseType=n,o.onload=function(){200<=o.status&&300>o.status?null!=o.response?a(o.response):h(null):h("status: "+o.status)},o.onerror=function(t){h(t)},null!=s&&o.setRequestHeader("Content-type",s),o.send(e)})},zt.L=function(t,i){return zt.Pl(t,"GET",i,null)},zt.tk=function(t){return zt.L(t,"json").then(function(t){var i=t.error;if(null!=i)throw new e(i);return t.data})},zt.mq=function(t,i,n){return zt.Pl(t,"POST","json",i,n)},zt.zl=function(t,i,n){return zt.mq(t,i,n).then(function(t){var i=t.error;if(null!=i)throw new e(i);return t.data})},Xt.b=!0,Xt.i=function(t){null!=t&&t()},Yt.b=!0,Yt.i=function(t,i){null!=t&&t(i)},Zt.b=!0,Zt.i=function(t,i,n){null!=t&&t(i,n)},Wt.b=!0,Wt.i=function(t,i,n,e){null!=t&&t(i,n,e)},Jt.b=!0,Jt.i=function(t,i,n,e,s){null!=t&&t(i,n,e,s)},Vt.b=!0,Vt.prototype={Cm:function(t){return null==t&&(t=1),this.C(),t<=this.oc&&(this.oc-=t,!0)},Cr:function(t){return this.C(),0>=(t-=this.oc)?0:this.Ve+t*this.Si-window.performance.now()},Zn:function(t,i){var n=this.Cr(t);this.oc-=t,window.setTimeout(i,0|n)},C:function(){var t=window.performance.now(),i=Math.floor((t-this.Ve)/this.Si);this.Ve+=i*this.Si,this.oc+=i,this.oc>=this.Nj&&(this.oc=this.Nj,this.Ve=t)},f:Vt},Ht.b=!0,Ht.gf=function(t){var i=new Fi("([^&=]+)=?([^&]*)","g");t=t.substring(1);for(var n=0,e=new Map;i.os(t,n);){n=i.Wm(1),n=decodeURIComponent(n.split("+").join(" "));var s=i.Wm(2);e.set(n,decodeURIComponent(s.split("+").join(" "))),n=(n=i.ps()).mj+n.ms}return e},Ht.L=function(){return Ht.gf(window.top.location.search)},Kt.b=!0,Kt.cq=function(t){if(3>t.length)throw new e("Not enough arguments");if(7<t.length)throw new e("Too many arguments");var i=new st,n=new vt;switch(i.Sg=n,t[1]){case"blue":n.fb=[pt.xa.R],i.ea=pt.xa;break;case"red":n.fb=[pt.fa.R],i.ea=pt.fa;break;default:throw new e('First argument must be either "red" or "blue"')}if("clear"==t[2])return i;if(n.hd=256*qi.parseInt(t[2])/360|0,n.ed=qi.parseInt("0x"+t[3]),4<t.length){n.fb=[];for(var s=4,a=t.length;s<a;)n.fb.push(qi.parseInt("0x"+t[s++]))}return i},Kt.prototype={gf:function(t){var i=this;if("/"!=t.charAt(0))return!1;if(1==t.length)return!0;var n=(t=Ui.Gs(Oi.substr(t,1,null)).split(" "))[0];switch(n){case"avatar":2==t.length&&(this.fm(t[1]),this.ba("Avatar set"));break;case"checksum":t=(s=this.ya.T.S).w,s.Pe()?this.ba('Current stadium is original: "'+t+'"'):(s=Ui.Vg(s.Sj(),8),this.ba('Stadium: "'+t+'" (checksum: '+s+")"));break;case"clear_avatar":this.fm(null),this.ba("Avatar cleared");break;case"clear_bans":null==this.Ud?this.ba("Only the host can clear bans"):(this.Ud(),this.ba("All bans have been cleared"));break;case"clear_password":null==this.Fg?this.ba("Only the host can change the password"):(this.Fg(null),this.ba("Password cleared"));break;case"colors":try{s=Kt.cq(t),this.ya.ra(s)}catch(i){"string"==typeof(t=i instanceof e?i.Ta:i)&&this.ba(t)}break;case"extrapolation":2==t.length?null!=(t=qi.parseInt(t[1]))?(It.A.rd.Xa(t),this.ya.gm(t),this.ba("Extrapolation set to "+t+" msec")):this.ba("Extrapolation must be a value between -200 and 50 milliseconds"):this.ba("Extrapolation requires a value in milliseconds.");break;case"handicap":2==t.length?null!=(t=qi.parseInt(t[1]))&&0<=t&&300>=t?(this.ya.kr(t),this.ba("Ping handicap set to "+t+" msec")):this.ba("Ping handicap must be a value between 0 and 300 milliseconds"):this.ba("Ping handicap requires a value in milliseconds.");break;case"kick_ratelimit":if(4>t.length)this.ba("Usage: /kick_ratelimit <min> <rate> <burst>");else{var s=qi.parseInt(t[1]),a=qi.parseInt(t[2]);t=qi.parseInt(t[3]),null==s||null==a||null==t?this.ba("Invalid arguments"):this.ya.ra(W.la(s,a,t))}break;case"recaptcha":if(null==this.jm)this.ba("Only the host can set recaptcha mode");else try{if(2!=t.length)throw new e(null);switch(t[1]){case"off":a=!1;break;case"on":a=!0;break;default:throw new e(null)}this.jm(a),this.ba("Room join Recaptcha "+(a?"enabled":"disabled"))}catch(t){this.ba("Usage: /recaptcha <on|off>")}break;case"set_password":2==t.length&&(null==this.Fg?this.ba("Only the host can change the password"):(this.Fg(t[1]),this.ba("Password set")));break;case"store":var h=this.ya.T.S;h.Pe()?this.ba("Can't store default stadium."):St.Es().then(function(){return St.add(h)}).then(function(){i.ba("Stadium stored")},function(){i.ba("Couldn't store stadium")});break;default:this.ba('Unrecognized command: "'+n+'"')}return!0},fm:function(t){null!=t&&(t=Bi.Qc(t,2)),It.A.sh.Xa(t),this.ya.ra(ot.la(t))},f:Kt},Gt.b=!0,Nt.b=!0,Nt.Yl=function(t){var i=new Date;yi.ar(t,"HBReplay-"+i.getFullYear()+"-"+Ui.Af(""+(i.getMonth()+1))+"-"+Ui.Af(""+i.getDate())+"-"+Ui.Af(""+i.getHours())+"h"+Ui.Af(""+i.getMinutes())+"m.hbr2")},Nt.Bq=function(t){for(var i=t.T.I,n=[],e=0,s=0,a=0;a<i.length;){var h=i[a];++a,h.ea==pt.Ia&&n.push(h.V),h.ea==pt.fa?++e:h.ea==pt.xa&&++s}0!=(a=n.length)&&(i=function(){return n.splice(Math.random()*n.length|0,1)[0]},s==e?2>a||(t.ra(ht.la(i(),pt.fa)),t.ra(ht.la(i(),pt.xa))):(e=s>e?pt.fa:pt.xa,t.ra(ht.la(i(),e))))},Nt.prototype={zr:function(){this.Ed=new ri(this.ya,3)},vr:function(t){var i=this;(t=new x(t)).qb=function(){i.j.bb(null)},t.ei=function(t,n,e){i.ya.ra(X.la(t,n,e)),i.j.bb(null)},this.j.bb(t.g)},ia:function(){window.document.removeEventListener("keydown",Gi(this,this.Bd)),window.document.removeEventListener("keyup",Gi(this,this.Cd)),window.onbeforeunload=null,window.cancelAnimationFrame(this.De),this.ob.ia(),window.clearInterval(this.Gh),window.clearInterval(this.Qr),window.clearTimeout(this.Nf)},Wq:function(t){for(var i=[],n=0,e=this.ya.T.I;n<e.length;){var s=e[n];++n,s.ea==t&&i.push(ht.la(s.V,pt.Ia))}for(t=0;t<i.length;)this.ya.ra(i[t++])},bf:function(){this.De=window.requestAnimationFrame(Gi(this,this.bf)),this.ob.C(),this.ya.C(),this.Kc()},Kc:function(){var t=window.performance.now();1==It.A.Fh.L()&&28.333333333333336>t-this.$c||(this.$c=t,this.sd++,this.uf(),null!=(t=this.ya.T.na(this.ya.uc))&&(this.xi=t.cb),this.j.C(this.ya))},Gp:function(t){var i=this;this.Of.gf(t)||this.Jn.Zn(1,function(){var n=new _;n.Tc=t,i.ya.ra(n)})},Fp:function(t){var i=this;this.zh=t,null==this.Nf&&(this.Nf=window.setTimeout(function(){i.Nf=null,i.bm(i.zh)},1e3),this.bm(this.zh))},bm:function(t){t!=this.Ik&&(this.ya.ra($.la(t?0:1)),this.Ik=t)},Bm:function(){if(null!=this.ya.T.K){var t=new tt;t.Bf=120!=this.ya.T.K.Oa,this.ya.ra(t)}},Bd:function(t){switch(t.keyCode){case 9:case 13:this.j.Qa.gb.focus(),t.preventDefault();break;case 27:if(this.j.Zo())this.j.bb(null);else{var i=this.j;i.me(!i.Gd)}t.preventDefault();break;case 49:It.A.Tb.Xa(1);break;case 50:It.A.Tb.Xa(2);break;case 51:It.A.Tb.Xa(3);break;case 52:It.A.Tb.Xa(0);break;case 80:this.Bm();break;default:this.ob.Bd(t.code)}},uf:function(){var t=It.A.Tb.L(),i=this.j.Fb,n=i.Eb;n.zg=It.A.Sl.L(),0==t?(i.Gg(!0),n.kf=1,n.jf=0,n.xf=0):(i.Gg(!1),n.xf=35,-1==t?n.jf=450:(n.jf=0,n.kf=1+.25*(t-1)))},Cd:function(t){this.ob.Cd(t.code)},f:Nt},Et.b=!0,Et.prototype={Ti:function(t){var i=this.j.Qa.Bc,n=[],e=0;for(t=t.I;e<t.length;){var s=t[e];++e,n.push({w:s.w,$:s.V})}i.Hj=n},ri:function(t){function i(t){return null==t?"":" by "+t.w}var n=this;this.Ti(t),t.tl=function(i){n.j.Qa.Gb(i.w+" has joined"),It.Na.cd(It.Na.$o),n.Ti(t)},t.ul=function(e,s,a,h){Yt.i(n.Op,e.V),null==s?e=e.w+" has left":(Jt.i(n.Np,e.V,s,null!=h?h.w:null,a),e=e.w+" was "+(a?"banned":"kicked")+i(h)+(""!=s?" ("+s+")":"")),n.j.Qa.Gb(e),It.Na.cd(It.Na.ep),n.Ti(t)},t.rl=function(t,i){var e=null!=n.Rh&&-1!=i.indexOf(n.Rh);n.j.Qa.ba(t.w+": "+i,e?"highlight":null),It.A.om.L()&&e?It.Na.cd(It.Na.zk):It.A.Hi.L()&&It.Na.cd(It.Na.Rj)},t.Vl=function(t,i,e,s){if(n.j.Qa.pp(t,i,e),It.A.Hi.L())switch(s){case 1:It.Na.cd(It.Na.Rj);break;case 2:It.Na.cd(It.Na.zk)}},t.ji=function(){It.Na.cd(It.Na.bp)},t.Ni=function(t){It.Na.cd(It.Na.Io);var i=n.j.Fb.Eb.td;i.Pa(t==pt.fa?i.Fq:i.Bn)},t.Oi=function(t){var i=n.j.Fb.Eb.td;i.Pa(t==pt.fa?i.Gq:i.Cn),n.j.Qa.Gb(t.w+" team won the match")},t.ml=function(t,e,s){e&&!s&&n.j.Qa.Gb("Game paused"+i(t))},t.Pi=function(){var t=n.j.Fb.Eb.td;t.Pa(t.Ar)},t.Ki=function(t){n.j.me(!1),n.j.Fb.Eb.td.Nn(),n.j.Qa.Gb("Game started"+i(t))},t.vf=function(t){null!=t&&n.j.Qa.Gb("Game stopped"+i(t))},t.Ii=function(t,e){if(!e.Pe()){var s=Ui.Vg(e.Sj(),8);n.j.Qa.Gb('Stadium "'+e.w+'" ('+s+") loaded"+i(t))}},t.sl=function(t){n.j.Qa.Gb(t.w+" "+(t.Ld?"has desynchronized":"is back in sync"))},t.xl=function(e,s,a){null!=t.K&&n.j.Qa.Gb(s.w+" was moved to "+a.w+i(e))},t.ii=function(t,e){var s=e.w;n.j.Qa.Gb((e.cb?s+" was given admin rights":s+"'s admin rights were taken away")+i(t))},t.wl=function(t,i){n.j.Fb.Eb.Po(t,i)},t.Hk=function(t,e,s,a){n.j.Qa.Gb("Kick Rate Limit set to (min: "+e+", rate: "+s+", burst: "+a+")"+i(t))}},Lr:function(t){t.tl=null,t.ul=null,t.rl=null,t.Vl=null,t.ji=null,t.Ni=null,t.Oi=null,t.ml=null,t.Pi=null,t.Ki=null,t.vf=null,t.Ii=null,t.sl=null,t.xl=null,t.ii=null,t.wl=null,t.Hk=null},f:Et},Ft.b=!0,Ft.Fk=function(t){switch(It.A.tg.L().L(t)){case"Down":return 2;case"Kick":return 16;case"Left":return 4;case"Right":return 8;case"Up":return 1;default:return 0}},Ft.prototype={ia:function(){window.document.removeEventListener("focusout",Gi(this,this.al))},C:function(){var t=this.$d;if(null!=this.ng&&t!=this.Yf){this.Yf=t;var i=new Q;i.input=t,this.ng(i)}},Bd:function(t){this.$d|=Ft.Fk(t)},Cd:function(t){this.$d&=~Ft.Fk(t)},al:function(){if(null!=this.ng&&0!=this.Yf){this.Yf=this.$d=0;var t=new Q;t.input=0,this.ng(t)}},f:Ft},Ot.b=!0,Ot.Hh=function(t){return Ot.Rf(JSON.parse(t))},Ot.Rf=function(t){var i=new Ot;return i.Ec=t.lat,i.Gc=t.lon,i.ub=t.code.toLowerCase(),i},Ot.Fo=function(){return zt.tk(It.Ee+"api/geo").then(function(t){return Ot.Rf(t)})},Ot.prototype={se:function(){return JSON.stringify({lat:this.Ec,lon:this.Gc,code:this.ub})},f:Ot},Dt.b=!0,Dt.prototype={Lh:function(){return null!=this.Ne.L()?this.Ne.L():null!=this.Me.L()?this.Me.L():new Ot},f:Dt},qt.b=!0,qt.Pm=function(){try{var t=window.localStorage;if(t.getItem(""),0==t.length){var i="_hx_"+Math.random();t.setItem(i,i),t.removeItem(i)}return t}catch(t){return null}},Ut.b=!0,Ut.prototype={L:function(){return this.Hm},Xa:function(t){if(this.Hm=t,null!=this.Yh)try{var i=this.Ur(t);null==i?this.Yh.removeItem(this.w):this.Yh.setItem(this.w,i)}catch(t){}},f:Ut},Bt.b=!0,Bt.Rf=function(t){for(var i=new Bt,n=Di.Mm(t),e=0;e<n.length;){var s=n[e];++e,i.Yc.set(s,t[s])}return i},Bt.Hh=function(t){return Bt.Rf(JSON.parse(t))},Bt.$j=function(){var t=new Bt;return t.Pa("ArrowUp","Up"),t.Pa("KeyW","Up"),t.Pa("ArrowDown","Down"),t.Pa("KeyS","Down"),t.Pa("ArrowLeft","Left"),t.Pa("KeyA","Left"),t.Pa("ArrowRight","Right"),t.Pa("KeyD","Right"),t.Pa("KeyX","Kick"),t.Pa("Space","Kick"),t.Pa("ControlLeft","Kick"),t.Pa("ControlRight","Kick"),t.Pa("ShiftLeft","Kick"),t.Pa("ShiftRight","Kick"),t.Pa("Numpad0","Kick"),t},Bt.prototype={Pa:function(t,i){this.Yc.set(t,i)},L:function(t){return this.Yc.get(t)},Jq:function(t){this.Yc.delete(t)},Eo:function(t){for(var i=[],n=this.Yc.keys(),e=n.next();!e.done;){var s=e.value;e=n.next();this.Yc.get(s)==t&&i.push(s)}return i},se:function(){for(var t={},i=this.Yc.keys(),n=i.next();!n.done;){var e=n.value;n=i.next();t[e]=this.Yc.get(e)}return JSON.stringify(t)},f:Bt},It.b=!0,Pt.b=!0,Pt.prototype={f:Pt},Mt.b=!0,Mt.qp=function(){ki.ts(),Rt.fj(function(){Mt.jk(Mt.xq)}),Mt.hp()},Mt.hp=function(){var t=It.A.Gj.L();null==t?ji.yo().then(function(t){Mt.Je=t,It.A.Gj.Xa(t.Ir())}).catch(function(){return{}}):ji.xo(t).then(function(t){return Mt.Je=t}).catch(function(){return{}})},Mt.Bo=function(){var t=qt.Pm();return null!=t&&null!=t.getItem("crappy_router")},Mt.jk=function(t){var i=new R(It.A.fe.L());i.cl=function(i){It.A.fe.Xa(i),It.Na.Tl(),t()},Rt.La(i.g),i.Cb.focus()},Mt.kk=function(t,i){var n=new p(t);n.Va=i,Rt.La(n.g)},Mt.no=function(t,i){function n(i){if(null==(i=i.sitekey))throw new e(null);Mt.kk(i,function(i){s(t,i)})}var s;Rt.La(new h("Connecting","Connecting...",[]).g),(s=function(t,s){zt.zl(It.Ee+"api/client","room="+t+"&rcr="+s,zt.vj).then(function(t){switch(t.action){case"connect":if(null==(t=t.token))throw new e(null);i(t);break;case"recaptcha":n(t);break;default:throw new e(null)}}).catch(function(){var t;(t=new T("Failed",null)).Va=function(){Mt.xb()},Rt.La(t.g)})})(t,"")},Mt.xq=function(){var t=Ht.L(),i=t.get("c"),n=t.get("p");t.get("v"),null!=i?null!=n?Mt.Dh(i):Mt.Pf(i):Mt.xb()},Mt.xb=function(){var t=new u(It.A.Lh());Rt.La(t.Ja),t.Ym=function(i){if(9!=i.vd.Id){var n;9>i.vd.Id?(i="Old version room",n="The room is running an older version, an update must have happened recently."):(i="New version",n="The room is running a new version of haxball, refresh the site to update.");var e=new h(i,n,["Ok"]);Rt.La(e.g),e.Va=function(){return Rt.La(t.Ja),e.Va=null}}else i.vd.Ib?Mt.Dh(i.$):Mt.Pf(i.$)},t.ws=function(){Mt.oo()},t.vs=function(){Mt.jk(Mt.xb)},t.ys=function(){Mt.mk()},t.xs=function(t){Mt.po(t)}},Mt.mk=function(){var t=new o(!0),i=window.document.createElement("div");i.className="view-wrapper",i.appendChild(t.g),Rt.La(i),t.qb=function(){Mt.xb()},t.Ep=function(){var t=new I,i=window.document.createElement("div");return i.className="view-wrapper",i.appendChild(t.g),Rt.La(i),t.qb=function(){Mt.mk()}}},Mt.$h=function(t,i){return window.location.origin+"/play?c="+t+(i?"&p=1":"")},Mt.oo=function(){var t=It.A.fe.L(),i=new A(t+"'s room");Rt.La(i.g),i.ci=function(){Mt.xb()},i.Jp=function(i){function n(){if(!i.Ks){var t=new At;t.Id=9,t.w=o.jc,t.I=o.I.length,t.Xe=c.fg+1,t.ub=a.ub,t.Ib=null!=c.Ib,t.Ec=a.Ec,t.Gc=a.Gc;var n=Si.ha(16);t.ga(n),t=n.Kg(),c.Fi(t)}}Rt.La(new h("Creating room","Connecting...",[]).g);var s=null,a=It.A.Lh(),o=new bt;o.jc=i.name;var r=new dt;r.w=t,r.cb=!0,r.Kd=a.ub,r.Xb=It.A.sh.L(),o.I.push(r);var c=new ei({iceServers:It.Vf,ij:It.Ee+"api/host",state:o,version:9});c.fg=i.qs-1,c.Ib=i.password,n();var l=new Nt(c),u=!1;c.ef=function(t,i){Mt.kk(t,function(t){return i(t),Rt.La(l.j.g),u=!0})};var f=window.setInterval(function(){var t=H.la(c);c.ra(t)},3e3);c.$k=function(t){null!=o.na(t)&&(t=X.la(t,"Bad actor",!1),c.ra(t))},c.Hp=function(t,i){var s=i.ic();if(25<s.length)throw new e("name too long");var a=i.ic();if(3<a.length)throw new e("country too long");var h=i.zb();if(null!=h&&2<h.length)throw new e("avatar too long");s=nt.la(t,s,a,h),c.ra(s),n()},c.Ip=function(t){null!=o.na(t)&&(t=X.la(t,null,!1),c.ra(t))},c.kg=function(t){s=t,l.Bg=Mt.$h(t,null!=c.Ib),u||(u=!0,Rt.La(l.j.g))},l.Ih.Np=function(t,i,n,e){c.to(t,i,n,e)},l.Ih.Op=function(){n()},l.j.de=function(){c.ia(),l.ia(),Mt.xb(),window.clearInterval(f)},l.Of.Fg=function(t){c.Ib=t,n(),null!=s&&(l.Bg=Mt.$h(s,null!=c.Ib))},l.Of.jm=function(t){c.Ei(t)},l.Of.Ud=Gi(c,c.Ud)}},Mt.Dh=function(t){var i=new c;Rt.La(i.g),i.Va=function(i){null==i?Mt.xb():Mt.Pf(t,i)}},Mt.po=function(t){try{var i=new Lt(new _t(new Uint8Array(t),new bt,3));i.je.de=function(){i.ia(),Mt.xb()},Rt.La(i.j.g)}catch(i){var n=i instanceof e?i.Ta:i;if(n instanceof ti)t=new h("Incompatible replay version","The replay file is of a different version",["Open player","Cancel"]),Rt.La(t.g),t.Va=function(t){0==t?(t=window.top.location,window.top.open(t.protocol+"//"+t.hostname+(null!=t.port?":"+t.port:"")+"/replay?v="+n.Id,"_self")):Mt.xb()};else{var s=new h("Replay error","Couldn't load the file.",["Ok"]);Rt.La(s.g),s.Va=function(){s.Va=null,Mt.xb()}}}},Mt.Pf=function(t,i,n){try{var s=Mt.Bo(),a=new bt,o=Si.ha();o.mc(It.A.fe.L()),o.mc(It.A.Lh().ub),o.Db(It.A.sh.L());var r=It.Vf,c=It.Vr,l=o.Kg(),u=new si(t,{iceServers:r,ij:c,state:a,version:9,Ms:l,password:i,cn:s,gn:n,ds:Mt.Je}),f=new L;f.ba("Connecting to master..."),f.vh.onclick=function(){u.Ad=null,u.df=null,u.ia(),Mt.xb()},Rt.La(f.g);var d=function(t,i){var n=new T(t,i);n.Va=function(){Mt.xb()},Rt.La(n.g)},b=function(){var i=new Nt(u);u.dl=function(t){i.j.pe.qr((10*u.sg.$g(.5)|0)/10),i.j.pe.or((10*u.sg.max()|0)/10),i.j.pe.nl.tn(t)},i.Bg=Mt.$h(t,!1),Rt.La(i.j.g),i.j.de=function(){u.Ad=null,u.ia(),i.ia(),Mt.xb()},u.Ad=function(){u.Ad=null,i.ia();var t=null==i.Ed?null:i.Ed.stop();d(u.ek,t)}};u.df=function(n){switch(u.df=null,u.Ad=null,n.nb){case 1:!function(){var t=new h("Connection Failed","",["Ok"]);t.Vd.innerHTML="<p>Failed to connect to room host.</p><p>If this problem persists please see the <a href='https://github.com/haxball/haxball-issues/wiki/Connection-Issues' target='_blank'>troubleshooting guide</a>.</p>",t.Va=function(){Mt.xb()},Rt.La(t.g)}();break;case 2:switch(n.reason){case 4004:Mt.no(t,function(n){Mt.Pf(t,i,n)});break;case 4101:null==i?Mt.Dh(t):d(si.xh(n),null);break;default:d(si.xh(n),null)}break;default:d(si.xh(n),null)}},u.Ad=function(t){switch(t){case 1:f.ba("Connecting to peer...");break;case 2:f.ba("Awaiting state...");break;case 3:b()}},u.Sp=function(){f.ba("Trying reverse connection...")}}catch(t){window.console.log(t instanceof e?t.Ta:t),(n=new h("Unexpected Error","",[])).Vd.innerHTML="An error ocurred while attempting to join the room.<br><br>This might be caused by a browser extension, try disabling all extensions and refreshing the site.<br><br>The error has been printed to the inspector console.",Rt.La(n.g)}},Rt.b=!0,Rt.ks=function(){try{return window.self!=window.top}catch(t){return!0}},Rt.Wg=function(t){return new Promise(function(i,n){var e=window.document.createElement("img");return e.onload=function(){URL.revokeObjectURL(e.src),e.onload=null,i(e)},e.onerror=function(){URL.revokeObjectURL(e.src),n(null)},e.src=URL.createObjectURL(new Blob([t],{type:"image/png"}))})},Rt.fj=function(t){Rt.ks()&&Rt.es(function(){var i;return z.fj(),null==It.A.Me.L()?Ot.Fo().then(function(t){It.A.Me.Xa(t)},function(){return{}}):i=Promise.resolve(null),Promise.all([zt.L("res.dat","arraybuffer").then(function(t){return t=new JSZip(t),It.Na=new jt(t),Promise.all([It.Na.ro,Rt.Wg(t.file("images/grass.png").asArrayBuffer()).then(function(t){return It.Ko=t}),Rt.Wg(t.file("images/concrete.png").asArrayBuffer()).then(function(t){return It.Vn=t}),Rt.Wg(t.file("images/concrete2.png").asArrayBuffer()).then(function(t){return It.Tn=t}),Rt.Wg(t.file("images/typing.png").asArrayBuffer()).then(function(t){return It.Dm=t})])}),i]).then(function(){Rt.us(t)})})},Rt.es=function(t){for(var i=Modernizr,n="canvas datachannel dataview es6collections peerconnection promises websockets".split(" "),e=[],a=0;a<n.length;){var h=n[a];++a,i[h]||e.push(h)}0!=e.length?(window.document.body.innerHTML="",Rt.Pg=window.document.createElement("div"),window.document.body.appendChild(Rt.Pg),t=new s(e),Rt.La(t.g)):t()},Rt.us=function(t){window.document.body.innerHTML="",Rt.Pg=window.document.createElement("div"),window.document.body.appendChild(Rt.Pg);var i=null;i=function(){It.Na.Tl(),window.document.removeEventListener("click",i,!0)};window.document.addEventListener("click",i,!0),t()},Rt.La=function(t){null!=Rt.Vm&&Rt.Vm.remove(),null!=t&&(Rt.Pg.appendChild(t),Rt.Vm=t)},Lt.b=!0,Lt.prototype={ia:function(){window.document.removeEventListener("keydown",Gi(this,this.Bd)),window.document.removeEventListener("keyup",Gi(this,this.Cd)),window.onbeforeunload=null,window.cancelAnimationFrame(this.De),window.clearInterval(this.Gh)},bf:function(){this.De=window.requestAnimationFrame(Gi(this,this.bf)),this.ya.C(),this.Kc()},Kc:function(){this.je.C();var t=window.performance.now();1==It.A.Fh.L()&&28.333333333333336>t-this.$c||(this.$c=t,this.sd++,this.uf(It.A.Tb.L()),0<this.ya.Fd||this.j.C(this.ya))},Bd:function(t){switch(t.keyCode){case 27:var i=this.j;i.me(!i.Gd),t.preventDefault();break;case 49:It.A.Tb.Xa(1);break;case 50:It.A.Tb.Xa(2);break;case 51:It.A.Tb.Xa(3);break;case 52:It.A.Tb.Xa(0)}},uf:function(t){var i=this.j.Fb;0>=t?(i.Gg(!0),i.Eb.kf=1,i.Eb.xf=0):(i.Gg(!1),i.Eb.xf=35,i.Eb.kf=1+.25*(t-1))},Cd:function(){},f:Lt},At.b=!0,At.prototype={Pj:function(){this.w=Bi.Qc(this.w,40),this.ub=Bi.Qc(this.ub,3)},ga:function(t){this.Pj(),t.Sa=!0,t.Ub(this.Id),t.Im(this.w),t.Im(this.ub),t.Wi(this.Ec),t.Wi(this.Gc),t.l(this.Ib?1:0),t.l(this.Xe),t.l(this.I),t.Sa=!1},ja:function(t){if(t.Sa=!0,this.Id=t.Ob(),this.w=t.El(),this.ub=t.El(),this.Ec=t.mi(),this.Gc=t.mi(),this.Ib=0!=t.B(),this.Xe=t.B(),this.I=t.B(),t.Sa=!1,30<this.I||30<this.Xe)throw new e(null);this.Pj()},f:At},Tt.b=!0,Tt.parse=function(t){t.B();for(var i=[];0!=t.o.byteLength-t.a;){var n=t.ie(t.Ob()),e=t.Cl(t.Ob());try{var s=new At;s.ja(new Ti(new DataView(e),!1));var a=new Pt;a.vd=s,a.$=n,i.push(a)}catch(t){}}return i},Tt.js=function(t,i,n,e){return Math.acos(Math.sin(t)*Math.sin(n)+Math.cos(t)*Math.cos(n)*Math.cos(i-e))},Tt.Hs=function(t,i){for(var n=t.Ec,e=t.Gc,s=0;s<i.length;){var a=i[s];++s;var h=a.vd;a.Le=6378*Tt.js(.017453292519943295*h.Ec,.017453292519943295*h.Gc,.017453292519943295*n,.017453292519943295*e),isFinite(a.Le)||(a.Le=22e3)}},Tt.get=function(){return zt.L(It.Ee+"api/list","arraybuffer").then(function(t){return Tt.parse(new Ti(new DataView(t),!1))})},St.b=!0,St.delete=function(t){return null==window.indexedDB?Promise.reject("IndexedDB not supported by browser."):new Promise(function(i,n){var e=window.indexedDB.open("stadiums",1);e.onblocked=e.onerror=n,e.onupgradeneeded=function(t){var i=e.result;i.onerror=n,1>t.oldVersion&&(i.createObjectStore("files",{autoIncrement:!0}),i.createObjectStore("meta",{keyPath:"id"}))},e.onsuccess=function(){var s=e.result;s.onerror=n;var a=s.transaction(["meta","files"],"readwrite");a.onerror=a.onabort=function(t){n(t),s.close()},a.oncomplete=function(){i(0),s.close()},a.objectStore("files").delete(t),a.objectStore("meta").delete(t)}})},St.get=function(t){return null==window.indexedDB?Promise.reject("IndexedDB not supported by browser."):new Promise(function(i,n){var s=window.indexedDB.open("stadiums",1);s.onblocked=s.onerror=n,s.onupgradeneeded=function(t){var i=s.result;i.onerror=n,1>t.oldVersion&&(i.createObjectStore("files",{autoIncrement:!0}),i.createObjectStore("meta",{keyPath:"id"}))},s.onsuccess=function(){var a=s.result;a.onerror=n;var h=a.transaction(["files"]);h.onerror=h.onabort=function(t){n(t),a.close()},h.oncomplete=function(){a.close()},gi.eh(h.objectStore("files").get(t)).then(function(t){try{var s=new gt;s.Lk(t),i(s)}catch(t){n(t instanceof e?t.Ta:t)}},n)}})},St.getAll=function(){return null==window.indexedDB?Promise.reject("IndexedDB not supported by browser."):new Promise(function(t,i){var n=window.indexedDB.open("stadiums",1);n.onblocked=n.onerror=i,n.onupgradeneeded=function(t){var e=n.result;e.onerror=i,1>t.oldVersion&&(e.createObjectStore("files",{autoIncrement:!0}),e.createObjectStore("meta",{keyPath:"id"}))},n.onsuccess=function(){var e=n.result;e.onerror=i;var s=e.transaction(["meta"]);s.onerror=s.onabort=function(t){i(t),e.close()},s.oncomplete=function(){e.close()},gi.eh(s.objectStore("meta").getAll()).then(t,i)}})},St.Es=function(){var t=window.navigator.storage;if(null==t||null==t.persist)return Promise.resolve(!1);try{return t.persisted().then(function(i){return!!i||t.persist()}).catch(function(){return!1})}catch(t){return Promise.resolve(!1)}},St.add=function(t){return null==window.indexedDB?Promise.reject("IndexedDB not supported by browser."):new Promise(function(i,n){var e=window.indexedDB.open("stadiums",1);e.onblocked=e.onerror=n,e.onupgradeneeded=function(t){var i=e.result;i.onerror=n,1>t.oldVersion&&(i.createObjectStore("files",{autoIncrement:!0}),i.createObjectStore("meta",{keyPath:"id"}))},e.onsuccess=function(){var s=e.result;s.onerror=n;var a=s.transaction(["files","meta"],"readwrite");a.onerror=a.onabort=function(t){n(t),s.close()},a.oncomplete=function(){i(0),s.close()};try{gi.eh(a.objectStore("files").add(t.se())).then(function(i){return i={name:t.w,id:i},gi.eh(a.objectStore("meta").add(i))}).catch(n)}catch(t){n(0)}}})},jt.b=!0,jt.prototype={Tl:function(){this.c.resume()},cd:function(t){var i=this.c.createBufferSource();i.buffer=t,i.connect(this.ag),i.start()},im:function(t){this.ag.gain.value=t},f:jt},Ct.b=!0,Ct.prototype={update:function(){var t=window.performance.now(),i=t-this.Um;this.Um=t,this.ve+=(this.dh-this.ve)*this.Js,this.Ef-=i,0>=this.Ef&&(this.Ef=this.dh=0),0>=this.dh&&.05>this.ve&&(window.clearInterval(this.gh),this.gh=null,this.ve=0),this.Tg.gain.value=It.A.nm.L()?this.ve:0},qj:function(t){var i=this;this.dh=t,this.Ef=166.66666666666666,null==this.gh&&(this.gh=window.setInterval(function(){i.update()},0),this.Um=window.performance.now())},connect:function(t){this.Tg.connect(t)},Ls:function(t){var i=t.K;if(null!=i)if(2==i.Bb)0>=i.Oa&&this.qj(1);else if(1==i.Bb){var n=i.ta.F[0],e=null,s=null,a=null,h=0,o=null,r=null,c=null,l=0,u=pt.fa.Ch,f=0;for(t=t.I;f<t.length;){var d=t[f];if(++f,null!=d.H){var b=d.H.a,p=n.a,v=(v=b.x-p.x)*v+(b=b.y-p.y)*b;d.ea==pt.fa?((null==e||e.a.x*u<d.H.a.x*u)&&(e=d.H),(null==s||s.a.x*u>d.H.a.x*u)&&(s=d.H),(null==a||v<h)&&(a=d.H,h=v)):d.ea==pt.xa&&((null==o||o.a.x*u<d.H.a.x*u)&&(o=d.H),(null==r||r.a.x*u>d.H.a.x*u)&&(r=d.H),(null==c||v<l)&&(c=d.H,l=v))}}null!=r&&null!=s&&0>=i.Oa&&(a.a.x>r.a.x&&n.a.x>r.a.x&&20<n.a.x&&this.qj(.3),c.a.x<s.a.x&&n.a.x<s.a.x&&-20>n.a.x&&this.qj(.3))}},f:Ct},xt.b=!0,xt.prototype={ga:function(t){var i=this.a;t.s(i.x),t.s(i.y),i=this.D,t.s(i.x),t.s(i.y),i=this.oa,t.s(i.x),t.s(i.y),t.s(this.Z),t.s(this.m),t.s(this.aa),t.s(this.Ca),t.tb(this.R),t.O(this.h),t.O(this.v)},ja:function(t){var i=this.a;i.x=t.u(),i.y=t.u(),(i=this.D).x=t.u(),i.y=t.u(),(i=this.oa).x=t.u(),i.y=t.u(),this.Z=t.u(),this.m=t.u(),this.aa=t.u(),this.Ca=t.u(),this.R=t.hb(),this.h=t.M(),this.v=t.M()},rp:function(){var t=new K;return this.Bk(t),t},Bk:function(t){var i=t.a,n=this.a;i.x=n.x,i.y=n.y,i=t.D,n=this.D,i.x=n.x,i.y=n.y,i=t.oa,n=this.oa,i.x=n.x,i.y=n.y,t.Z=this.Z,t.m=this.m,t.aa=this.aa,t.Ca=this.Ca,t.R=this.R,t.h=this.h,t.v=this.v},f:xt},kt.b=!0,kt.Rd=[oi],kt.qd=function(t,i){t.Ma=i.Ma.sc(),t.ib=i.ib,t.Da=i.Da,t.ta=i.ta.sc(),t.vc=i.vc,t.Bb=i.Bb,t.Pb=i.Pb,t.Kb=i.Kb,t.Hc=i.Hc,t.Oa=i.Oa,t.S=i.S,t.ae=i.ae},kt.prototype={Wo:function(t){this.Ma=t,this.ib=t.ib,this.Da=t.Da,this.S=t.S,this.ta.J=this.S.J,this.ta.qa=this.S.qa,this.ta.U=this.S.U,this.ta.pb=this.S.pb,t=0;for(var i=this.S.F;t<i.length;)this.ta.F.push(i[t++].rp());this.Gk()},Ck:function(t){if(t.ea==pt.Ia)t.H=null;else{t.ob=0;var i=t.H;null==i&&(i=new K,t.H=i,this.ta.F.push(i));var n=this.S.ge;i.R=0,i.Z=n.Z,i.aa=n.aa,i.Ca=n.Ca,i.m=n.m,i.h=39,i.v=t.ea.v|n.v;var e=t.ea==pt.fa?this.S.Dd:this.S.md;0==e.length?(i.a.x=t.ea.Ch*this.S.$b,i.a.y=0):(t=i.a,e=e[e.length-1],t.x=e.x,t.y=e.y),(e=i.D).x=0,e.y=0,i=i.oa,n=n.oa,i.x=n.x,i.y=n.y}},C:function(t){if(0<this.Oa)120>this.Oa&&this.Oa--;else{null!=(i=this.Ma.Os)&&i();for(var i=this.Ma.I,n=0;n<i.length;){var e=i[n];if(++n,null!=e.H){0==(16&e.ob)&&(e.Wb=!1);var s=this.S.ge;if(0<e.Sc&&e.Sc--,e.yc<this.Ma.ce&&e.yc++,e.Wb&&0>=e.Sc&&0<=e.yc){for(var a=!1,h=0,o=this.ta.F;h<o.length;){var r=o[h];if(++h,0!=(64&r.v)&&r!=e.H){var c=r.a,l=e.H.a,u=c.x-l.x;c=c.y-l.y;if(4>(l=Math.sqrt(u*u+c*c))-r.Z-e.H.Z){a=u/l,u=c/l,c=s.Re;var f=l=r.D;r=r.aa;l.x=f.x+a*c*r,l.y=f.y+u*c*r,f=e.H,r=-s.Se,l=c=f.D,f=f.aa,c.x=l.x+a*r*f,c.y=l.y+u*r*f,a=!0}}}a&&(null!=this.Ma.ji&&this.Ma.ji(e),e.Wb=!1,e.Sc=this.Ma.yd,e.yc-=this.Ma.Zc)}o=h=0,0!=(1&(a=e.ob))&&--o,0!=(2&a)&&++o,0!=(4&a)&&--h,0!=(8&a)&&++h,0!=h&&0!=o&&(h/=a=Math.sqrt(h*h+o*o),o/=a),a=e.H.D,r=e.Wb?s.Te:s.Ce,a.x+=h*r,a.y+=o*r,e.H.Ca=e.Wb?s.Ue:s.Ca}}for(n=0,s=0,h=(e=this.ta.F).length;s<h;)0!=(128&(o=e[a=s++]).v)&&(kt.dk[n]=a,a=kt.Yk[n],o=o.a,a.x=o.x,a.y=o.y,++n);if(this.ta.C(t),0==this.Bb){for(t=0;t<i.length;)n=i[t],++t,null!=n.H&&(n.H.h=39|this.ae.cp);0<(i=this.ta.F[0].D).x*i.x+i.y*i.y&&(this.Bb=1)}else if(1==this.Bb){for(this.Hc+=.016666666666666666,t=0;t<i.length;)e=i[t],++t,null!=e.H&&(e.H.h=39);for(e=pt.Ia,i=this.ta.F,t=0;t<n&&(e=t++,(e=this.S.Kn(i[kt.dk[e]].a,kt.Yk[e]))==pt.Ia););e!=pt.Ia?(this.Bb=2,this.vc=150,this.ae=e,e==pt.fa?this.Kb++:this.Pb++,null!=this.Ma.Ni&&this.Ma.Ni(e.pg),null!=this.Ma.Ol&&this.Ma.Ol(e.$)):0<this.Da&&this.Hc>=60*this.Da&&this.Pb!=this.Kb&&(null!=this.Ma.Pi&&this.Ma.Pi(),this.um())}else if(2==this.Bb)this.vc--,0>=this.vc&&(0<this.ib&&(this.Pb>=this.ib||this.Kb>=this.ib)||0<this.Da&&this.Hc>=60*this.Da&&this.Pb!=this.Kb?this.um():(this.Gk(),null!=this.Ma.lq&&this.Ma.lq()));else if(3==this.Bb&&(this.vc--,0>=this.vc&&null!=(i=this.Ma).K)){for(i.K=null,t=0,n=i.I;t<n.length;)e=n[t],++t,e.H=null,e.Jb=0;null!=i.vf&&i.vf(null)}}},um:function(){this.vc=300,this.Bb=3,null!=this.Ma.Oi&&this.Ma.Oi(this.Pb>this.Kb?pt.fa:pt.xa)},Gk:function(){var t=this.Ma.I;this.Bb=0;for(var i=this.S.F,n=this.ta.F,e=0,s=this.S.pf?i.length:1;e<s;){i[a=e++].Bk(n[a])}for(i=[0,0,0],n=0;n<t.length;)if(e=t[n],++n,this.Ck(e),(s=e.ea)!=pt.Ia){var a=e.H.a,h=this.S,o=i[s.$],r=s==pt.fa?h.Dd:h.md;0==r.length?(r=o+1>>1,0==(1&o)&&(r=-r),h=h.kc*s.Ch,o=55*r):(o>=r.length&&(o=r.length-1),h=(o=r[o]).x,o=o.y),a.x=h,a.y=o,i[s.$]++,e.Jb=i[s.$]}},ga:function(t){this.ta.ga(t),t.O(this.vc),t.O(this.Bb),t.O(this.Pb),t.O(this.Kb),t.s(this.Hc),t.O(this.Oa),t.l(this.ae.$)},ja:function(t,i){this.ta.ja(t),this.vc=t.M(),this.Bb=t.M(),this.Pb=t.M(),this.Kb=t.M(),this.Hc=t.u(),this.Oa=t.M();var n=t.lf();this.ae=1==n?pt.fa:2==n?pt.xa:pt.Ia,this.Ma=i,this.ib=i.ib,this.Da=i.Da,this.S=i.S,this.ta.J=this.S.J,this.ta.U=this.S.U,this.ta.qa=this.S.qa,this.ta.pb=this.S.pb},sc:function(){var t=hi.zc,i=this.gc;return this.hc!=t&&(null==i&&(this.gc=i=new kt),this.hc=t,kt.qd(i,this)),i},f:kt},yt.b=!0,yt.prototype={ga:function(t){var i=this.W;t.s(i.x),t.s(i.y),i=this.ca,t.s(i.x),t.s(i.y),t.l(this.qe.$)},ja:function(t){var i=this.W;i.x=t.u(),i.y=t.u(),(i=this.ca).x=t.u(),i.y=t.u(),t=t.lf(),this.qe=1==t?pt.fa:2==t?pt.xa:pt.Ia},f:yt},mt.b=!0,mt.prototype={ga:function(t){t.s(this.m),t.s(this.aa),t.s(this.Ca),t.s(this.Ce),t.s(this.Te),t.s(this.Ue),t.s(this.Re);var i=this.oa;t.s(i.x),t.s(i.y),t.O(this.v),t.s(this.Z),t.s(this.Se)},ja:function(t){this.m=t.u(),this.aa=t.u(),this.Ca=t.u(),this.Ce=t.u(),this.Te=t.u(),this.Ue=t.u(),this.Re=t.u();var i=this.oa;i.x=t.u(),i.y=t.u(),this.v=t.M(),this.Z=t.u(),this.Se=t.u()},f:mt},wt.b=!0,wt.prototype={f:wt},gt.b=!0,gt.ja=function(t){var i=t.B();return 255==i?((i=new gt).Kr(t),i):gt.Kh()[i]},gt.Kh=function(){if(null==gt.wb){gt.wb=[],(t=new gt).ad("Classic",420,200,370,170,64,75),gt.wb.push(t),(t=new gt).ad("Easy",420,200,370,170,90,75),gt.wb.push(t),(t=new gt).ad("Small",420,200,320,130,55,70),gt.wb.push(t),(t=new gt).ad("Big",600,270,550,240,80,80),gt.wb.push(t),(t=new gt).ad("Rounded",420,200,370,170,64,75,75),gt.wb.push(t),(t=new gt).Qk("Hockey",420,204,398,182,68,120,75,100),gt.wb.push(t),(t=new gt).Qk("Big Hockey",600,270,550,240,90,160,75,150),gt.wb.push(t),(t=new gt).ad("Big Easy",600,270,550,240,95,80),gt.wb.push(t),(t=new gt).ad("Big Rounded",600,270,550,240,80,75,100),gt.wb.push(t),(t=new gt).ad("Huge",750,350,700,320,100,80),gt.wb.push(t);for(var t=0,i=gt.wb.length;t<i;){var n=t++;gt.wb[n].Bh=n}}return gt.wb},gt.wn=function(t,i){if(null!=t.trait){var e=i[n.G(t.trait,String)];if(null!=e)for(var s=0,a=Di.Mm(e);s<a.length;){var h=a[s];++s,null==t[h]&&(t[h]=e[h])}}},gt.Dn=function(t){if(63==t)return["all"];var i=[];return 0!=(2&t)&&i.push("red"),0!=(4&t)&&i.push("blue"),0!=(1&t)&&i.push("ball"),0!=(8&t)&&i.push("redKO"),0!=(16&t)&&i.push("blueKO"),0!=(32&t)&&i.push("wall"),0!=(64&t)&&i.push("kick"),0!=(128&t)&&i.push("score"),0!=(268435456&t)&&i.push("c0"),0!=(536870912&t)&&i.push("c1"),0!=(1073741824&t)&&i.push("c2"),0!=(-2147483648&t)&&i.push("c3"),i},gt.Fc=function(t){t=n.G(t,Array);for(var i=0,e=0;e<t.length;)switch(t[e++]){case"all":i|=63;break;case"ball":i|=1;break;case"blue":i|=4;break;case"blueKO":i|=16;break;case"c0":i|=268435456;break;case"c1":i|=536870912;break;case"c2":i|=1073741824;break;case"c3":i|=-2147483648;break;case"kick":i|=64;break;case"red":i|=2;break;case"redKO":i|=8;break;case"score":i|=128;break;case"wall":i|=32}return i},gt.Jc=function(t,i,n,e){n!=e&&(t[i]=gt.Dn(n))},gt.qg=function(t,i,n){i!=n&&(t.color=gt.Rn(i))},gt.Rn=function(t){return 0>(t|=0)?"transparent":Ui.Vg(t)},gt.$f=function(t){if("transparent"==t)return-1;if("string"==typeof t)return qi.parseInt("0x"+qi.ye(t));if(t instanceof Array&&null==t.eb)return((0|t[0])<<16)+((0|t[1])<<8)+(0|t[2]);throw new e("Bad color")},gt.Tr=function(t){var i={x:t.a.x,y:t.a.y};return gt.ka(i,"bCoef",t.m,1),gt.Jc(i,"cMask",t.h,63),gt.Jc(i,"cGroup",t.v,32),i},gt.np=function(t){var i=new O;i.a.x=n.G(t.x,$i),i.a.y=n.G(t.y,$i);var e=t.bCoef;return null!=e&&(i.m=n.G(e,$i)),null!=(e=t.cMask)&&(i.h=gt.Fc(e)),null!=(t=t.cGroup)&&(i.v=gt.Fc(t)),i},gt.fr=function(t,i){var n={v0:t.W.ud,v1:t.ca.ud};gt.ka(n,"bias",t.Cc,i.Cc),gt.ka(n,"bCoef",t.m,i.m);var e=t.Co();return gt.ka(n,"curve",e,0),0!=e&&(n.curveF=t.vb),gt.ka(n,"vis",t.Za,i.Za),gt.Jc(n,"cMask",t.h,i.h),gt.Jc(n,"cGroup",t.v,i.v),gt.qg(n,t.R,i.R),n},gt.mp=function(t,i){var e=new F,s=n.G(t.v1,Xi);e.W=i[n.G(t.v0,Xi)],e.ca=i[s];s=t.bias;var a=t.bCoef,h=t.curve,o=t.curveF,r=t.vis,c=t.cMask,l=t.cGroup,u=t.color;return null!=s&&(e.Cc=n.G(s,$i)),null!=a&&(e.m=n.G(a,$i)),null!=o?e.vb=n.G(o,$i):null!=h&&e.Oc(n.G(h,$i)),null!=r&&(e.Za=n.G(r,Qi)),null!=c&&(e.h=gt.Fc(c)),null!=l&&(e.v=gt.Fc(l)),null!=u&&(e.R=gt.$f(u)),e},gt.ap=function(t){var i={d0:t.Yd,d1:t.Zd,length:t.Hb>=t.ec?t.Hb:[t.Hb,t.ec]};return gt.qg(i,t.R,0),gt.ka(i,"strength",t.ne,1/0),i},gt.jp=function(t,i){var s=new G,a=n.G(t.d0,Xi),h=n.G(t.d1,Xi),o=t.color,r=t.strength,c=t.length;if(a>=i.length||0>a)throw new e(null);if(h>=i.length||0>h)throw new e(null);return s.Yd=a,s.Zd=h,null==c?(a=i[a],c=i[h],null==a||null==c?s.ec=s.Hb=100:(h=a.a,c=c.a,a=h.x-c.x,h=h.y-c.y,s.ec=s.Hb=Math.sqrt(a*a+h*h))):c instanceof Array&&null==c.eb?(s.Hb=n.G(c[0],$i),s.ec=n.G(c[1],$i)):s.ec=s.Hb=n.G(c,$i),s.ne=null==r||"rigid"==r?1/0:n.G(r,$i),null!=o&&(s.R=gt.$f(o)),s},gt.gq=function(t){var i={normal:[t.wa.x,t.wa.y],dist:t.Ua};return gt.ka(i,"bCoef",t.m,1),gt.Jc(i,"cMask",t.h,63),gt.Jc(i,"cGroup",t.v,32),i},gt.kp=function(t){var i=new E,e=n.G(t.normal,Array),s=n.G(e[0],$i),a=(e=n.G(e[1],$i),i.wa),h=Math.sqrt(s*s+e*e);return a.x=s/h,a.y=e/h,i.Ua=n.G(t.dist,$i),s=t.bCoef,e=t.cMask,t=t.cGroup,null!=s&&(i.m=n.G(s,$i)),null!=e&&(i.h=gt.Fc(e)),null!=t&&(i.v=gt.Fc(t)),i},gt.Jo=function(t){return{p0:[t.W.x,t.W.y],p1:[t.ca.x,t.ca.y],team:t.qe==pt.fa?"red":"blue"}},gt.ip=function(t){var i=new yt,s=n.G(t.p0,Array),a=n.G(t.p1,Array),h=i.W;switch(h.x=s[0],h.y=s[1],(s=i.ca).x=a[0],s.y=a[1],t.team){case"blue":t=pt.xa;break;case"red":t=pt.fa;break;default:throw new e("Bad team value")}return i.qe=t,i},gt.jq=function(t){var i={};return gt.ka(i,"bCoef",t.m,.5),gt.ka(i,"invMass",t.aa,.5),gt.ka(i,"damping",t.Ca,.96),gt.ka(i,"acceleration",t.Ce,.1),gt.ka(i,"kickingAcceleration",t.Te,.07),gt.ka(i,"kickingDamping",t.Ue,.96),gt.ka(i,"kickStrength",t.Re,5),gt.Jc(i,"cGroup",t.v,0),0==t.oa.x&&0==t.oa.y||(i.gravity=[t.oa.x,t.oa.y]),gt.ka(i,"radius",t.Z,15),gt.ka(i,"kickback",t.Se,0),i},gt.lp=function(t){var i=new mt,e=t.bCoef,s=t.invMass,a=t.damping,h=t.acceleration,o=t.kickingAcceleration,r=t.kickingDamping,c=t.kickStrength,l=t.gravity,u=t.cGroup,f=t.radius;return t=t.kickback,null!=e&&(i.m=n.G(e,$i)),null!=s&&(i.aa=n.G(s,$i)),null!=a&&(i.Ca=n.G(a,$i)),null!=h&&(i.Ce=n.G(h,$i)),null!=o&&(i.Te=n.G(o,$i)),null!=r&&(i.Ue=n.G(r,$i)),null!=c&&(i.Re=n.G(c,$i)),null!=l&&(e=i.oa,s=n.G(l[1],$i),e.x=n.G(l[0],$i),e.y=s),null!=u&&(i.v=gt.Fc(u)),null!=f&&(i.Z=n.G(f,$i)),null!=t&&(i.Se=n.G(t,$i)),i},gt.mo=function(t,i){var n={};return t.a.x==i.a.x&&t.a.y==i.a.y||(n.pos=[t.a.x,t.a.y]),t.D.x==i.D.x&&t.D.y==i.D.y||(n.speed=[t.D.x,t.D.y]),t.oa.x==i.oa.x&&t.oa.y==i.oa.y||(n.gravity=[t.oa.x,t.oa.y]),gt.ka(n,"radius",t.Z,i.Z),gt.ka(n,"bCoef",t.m,i.m),gt.ka(n,"invMass",t.aa,i.aa),gt.ka(n,"damping",t.Ca,i.Ca),gt.qg(n,t.R,i.R),gt.Jc(n,"cMask",t.h,i.h),gt.Jc(n,"cGroup",t.v,i.v),n},gt.Mk=function(t,i){var e=t.pos,s=t.speed,a=t.gravity,h=t.radius,o=t.bCoef,r=t.invMass,c=t.damping,l=t.color,u=t.cMask,f=t.cGroup;if(null!=e){var d=i.a;d.x=e[0],d.y=e[1]}return null!=s&&((e=i.D).x=s[0],e.y=s[1]),null!=a&&((s=i.oa).x=a[0],s.y=a[1]),null!=h&&(i.Z=n.G(h,$i)),null!=o&&(i.m=n.G(o,$i)),null!=r&&(i.aa=n.G(r,$i)),null!=c&&(i.Ca=n.G(c,$i)),null!=l&&(i.R=gt.$f(l)),null!=u&&(i.h=gt.Fc(u)),null!=f&&(i.v=gt.Fc(f)),i},gt.ka=function(t,i,n,e){n!=e&&(t[i]=n)},gt.prototype={dg:function(){var t=new xt;return t.R=16777215,t.h=63,t.v=193,t.Z=10,t.Ca=.99,t.aa=1,t.m=.5,t},ga:function(t){if(t.l(this.Bh),!this.Pe()){t.Db(this.w),t.O(this.ld),t.s(this.Td),t.s(this.Sd),t.s(this.kd),t.s(this.Uc),t.s(this.Fe),t.O(this.jd),t.s(this.$b),t.s(this.qc),t.s(this.kc),this.ge.ga(t),t.Ub(this.Ye),t.l(this.Ge),t.l(this.Lf?1:0),t.l(this.pf?1:0),t.l(this.J.length);for(var i=0,n=this.J.length;i<n;){var e=i++,s=this.J[e];s.ud=e,s.ga(t)}for(t.l(this.U.length),i=0,n=this.U;i<n.length;)n[i++].ga(t);for(t.l(this.qa.length),i=0,n=this.qa;i<n.length;)n[i++].ga(t);for(t.l(this.tc.length),i=0,n=this.tc;i<n.length;)n[i++].ga(t);for(t.l(this.F.length),i=0,n=this.F;i<n.length;)n[i++].ga(t);for(t.l(this.pb.length),i=0,n=this.pb;i<n.length;)n[i++].ga(t);for(t.l(this.Dd.length),i=0,n=this.Dd;i<n.length;)e=n[i],++i,t.s(e.x),t.s(e.y);for(t.l(this.md.length),i=0,n=this.md;i<n.length;)e=n[i],++i,t.s(e.x),t.s(e.y)}},Kr:function(t){function i(){for(var i=[],n=t.B(),e=0;e<n;){++e;var s=new $t(0,0);s.x=t.u(),s.y=t.u(),i.push(s)}return i}this.w=t.zb(),this.ld=t.M(),this.Td=t.u(),this.Sd=t.u(),this.kd=t.u(),this.Uc=t.u(),this.Fe=t.u(),this.jd=t.M(),this.$b=t.u(),this.qc=t.u(),this.kc=t.u(),this.ge.ja(t),this.Ye=t.Ob(),this.Ge=t.B(),this.Lf=0!=t.B(),this.pf=0!=t.B(),this.J=[];for(var n=t.B(),e=0;e<n;){var s=new O;s.ja(t),s.ud=e++,this.J.push(s)}for(this.U=[],n=t.B(),e=0;e<n;)++e,(s=new F).ja(t,this.J),this.U.push(s);for(this.qa=[],n=t.B(),e=0;e<n;)++e,(s=new E).ja(t),this.qa.push(s);for(this.tc=[],n=t.B(),e=0;e<n;)++e,(s=new yt).ja(t),this.tc.push(s);for(this.F=[],n=t.B(),e=0;e<n;)++e,(s=new xt).ja(t),this.F.push(s);for(this.pb=[],n=t.B(),e=0;e<n;)++e,(s=new G).ja(t),this.pb.push(s);this.Dd=i(),this.md=i(),this.he()},he:function(){for(var t=0,i=this.U;t<i.length;)i[t++].he()},Pe:function(){return 255!=this.Bh},be:function(t,i,e){return null!=(t=t[i])?n.G(t,$i):e},op:function(t,i,e){return null!=(t=t[i])?n.G(t,Qi):e},se:function(){return JSON.stringify(this.Hr())},Hr:function(){if(!this.Lf)throw new e(0);for(var t={},i=0,n=[],s=0,a=this.J;s<a.length;){var h=a[s];++s,h.ud=i++,n.push(gt.Tr(h))}for(s=new F,i=[],a=0,h=this.U;a<h.length;)i.push(gt.fr(h[a++],s));for(s=[],a=0,h=this.qa;a<h.length;)s.push(gt.gq(h[a++]));a=[],h=0;for(var o=this.tc;h<o.length;)a.push(gt.Jo(o[h++]));h=gt.jq(this.ge);for(var r=new xt,c=(o=[],0),l=this.F;c<l.length;)o.push(gt.mo(l[c++],r));for(r=[],c=0,l=this.pb;c<l.length;)r.push(gt.ap(l[c++]));c=[],l=0;for(var u=this.Dd;l<u.length;){var f=u[l];++l,c.push([f.x,f.y])}for(l=[],u=0,f=this.md;u<f.length;){var d=f[u];++u,l.push([d.x,d.y])}switch(n={name:this.w,width:this.$b,height:this.qc,bg:t,vertexes:n,segments:i,planes:s,goals:a,discs:o,playerPhysics:h,ballPhysics:"disc0"},gt.ka(n,"maxViewWidth",this.Ye,0),gt.ka(n,"cameraFollow",1==this.Ge?"player":"",""),gt.ka(n,"spawnDistance",this.kc,200),0!=r.length&&(n.joints=r),0!=c.length&&(n.redSpawnPoints=c),0!=l.length&&(n.blueSpawnPoints=l),gt.ka(n,"kickOffReset",this.pf?"full":"partial","partial"),this.ld){case 1:i="grass";break;case 2:i="hockey";break;default:i="none"}return gt.ka(t,"type",i,"none"),gt.ka(t,"width",this.Td,0),gt.ka(t,"height",this.Sd,0),gt.ka(t,"kickOffRadius",this.kd,0),gt.ka(t,"cornerRadius",this.Uc,0),gt.qg(t,this.jd,7441498),gt.ka(t,"goalLine",this.Fe,0),n},Lk:function(t){function i(t){return new $t(n.G(t[0],$i),t=n.G(t[1],$i))}function s(t,i,s,a){null==a&&(a=!1);var h=o[i];if((!a||null!=h)&&null!=(a=n.G(h,Array)))for(h=0;h<a.length;){var c=a[h];++h;try{gt.wn(c,r),t.push(s(c))}catch(n){throw new e(new wt('Error in "'+i+'" index: '+t.length))}}}var a,h=this,o=JSON5.parse(t);switch(this.J=[],this.U=[],this.qa=[],this.tc=[],this.F=[],this.pb=[],this.w=n.G(o.name,String),this.$b=n.G(o.width,$i),this.qc=n.G(o.height,$i),this.Ye=0|this.be(o,"maxViewWidth",0),"player"==o.cameraFollow&&(this.Ge=1),this.kc=200,null!=(t=o.spawnDistance)&&(this.kc=n.G(t,$i)),(t=o.bg).type){case"grass":a=1;break;case"hockey":a=2;break;default:a=0}this.ld=a,this.Td=this.be(t,"width",0),this.Sd=this.be(t,"height",0),this.kd=this.be(t,"kickOffRadius",0),this.Uc=this.be(t,"cornerRadius",0),this.jd=7441498,null!=t.color&&(this.jd=gt.$f(t.color)),this.Fe=this.be(t,"goalLine",0),this.Lf=this.op(o,"canBeStored",!0),this.pf="full"==o.kickOffReset;var r=o.traits;if("disc0"!=(t=o.ballPhysics)&&(null!=t?((t=gt.Mk(t,this.dg())).v|=192,this.F.push(t)):this.F.push(this.dg())),s(this.J,"vertexes",gt.np),s(this.U,"segments",function(t){return gt.mp(t,h.J)}),s(this.tc,"goals",gt.ip),s(this.F,"discs",function(t){return gt.Mk(t,new xt)}),s(this.qa,"planes",gt.kp),s(this.pb,"joints",function(t){return gt.jp(t,h.F)},!0),s(this.Dd,"redSpawnPoints",i,!0),s(this.md,"blueSpawnPoints",i,!0),null!=(t=o.playerPhysics)&&(this.ge=gt.lp(t)),255<this.J.length||255<this.U.length||255<this.qa.length||255<this.tc.length||255<this.F.length)throw new e("Error");this.he()},Sj:function(){var t=gt.Fr;t.a=0,this.ga(t);var i=new Ii;return i.Yr(t.Sb()),i.hash=(i.hash+=i.hash<<3)^i.hash>>>11,i.hash+=i.hash<<15,0|i.hash},Kn:function(t,i){for(var n=0,e=this.tc;n<e.length;){var s=e[n];++n;var a=s.W,h=s.ca,o=i.x-t.x,r=i.y-t.y;if(0<-(a.y-t.y)*o+(a.x-t.x)*r==0<-(h.y-t.y)*o+(h.x-t.x)*r?a=!1:(o=h.x-a.x,h=h.y-a.y,a=0<-(t.y-a.y)*o+(t.x-a.x)*h!=0<-(i.y-a.y)*o+(i.x-a.x)*h),a)return s.qe}return pt.Ia},ad:function(t,i,n,e,s,a,h,o){var r,c,l;null==o&&(o=0),this.w=t,this.F.push(this.dg()),this.$b=i,this.qc=n,this.ld=1,this.jd=7441498,this.Td=e,this.Sd=s,this.kd=h,this.Uc=o,this.kc=.75*e,400<this.kc&&(this.kc=400),(r=(t=new E).wa).x=0,r.y=1,t.Ua=-n,t.m=0,this.qa.push(t),(r=(t=new E).wa).x=0,r.y=-1,t.Ua=-n,t.m=0,this.qa.push(t),(r=(t=new E).wa).x=1,r.y=0,t.Ua=-i,t.m=0,this.qa.push(t),(r=(t=new E).wa).x=-1,r.y=0,t.Ua=-i,t.m=0,this.qa.push(t),this.eg(e,1,a,13421823,pt.xa),this.eg(-e,-1,a,16764108,pt.fa),this.Rk(h,n),(n=(i=new E).wa).x=0,n.y=1,i.Ua=-s,i.h=1,this.qa.push(i),(n=(i=new E).wa).x=0,n.y=-1,i.Ua=-s,i.h=1,this.qa.push(i),(n=(i=new O).a).x=-e,n.y=-s,i.h=0,(h=(n=new O).a).x=e,h.y=-s,n.h=0,(t=(h=new O).a).x=e,t.y=-a,h.h=0,(r=(t=new O).a).x=e,r.y=a,t.h=0,(c=(r=new O).a).x=e,c.y=s,r.h=0,(l=(c=new O).a).x=-e,l.y=s,c.h=0,(u=(l=new O).a).x=-e,u.y=a,l.h=0;var u,f=(u=new O).a;f.x=-e,f.y=-a,u.h=0,(a=new F).W=n,a.ca=h,a.h=1,a.Za=!1,(f=new F).W=t,f.ca=r,f.h=1,f.Za=!1;var d=new F;d.W=c,d.ca=l,d.h=1,d.Za=!1;var b=new F;b.W=u,b.ca=i,b.h=1,b.Za=!1,this.J.push(i),this.J.push(n),this.J.push(h),this.J.push(t),this.J.push(r),this.J.push(c),this.J.push(l),this.J.push(u),this.U.push(a),this.U.push(f),this.U.push(d),this.U.push(b),this.Pk(e,s,o),this.he()},Qk:function(t,i,n,e,s,a,h,o,r){this.w=t,this.F.push(this.dg()),this.$b=i,this.qc=n,this.ld=2,this.Td=e,this.Sd=s,this.kd=o,this.Uc=r,this.Fe=h,this.kc=.75*(e-h),400<this.kc&&(this.kc=400);var c=(t=new E).wa;c.x=0,c.y=1,t.Ua=-n,t.m=0,this.qa.push(t),(c=(t=new E).wa).x=0,c.y=-1,t.Ua=-n,t.m=0,this.qa.push(t),(c=(t=new E).wa).x=1,c.y=0,t.Ua=-i,t.m=0,this.qa.push(t),(c=(t=new E).wa).x=-1,c.y=0,t.Ua=-i,t.m=0,this.qa.push(t),this.eg(e-h,1,a,13421823,pt.xa,63),this.eg(-e+h,-1,a,16764108,pt.fa,63),this.Rk(o,n),(n=(i=new E).wa).x=0,n.y=1,i.Ua=-s,i.h=1,this.qa.push(i),(n=(i=new E).wa).x=0,n.y=-1,i.Ua=-s,i.h=1,this.qa.push(i),(n=(i=new E).wa).x=1,n.y=0,i.Ua=-e,i.h=1,this.qa.push(i),(n=(i=new E).wa).x=-1,n.y=0,i.Ua=-e,i.h=1,this.qa.push(i),this.Pk(e,s,r),this.he()},eg:function(t,i,n,e,s,a,h){null==h&&(h=32),null==a&&(a=1);var o,r=new O;(o=r.a).x=t+8*i,o.y=-n,(l=(o=new O).a).x=t+8*i,l.y=n;var c=new O;(l=c.a).x=r.a.x+22*i,l.y=r.a.y+22;var l,u=new O;(l=u.a).x=o.a.x+22*i,l.y=o.a.y-22,(l=new F).W=r,l.ca=c,l.Oc(90*i);var f=new F;f.W=u,f.ca=c;var d=new F;for(d.W=u,d.ca=o,d.Oc(90*i),i=this.J.length,this.J.push(r),this.J.push(o),this.J.push(c),this.J.push(u),r=i,i=this.J.length;r<i;)o=r++,this.J[o].h=a,this.J[o].v=h,this.J[o].m=.1;for(i=this.U.length,this.U.push(l),this.U.push(f),this.U.push(d),r=i,i=this.U.length;r<i;)o=r++,this.U[o].h=a,this.U[o].v=h,this.U[o].m=.1;(h=(a=new xt).a).x=t,h.y=-n,a.aa=0,a.Z=8,a.R=e,this.F.push(a),(h=(a=new xt).a).x=t,h.y=n,a.aa=0,a.Z=8,a.R=e,this.F.push(a),(a=(e=new yt).W).x=t,a.y=-n,(a=e.ca).x=t,a.y=n,e.qe=s,this.tc.push(e)},Rk:function(t,i){var n,e,s=new O;(n=s.a).x=0,n.y=-i,s.m=.1,s.v=24,s.h=6,(e=(n=new O).a).x=0,e.y=-t,n.m=.1,n.v=24,n.h=6,(a=(e=new O).a).x=0,a.y=t,e.m=.1,e.v=24,e.h=6;var a,h=(a=new O).a;h.x=0,h.y=i,a.m=.1,a.v=24,a.h=6,(h=new F).W=s,h.ca=n,h.v=24,h.h=6,h.Za=!1,h.m=.1;var o=new F;o.W=e,o.ca=a,o.v=24,o.h=6,o.Za=!1,o.m=.1;var r=new F;r.W=n,r.ca=e,r.v=8,r.h=6,r.Za=!1,r.Oc(180),r.m=.1;var c=new F;c.W=e,c.ca=n,c.v=16,c.h=6,c.Za=!1,c.Oc(180),c.m=.1,this.J.push(s),this.J.push(n),this.J.push(e),this.J.push(a),this.U.push(h),this.U.push(o),this.U.push(r),this.U.push(c)},Pk:function(t,i,n){if(!(0>=n)){var e,s,a,h,o,r,c=new O;(e=c.a).x=-t+n,e.y=-i,c.h=0,(s=(e=new O).a).x=-t,s.y=-i+n,e.h=0,(a=(s=new O).a).x=-t+n,a.y=i,s.h=0,(h=(a=new O).a).x=-t,h.y=i-n,a.h=0,(o=(h=new O).a).x=t-n,o.y=i,h.h=0,(r=(o=new O).a).x=t,r.y=i-n,o.h=0,(l=(r=new O).a).x=t-n,l.y=-i,r.h=0;var l,u=(l=new O).a;u.x=t,u.y=-i+n,l.h=0,(t=new F).W=c,t.ca=e,t.h=1,t.Za=!1,t.m=1,t.Oc(-90),(i=new F).W=s,i.ca=a,i.h=1,i.Za=!1,i.m=1,i.Oc(90),(n=new F).W=h,n.ca=o,n.h=1,n.Za=!1,n.m=1,n.Oc(-90),(u=new F).W=r,u.ca=l,u.h=1,u.Za=!1,u.m=1,u.Oc(90),this.J.push(c),this.J.push(e),this.J.push(s),this.J.push(a),this.J.push(h),this.J.push(o),this.J.push(r),this.J.push(l),this.U.push(t),this.U.push(i),this.U.push(n),this.U.push(u)}},f:gt},vt.b=!0,vt.prototype={ga:function(t){t.l(this.hd),t.O(this.ed),t.l(this.fb.length);for(var i=0,n=this.fb;i<n.length;)t.O(n[i++])},ja:function(t){this.hd=t.B(),this.ed=t.M();var i=t.B();if(3<i)throw new e("too many");this.fb=[];for(var n=0;n<i;)++n,this.fb.push(t.M())},f:vt},pt.b=!0,pt.prototype={f:pt},bt.b=!0,bt.Rd=[oi,ui],bt.qd=function(t,i){if(t.jc=i.jc,null==i.I)t.I=null;else{null==t.I&&(t.I=[]);for(var n=t.I,e=i.I,s=e.length;n.length>s;)n.pop();s=0;for(var a=e.length;s<a;){var h=s++;n[h]=e[h].hs()}}t.K=null==i.K?null:i.K.sc(),t.Pc=i.Pc,t.ib=i.ib,t.Da=i.Da,t.ce=i.ce,t.Zc=i.Zc,t.yd=i.yd,t.S=i.S,t.kb=i.kb},bt.prototype={yr:function(t){if(null==this.K){this.K=new kt;for(var i=0,n=this.I;i<n.length;){var e=n[i];++i,e.H=null,e.Jb=0}this.K.Wo(this),null!=this.Ki&&this.Ki(t)}},Mf:function(t,i,n){if(i.ea!=n){if(i.ea=n,Oi.remove(this.I,i),this.I.push(i),null!=this.K){null!=i.H&&(Oi.remove(this.K.ta.F,i.H),i.H=null),this.K.Ck(i);for(var e=0,s=!1;!s;){++e;s=!0;for(var a=0,h=this.I;a<h.length;){var o=h[a];if(++a,o!=i&&o.ea==i.ea&&o.Jb==e){s=!1;break}}}i.Jb=e}Wt.i(this.xl,t,i,n)}},na:function(t){for(var i=0,n=this.I;i<n.length;){var e=n[i];if(++i,e.V==t)return e}return null},C:function(t){null!=this.K&&this.K.C(t)},ga:function(t){t.Db(this.jc),t.l(this.Pc?1:0),t.O(this.ib),t.O(this.Da),t.Xi(this.ce),t.l(this.Zc),t.l(this.yd),this.S.ga(t),t.l(null!=this.K?1:0),null!=this.K&&this.K.ga(t),t.l(this.I.length);for(var i=0,n=this.I;i<n.length;)n[i++].ua(t);this.kb[1].ga(t),this.kb[2].ga(t)},ja:function(t){this.jc=t.zb(),this.Pc=0!=t.B(),this.ib=t.M(),this.Da=t.M(),this.ce=t.ni(),this.Zc=t.B(),this.yd=t.B(),this.S=gt.ja(t);var i=0!=t.B();this.K=null,i&&(this.K=new kt,this.K.ja(t,this));i=null==this.K?null:this.K.ta.F;for(var n=t.B(),e=this.I;e.length>n;)e.pop();for(e=0;e<n;){var s=new dt;s.va(t,i),this.I[e++]=s}this.kb[1].ja(t),this.kb[2].ja(t)},uk:function(){var t=0,i=Si.ha();for(this.ga(i),i=i.Gr();4<=i.o.byteLength-i.a;)t^=i.M();return t},Ao:function(){var t=Si.ha(4);return t.O(this.uk()),t.Kg()},Sn:function(t){t=new Ti(new DataView(t)).M(),Yt.i(this.ko,this.uk()!=t)},km:function(t){this.Ol=t},Lb:function(t){return 0==t||!(null==(t=this.na(t))||!t.cb)},mr:function(t,i,n,e){this.yd=0>i?0:255<i?255:i,this.Zc=0>n?0:255<n?255:n,e=0>e?0:100<e?100:e,this.ce=this.Zc*e,Jt.i(this.Hk,t,this.yd,this.Zc,e)},sc:function(){var t=hi.zc,i=this.gc;return this.hc!=t&&(null==i&&(this.gc=i=new bt),this.hc=t,bt.qd(i,this)),i},f:bt},dt.b=!0,dt.Rd=[oi],dt.$r=function(t,i){t.cb=i.cb,t.Jb=i.Jb,t.Xb=i.Xb,t.Jd=i.Jd,t.Ld=i.Ld,t.Kd=i.Kd,t.Ug=i.Ug,t.yb=i.yb,t.w=i.w,t.ob=i.ob,t.V=i.V,t.Wb=i.Wb,t.yc=i.yc,t.Sc=i.Sc,t.H=null==i.H?null:i.H.sc(),t.ea=i.ea},dt.prototype={ua:function(t){t.l(this.cb?1:0),t.O(this.Jb),t.Db(this.Xb),t.Db(this.Jd),t.l(this.Ld?1:0),t.Db(this.Kd),t.O(this.Ug),t.Db(this.w),t.O(this.ob),t.lb(this.V),t.l(this.Wb?1:0),t.Xi(this.yc),t.l(this.Sc),t.l(this.ea.$),t.Xi(null==this.H?-1:this.H.jl)},va:function(t,i){this.cb=0!=t.B(),this.Jb=t.M(),this.Xb=t.zb(),this.Jd=t.zb(),this.Ld=0!=t.B(),this.Kd=t.zb(),this.Ug=t.M(),this.w=t.zb(),this.ob=t.M(),this.V=t.Ab(),this.Wb=0!=t.B(),this.yc=t.ni(),this.Sc=t.B();var n=t.lf();this.ea=1==n?pt.fa:2==n?pt.xa:pt.Ia,n=t.ni(),this.H=0>n?null:i[n]},hs:function(){var t=hi.zc,i=this.an;return this.zc!=t&&(null==i&&(this.an=i=new dt),this.zc=t,dt.$r(i,this)),i},f:dt},ft.b=!0,ft.la=function(t){var i=new ft;return i.Yg=t,i},ft.ma=pi,ft.prototype=Ni(pi.prototype,{apply:function(t){var i=t.na(this.P);null!=i&&this.Yg!=i.Ld&&(i.Ld=this.Yg,Yt.i(t.sl,i))},ua:function(t){t.l(this.Yg?1:0)},va:function(t){this.Yg=0!=t.B()},f:ft}),ut.b=!0,ut.ma=pi,ut.prototype=Ni(pi.prototype,{apply:function(t){0==this.P&&Jt.i(t.Vl,this.Tc,this.color,this.style,this.fn)},ua:function(t){t.mc(Bi.Qc(this.Tc,1e3)),t.O(this.color),t.l(this.style),t.l(this.fn)},va:function(t){if(this.Tc=t.ic(),1e3<this.Tc.length)throw new e("message too long");this.color=t.M(),this.style=t.B(),this.fn=t.B()},f:ut}),lt.b=!0,lt.ma=pi,lt.prototype=Ni(pi.prototype,{apply:function(t){if(t.Lb(this.P,1)){for(var i=t.na(this.P),n=t.I,e=[],s=0,a=0,h=0;h<n.length;){var o=n[h];++h,o.ea==pt.Ia&&e.push(o),o.ea==pt.fa?++s:o.ea==pt.xa&&++a}0!=(n=e.length)&&(a==s?2>n||(t.Mf(i,e[0],pt.fa),t.Mf(i,e[1],pt.xa)):t.Mf(i,e[0],a>s?pt.fa:pt.xa))}},ua:function(){},va:function(){},f:lt}),ct.b=!0,ct.la=function(t,i){var n=new ct;return n.rj=t,n.newValue=i,n},ct.ma=pi,ct.prototype=Ni(pi.prototype,{apply:function(t){if(t.Lb(this.P,2)&&null==t.K)switch(this.rj){case 0:var i=this.newValue;t.ib=0>i?0:99<i?99:i;break;case 1:i=this.newValue,t.Da=0>i?0:99<i?99:i}},ua:function(t){t.O(this.rj),t.O(this.newValue)},va:function(t){this.rj=t.M(),this.newValue=t.M()},f:ct}),rt.b=!0,rt.la=function(t,i){var n=new rt;return n.Md=t,n.Xg=i,n},rt.ma=pi,rt.prototype=Ni(pi.prototype,{apply:function(t){if(t.Lb(this.P,4)){var i=t.na(this.P),n=t.na(this.Md);null!=n&&0!=n.V&&n.cb!=this.Xg&&(n.cb=this.Xg,null!=t.ii&&t.ii(i,n))}},ua:function(t){t.O(this.Md),t.l(this.Xg?1:0)},va:function(t){this.Md=t.M(),this.Xg=0!=t.B()},f:rt}),ot.b=!0,ot.la=function(t){var i=new ot;return i.Zb=t,i},ot.ma=pi,ot.prototype=Ni(pi.prototype,{apply:function(t){null!=(t=t.na(this.P))&&(t.Xb=this.Zb)},ua:function(t){t.Db(this.Zb)},va:function(t){this.Zb=t.zb(),null!=this.Zb&&(this.Zb=Bi.Qc(this.Zb,2))},f:ot}),ht.b=!0,ht.la=function(t,i){var n=new ht;return n.Md=t,n.jj=i,n},ht.ma=pi,ht.prototype=Ni(pi.prototype,{apply:function(t){var i=t.na(this.Md);if(null!=i){var n=t.na(this.P),e=t.Lb(this.P,1);(e=e||i==n&&!t.Pc&&null==t.K)&&t.Mf(n,i,this.jj)}},ua:function(t){t.O(this.Md),t.l(this.jj.$)},va:function(t){this.Md=t.M(),t=t.lf(),this.jj=1==t?pt.fa:2==t?pt.xa:pt.Ia},f:ht}),at.b=!0,at.la=function(t){var i=new at;return i.Pd=t,i},at.ma=pi,at.prototype=Ni(pi.prototype,{apply:function(t){if(t.Lb(this.P,8)){var i=t.na(this.P);null==t.K&&(t.S=this.Pd,null!=t.Ii&&t.Ii(i,this.Pd))}},ua:function(t){var i=Si.ha();this.Pd.ga(i),i=pako.deflateRaw(i.Sb()),t.Ub(i.byteLength),t.Vb(i)},va:function(t){t=pako.inflateRaw(t.sb(t.Ob())),this.Pd=gt.ja(new Ti(new DataView(t.buffer,t.byteOffset,t.byteLength)))},f:at}),st.b=!0,st.ma=pi,st.prototype=Ni(pi.prototype,{apply:function(t){t.Lb(this.P,2)&&this.ea!=pt.Ia&&(t.kb[this.ea.$]=this.Sg)},ua:function(t){t.l(this.ea.$),this.Sg.ga(t)},va:function(t){var i=t.lf();this.ea=1==i?pt.fa:2==i?pt.xa:pt.Ia,this.Sg=new vt,this.Sg.ja(t)},f:st}),et.b=!0,et.la=function(t){var i=new et;return i.newValue=t,i},et.ma=pi,et.prototype=Ni(pi.prototype,{apply:function(t){t.Lb(this.P,2)&&(t.Pc=this.newValue)},ua:function(t){t.l(this.newValue?1:0)},va:function(t){this.newValue=0!=t.B()},f:et}),nt.b=!0,nt.la=function(t,i,n,e){var s=new nt;return s.V=t,s.name=i,s.cj=n,s.Xb=e,s},nt.ma=pi,nt.prototype=Ni(pi.prototype,{apply:function(t){if(0==this.P){var i=new dt;i.V=this.V,i.w=this.name,i.Kd=this.cj,i.Xb=this.Xb,t.I.push(i),null!=(t=t.tl)&&t(i)}},ua:function(t){t.O(this.V),t.Db(this.name),t.Db(this.cj),t.Db(this.Xb)},va:function(t){this.V=t.M(),this.name=t.zb(),this.cj=t.zb(),this.Xb=t.zb()},f:nt}),it.b=!0,it.ma=pi,it.prototype=Ni(pi.prototype,{apply:function(t){null!=(t=t.na(this.ze))&&0==this.P&&(t.Jd=this.Zb)},ua:function(t){t.Db(this.Zb),t.O(this.ze)},va:function(t){this.Zb=t.zb(),this.ze=t.M(),null!=this.Zb&&(this.Zb=Bi.Qc(this.Zb,2))},f:it}),tt.b=!0,tt.ma=pi,tt.prototype=Ni(pi.prototype,{apply:function(t){var i=t.K;if(null!=i&&t.Lb(this.P,16)){var n=t.na(this.P),e=120==i.Oa,s=0<i.Oa;this.Bf?i.Oa=120:120==i.Oa&&(i.Oa=119),e!=this.Bf&&Wt.i(t.ml,n,this.Bf,s)}},ua:function(t){t.l(this.Bf?1:0)},va:function(t){this.Bf=0!=t.B()},f:tt}),_.b=!0,_.ma=pi,_.prototype=Ni(pi.prototype,{$m:function(t){if(null!=t.hq){var i=t.na(this.P);return null!=i&&t.hq(i,this.Tc)}return!0},apply:function(t){var i=t.na(this.P);null!=i&&Zt.i(t.rl,i,this.Tc)},ua:function(t){t.mc(Bi.Qc(this.Tc,140))},va:function(t){if(this.Tc=t.ic(),140<this.Tc.length)throw new e("message too long")},f:_}),Q.b=!0,Q.ma=pi,Q.prototype=Ni(pi.prototype,{apply:function(t){var i=t.na(this.P);if(null!=i){var n=this.input;0==(16&i.ob)&&0!=(16&n)&&(i.Wb=!0),i.ob=n,null!=t.iq&&t.iq(i)}},ua:function(t){t.tb(this.input)},va:function(t){this.input=t.hb()},f:Q}),$.b=!0,$.la=function(t){var i=new $;return i.sj=t,i},$.ma=pi,$.prototype=Ni(pi.prototype,{apply:function(t){var i=t.na(this.P);null!=i&&Zt.i(t.wl,i,this.sj)},ua:function(t){t.l(this.sj)},va:function(t){this.sj=t.B()},f:$}),z.b=!0,z.fj=function(){pi.Ha(ut),pi.Ha($),pi.Ha(fi),pi.Ha(Q),pi.Ha(_),pi.Ha(nt),pi.Ha(X),pi.Ha(J),pi.Ha(V),pi.Ha(tt),pi.Ha(ct),pi.Ha(at),pi.Ha(ht),pi.Ha(et),pi.Ha(rt),pi.Ha(lt),pi.Ha(ft),pi.Ha(H),pi.Ha(ot),pi.Ha(st),pi.Ha(Y),pi.Ha(W),pi.Ha(it),pi.Ha(Z)},X.b=!0,X.la=function(t,i,n){var e=new X;return e.V=t,e.fd=i,e.Qg=n,e},X.ma=pi,X.prototype=Ni(pi.prototype,{apply:function(t){if(0!=this.V&&t.Lb(this.P,128)){var i=t.na(this.V);if(null!=i){var n=t.na(this.P);Oi.remove(t.I,i),null!=t.K&&Oi.remove(t.K.ta.F,i.H),Jt.i(t.ul,i,this.fd,this.Qg,n)}}},ua:function(t){null!=this.fd&&(this.fd=Bi.Qc(this.fd,100)),t.O(this.V),t.Db(this.fd),t.l(this.Qg?1:0)},va:function(t){if(this.V=t.M(),this.fd=t.zb(),this.Qg=0!=t.B(),null!=this.fd&&100<this.fd.length)throw new e("string too long")},f:X}),Y.b=!0,Y.ma=pi,Y.prototype=Ni(pi.prototype,{apply:function(t){if(0==this.P){for(var i=new Map,n=0,e=t.I;n<e.length;){var s=e[n];++n,i.set(s.V,s)}for(n=[],e=0,s=this.Zg;e<s.length;){var a=s[e];++e;var h=i.get(a);null!=h&&(i.delete(a),n.push(h))}for(e=[],s=(i=i.values()).next();!s.done;)a=s.value,s=i.next(),e.push(a);t.I=this.Zm?n.concat(e):e.concat(n)}},ua:function(t){t.l(this.Zm?1:0),t.l(this.Zg.length);for(var i=0,n=this.Zg;i<n.length;)t.O(n[i++])},va:function(t){this.Zm=0!=t.B();var i=t.B();this.Zg=[];for(var n=0;n<i;)++n,this.Zg.push(t.M())},f:Y}),Z.b=!0,Z.ma=pi,Z.prototype=Ni(pi.prototype,{apply:function(t){if(0==this.P){var i=t.K;if(null!=i){if(this.Sm){if(null==(t=t.na(this.ze)))return;t=t.H}else t=i.ta.F[this.ze];null!=t&&(null!=this.Ka[0]&&(t.a.x=this.Ka[0]),null!=this.Ka[1]&&(t.a.y=this.Ka[1]),null!=this.Ka[2]&&(t.D.x=this.Ka[2]),null!=this.Ka[3]&&(t.D.y=this.Ka[3]),null!=this.Ka[4]&&(t.oa.x=this.Ka[4]),null!=this.Ka[5]&&(t.oa.y=this.Ka[5]),null!=this.Ka[6]&&(t.Z=this.Ka[6]),null!=this.Ka[7]&&(t.m=this.Ka[7]),null!=this.Ka[8]&&(t.aa=this.Ka[8]),null!=this.Ka[9]&&(t.Ca=this.Ka[9]),null!=this.Rc[0]&&(t.R=this.Rc[0]),null!=this.Rc[1]&&(t.h=this.Rc[1]),null!=this.Rc[2]&&(t.v=this.Rc[2]))}}},ua:function(t){t.O(this.ze),t.l(this.Sm?1:0);var i=t.a;t.Ub(0);for(var n=0,e=1,s=0,a=this.Ka;s<a.length;){var h=a[s];++s,null!=h&&(n|=e,t.Wi(h)),e<<=1}for(s=0,a=this.Rc;s<a.length;)h=a[s],++s,null!=h&&(n|=e,t.O(h)),e<<=1;e=t.a,t.a=i,t.Ub(n),t.a=e},va:function(t){this.ze=t.M(),this.Sm=0!=t.B();var i=t.Ob();this.Ka=[];for(var n=0;10>n;){var e=n++;this.Ka[e]=null,0!=(1&i)&&(this.Ka[e]=t.mi()),i>>>=1}for(this.Rc=[],n=0;3>n;)e=n++,this.Rc[e]=null,0!=(1&i)&&(this.Rc[e]=t.M()),i>>>=1},f:Z}),W.b=!0,W.la=function(t,i,n){var e=new W;return e.min=t,e.nj=i,e.aj=n,e},W.ma=pi,W.prototype=Ni(pi.prototype,{apply:function(t){t.Lb(this.P,2)&&t.mr(t.na(this.P),this.min,this.nj,this.aj)},ua:function(t){t.O(this.min),t.O(this.nj),t.O(this.aj)},va:function(t){this.min=t.M(),this.nj=t.M(),this.aj=t.M()},f:W}),J.b=!0,J.ma=pi,J.prototype=Ni(pi.prototype,{apply:function(t){t.Lb(this.P,32)&&t.yr(t.na(this.P),0)},ua:function(){},va:function(){},f:J}),V.b=!0,V.ma=pi,V.prototype=Ni(pi.prototype,{apply:function(t){if(t.Lb(this.P,32)){var i=t.na(this.P);if(null!=t.K){t.K=null;for(var n=0,e=t.I;n<e.length;){var s=e[n];++n,s.H=null,s.Jb=0}null!=t.vf&&t.vf(i)}}},ua:function(){},va:function(){},f:V}),H.b=!0,H.la=function(t){for(var i=new H,n=t.T.I,e=[],s=0;s<n.length;){var a=t.Ie.get(n[s++].V);e.push(null==a?0:a.yb)}return i.we=e,i},H.ma=pi,H.prototype=Ni(pi.prototype,{apply:function(t){if(0==this.P)for(var i=0,n=(t=t.I).length;i<n;){var e=i++;if(e>=this.we.length)break;t[e].yb=this.we[e]}},ua:function(t){t.lb(this.we.length);for(var i=0,n=this.we;i<n.length;)t.lb(n[i++])},va:function(t){this.we=[];for(var i=t.Ab(),n=0;n<i;)++n,this.we.push(t.Ab())},f:H}),K.b=!0,K.Rd=[oi],K.qd=function(t,i){t.Z=i.Z,t.m=i.m,t.aa=i.aa,t.Ca=i.Ca,t.R=i.R,t.Mj=i.Mj,t.h=i.h,t.v=i.v;var n=t.a,e=i.a;n.x=e.x,n.y=e.y,n=t.D,e=i.D,n.x=e.x,n.y=e.y,n=t.oa,e=i.oa,n.x=e.x,n.y=e.y},K.prototype={ga:function(t){var i=this.a;t.s(i.x),t.s(i.y),i=this.D,t.s(i.x),t.s(i.y),i=this.oa,t.s(i.x),t.s(i.y),t.s(this.Z),t.s(this.m),t.s(this.aa),t.s(this.Ca),t.tb(this.R),t.O(this.h),t.O(this.v)},ja:function(t){var i=this.a;i.x=t.u(),i.y=t.u(),(i=this.D).x=t.u(),i.y=t.u(),(i=this.oa).x=t.u(),i.y=t.u(),this.Z=t.u(),this.m=t.u(),this.aa=t.u(),this.Ca=t.u(),this.R=t.hb(),this.h=t.M(),this.v=t.M()},Pn:function(t){var i=this.a,n=t.a,e=i.x-n.x,s=(i=i.y-n.y,t.Z+this.Z);if(0<(a=e*e+i*i)&&a<=s*s){e=e/(a=Math.sqrt(a)),i=i/a;var a=(s=s-a)*(n=this.aa/(this.aa+t.aa)),h=this.a,o=this.a;h.x=o.x+e*a,h.y=o.y+i*a,o=h=t.a,s-=a,h.x=o.x-e*s,h.y=o.y-i*s,s=this.D,a=t.D,0>(s=e*(s.x-a.x)+i*(s.y-a.y))&&(n*=s*=this.m*t.m+1,h=a=this.D,a.x=h.x-e*n,a.y=h.y-i*n,t=a=t.D,n=s-n,a.x=t.x+e*n,a.y=t.y+i*n)}},Qn:function(t){var i,n,e;if(0!=0*t.vb){i=t.W.a;var s=t.ca.a;n=s.x-i.x;var a=s.y-i.y,h=this.a;if(e=h.x-s.x,s=h.y-s.y,0>=((h=this.a).x-i.x)*n+(h.y-i.y)*a||0<=e*n+s*a)return;e=(i=(n=t.wa).x)*e+(n=n.y)*s}else{if(n=t.Xd,i=(e=this.a).x-n.x,n=e.y-n.y,e=t.Hg,s=t.Ig,(0<e.x*i+e.y*n&&0<s.x*i+s.y*n)==0>=t.vb)return;if(0==(s=Math.sqrt(i*i+n*n)))return;e=s-t.Yj,i/=s,n/=s}if(0==(s=t.Cc))0>e&&(e=-e,i=-i,n=-n);else if(0>s&&(s=-s,e=-e,i=-i,n=-n),e<-s)return;e>=this.Z||(e=this.Z-e,a=s=this.a,s.x=a.x+i*e,s.y=a.y+n*e,0>(e=i*(e=this.D).x+n*e.y)&&(e*=this.m*t.m+1,s=t=this.D,t.x=s.x-i*e,t.y=s.y-n*e))},sc:function(){var t=hi.zc,i=this.gc;return this.hc!=t&&(null==i&&(this.gc=i=new K),this.hc=t,K.qd(i,this)),i},f:K},G.b=!0,G.Rd=[oi],G.prototype={ga:function(t){t.l(this.Yd),t.l(this.Zd),t.s(this.Hb),t.s(this.ec),t.s(this.ne),t.O(this.R)},ja:function(t){this.Yd=t.B(),this.Zd=t.B(),this.Hb=t.u(),this.ec=t.u(),this.ne=t.u(),this.R=t.M()},C:function(t){var i=t[this.Yd];if(t=t[this.Zd],null!=i&&null!=t){var n=i.a,e=t.a,s=n.x-e.x,a=(n=n.y-e.y,Math.sqrt(s*s+n*n));if(!(0>=a)){var h,o;if(s/=a,n/=a,(e=i.aa/(i.aa+t.aa))!=e&&(e=.5),this.Hb>=this.ec)h=this.Hb,o=0;else if(a<=this.Hb)h=this.Hb,o=1;else{if(!(a>=this.ec))return;h=this.ec,o=-1}if(a=h-a,0==0*this.ne)s*=e=this.ne*a*.5,n*=e,o=e=i.D,i=i.aa,e.x=o.x+s*i,e.y=o.y+n*i,e=i=t.D,t=t.aa,i.x=e.x+-s*t,i.y=e.y+-n*t;else{h=a*e;var r=i.a,c=i.a;r.x=c.x+s*h*.5,r.y=c.y+n*h*.5,c=r=t.a,a-=h,r.x=c.x-s*a*.5,r.y=c.y-n*a*.5,a=i.D,h=t.D,0>=(a=s*(a.x-h.x)+n*(a.y-h.y))*o&&(e*=a,i=o=i.D,o.x=i.x-s*e,o.y=i.y-n*e,t=i=t.D,e=a-e,i.x=t.x+s*e,i.y=t.y+n*e)}}}},f:G},N.b=!0,N.Rd=[oi],N.qd=function(t,i){if(null==i.F)t.F=null;else{null==t.F&&(t.F=[]);for(var n=t.F,e=i.F,s=e.length;n.length>s;)n.pop();s=0;for(var a=e.length;s<a;){var h=s++;n[h]=e[h].sc()}}t.J=i.J,t.U=i.U,t.qa=i.qa,t.pb=i.pb},N.prototype={ga:function(t){t.l(this.F.length);for(var i=0,n=this.F.length;i<n;){var e=i++,s=this.F[e];s.jl=e,s.ga(t)}},ja:function(t){this.F=[];for(var i=t.B(),n=0;n<i;){++n;var e=new K;e.ja(t),this.F.push(e)}},C:function(t){for(var i=0,n=this.F;i<n.length;){var e=n[i];++i;var s=e.a,a=e.a,h=e.D;s.x=a.x+h.x*t,s.y=a.y+h.y*t,a=s=e.D,h=e.oa,e=e.Ca,s.x=(a.x+h.x)*e,s.y=(a.y+h.y)*e}for(t=0,i=this.F.length;t<i;){for(e=t++,n=this.F[e],e+=1,s=this.F.length;e<s;)0!=((a=this.F[e++]).h&n.v)&&0!=(a.v&n.h)&&n.Pn(a);if(0!=n.aa){for(e=0,s=this.qa;e<s.length;)if(a=s[e],++e,0!=(a.h&n.v)&&0!=(a.v&n.h)){h=a.wa;var o=n.a;if(0<(h=a.Ua-(h.x*o.x+h.y*o.y)+n.Z)){var r=o=n.a,c=a.wa;o.x=r.x+c.x*h,o.y=r.y+c.y*h,h=n.D,o=a.wa,0>(h=h.x*o.x+h.y*o.y)&&(h*=n.m*a.m+1,r=o=n.D,a=a.wa,o.x=r.x-a.x*h,o.y=r.y-a.y*h)}}for(e=0,s=this.U;e<s.length;)a=s[e],++e,0!=(a.h&n.v)&&0!=(a.v&n.h)&&n.Qn(a);for(e=0,s=this.J;e<s.length;)if(a=s[e],++e,0!=(a.h&n.v)&&0!=(a.v&n.h)&&(o=n.a,r=a.a,0<(r=(h=o.x-r.x)*h+(o=o.y-r.y)*o)&&r<=n.Z*n.Z)){h=h/(r=Math.sqrt(r)),o=o/r,r=n.Z-r;var l=c=n.a;c.x=l.x+h*r,c.y=l.y+o*r,0>(r=h*(r=n.D).x+o*r.y)&&(r*=n.m*a.m+1,c=a=n.D,a.x=c.x-h*r,a.y=c.y-o*r)}}}for(t=0;2>t;)for(++t,i=0,n=this.pb;i<n.length;)n[i++].C(this.F)},sc:function(){var t=hi.zc,i=this.gc;return this.hc!=t&&(null==i&&(this.gc=i=new N),this.hc=t,N.qd(i,this)),i},f:N},E.b=!0,E.prototype={ga:function(t){var i=this.wa;t.s(i.x),t.s(i.y),t.s(this.Ua),t.s(this.m),t.O(this.h),t.O(this.v)},ja:function(t){var i=this.wa;i.x=t.u(),i.y=t.u(),this.Ua=t.u(),this.m=t.u(),this.h=t.M(),this.v=t.M()},f:E},F.b=!0,F.prototype={ga:function(t){var i=0,n=t.a;t.l(0),t.l(this.W.ud),t.l(this.ca.ud),0!=this.Cc&&(i=1,t.s(this.Cc)),this.vb!=1/0&&(i|=2,t.s(this.vb)),0!=this.R&&(i|=4,t.O(this.R)),this.Za&&(i|=8),t.o.setUint8(n,i),t.s(this.m),t.O(this.h),t.O(this.v)},ja:function(t,i){var n=t.B();this.W=i[t.B()],this.ca=i[t.B()],this.Cc=0!=(1&n)?t.u():0,this.vb=0!=(2&n)?t.u():1/0,this.R=0!=(4&n)?t.M():0,this.Za=0!=(8&n),this.m=t.u(),this.h=t.M(),this.v=t.M()},Oc:function(t){if(0>(t*=.017453292519943295)){t=-t;var i=this.W;this.W=this.ca,this.ca=i,this.Cc=-this.Cc}t>F.mn&&t<F.ln&&(this.vb=1/Math.tan(t/2))},Co:function(){return 0!=0*this.vb?0:114.59155902616465*Math.atan(1/this.vb)},he:function(){if(0==0*this.vb){var t=this.ca.a,i=this.W.a,n=.5*(t.x-i.x),e=(t=.5*(t.y-i.y),i=this.W.a,this.vb);this.Xd=new $t(i.x+n+-t*e,i.y+t+n*e),t=this.W.a,i=this.Xd,n=t.x-i.x,t=t.y-i.y,this.Yj=Math.sqrt(n*n+t*t),n=this.W.a,t=this.Xd,this.Hg=new $t(-(n.y-t.y),n.x-t.x),n=this.Xd,t=this.ca.a,this.Ig=new $t(-(n.y-t.y),n.x-t.x),0>=this.vb&&(t=n=this.Hg,n.x=-t.x,n.y=-t.y,t=n=this.Ig,n.x=-t.x,n.y=-t.y)}else t=this.W.a,i=this.ca.a,n=t.x-i.x,t=-(t.y-i.y),i=Math.sqrt(t*t+n*n),this.wa=new $t(t/i,n/i)},f:F},O.b=!0,O.prototype={ga:function(t){var i=this.a;t.s(i.x),t.s(i.y),t.s(this.m),t.O(this.h),t.O(this.v)},ja:function(t){var i=this.a;i.x=t.u(),i.y=t.u(),this.m=t.u(),this.h=t.M(),this.v=t.M()},f:O},D.b=!0,D.lc=function(t){return"rgba("+[(16711680&t)>>>16,(65280&t)>>>8,255&t].join()+",255)"},D.Gi=function(t,i){t.imageSmoothingEnabled=i,t.mozImageSmoothingEnabled=i},D.prototype={Po:function(t,i){var n=this.dd.get(t.V);if(null!=n)switch(i){case 0:n.Xf=!0;break;case 1:n.Xf=!1}},Pr:function(){if(null!=this.sa.parentElement){var t=window.devicePixelRatio*this.zg,i=this.sa.getBoundingClientRect(),n=Math.round(i.width*t);t=Math.round(i.height*t);this.sa.width==n&&this.sa.height==t||(this.sa.width=n,this.sa.height=t)}},Kc:function(t,i){var n=((e=window.performance.now())-this.$c)/1e3;if(this.$c=e,this.Jg.clear(),this.Pr(),D.Gi(this.c,!0),this.c.resetTransform(),null!=t.K){var e,s=(e=t.K).ta,a=t.na(i),h=null!=a?a.H:null,o=0!=this.jf?this.sa.height/this.jf:this.kf*window.devicePixelRatio*this.zg,r=this.xf*this.zg,c=e.S.Ye,l=this.sa.width/o;0<c&&l>c&&(l=c,o=this.sa.width/c),c=(this.sa.height-r)/o,this.Mr(e,h,l,c,n);for(var u=0,f=t.I;u<f.length;){var d=f[u];if(++u,null!=d.H){var b=this.dd.get(d.V);null==b&&(b=new B,this.dd.set(d.V,b)),b.C(d,t),this.Jg.set(d.H,b)}}for(this.c.translate(this.sa.width/2,(this.sa.height+r)/2),this.c.scale(o,o),this.c.translate(-this.Ya.x,-this.Ya.y),this.c.lineWidth=3,this.Sq(e.S),this.Rq(e.S),o=s.F,r=0,u=s.pb;r<u.length;)this.Mq(u[r++],o);for(this.Lq(t,l,c),this.Nq(t,a),null!=h&&this.Pq(h.a),this.c.lineWidth=2,a=0,h=t.I;a<h.length;)l=h[a],++a,null!=(c=l.H)&&this.Ll(c,this.dd.get(l.V));for(a=0,s=s.F;a<s.length;)h=s[a],++a,null==this.Jg.get(h)&&this.Ll(h,null);this.c.lineWidth=3,this.c.resetTransform(),this.c.translate(this.sa.width/2,this.sa.height/2),this.Oq(e),0>=e.Oa&&(this.td.C(n),this.td.Kc(this.c)),this.Jg.clear(),this.Kq(t)}},Kq:function(t){var i=new Set,n=0;for(t=t.I;n<t.length;)i.add(t[n++].V);for(t=(n=this.dd.keys()).next();!t.done;){var e=t.value;t=n.next(),i.has(e)||this.dd.delete(e)}},Mr:function(t,i,n,e,s){var a,h;if(null!=i&&1==t.S.Ge)a=(h=i.a).x,h=h.y;else if(a=(h=t.ta.F[0].a).x,h=h.y,null!=i){a=.5*(a+(c=i.a).x),h=.5*(h+c.y);var o=.5*n,r=.5*e;i=c.x-o+50;var c,l=c.y-r+50;a=a>(o=c.x+o-50)?o:a<i?i:a,h=h>(c=c.y+r-50)?c:h<l?l:h}1<(l=60*s)&&(l=1),l*=.04,o=(i=s=this.Ya).x,i=i.y,s.x=o+(a-o)*l,s.y=i+(h-i)*l,this.Xn(n,e,t.S)},Xn:function(t,i,n){t>2*n.$b?this.Ya.x=0:this.Ya.x+.5*t>n.$b?this.Ya.x=n.$b-.5*t:this.Ya.x-.5*t<-n.$b&&(this.Ya.x=-n.$b+.5*t),i>2*n.qc?this.Ya.y=0:this.Ya.y+.5*i>n.qc?this.Ya.y=n.qc-.5*i:this.Ya.y-.5*i<-n.qc&&(this.Ya.y=-n.qc+.5*i)},Pq:function(t){this.c.beginPath(),this.c.strokeStyle="white",this.c.globalAlpha=.3,this.c.arc(t.x,t.y,25,0,2*Math.PI,!1),this.c.stroke(),this.c.globalAlpha=1},Oq:function(t){var i=0<t.Oa;this.lr(i),i&&(120!=t.Oa&&(t=t.Oa/120*200,this.c.fillStyle="white",this.c.fillRect(.5*-t,100,t,20)),this.td.eq.Tq(this.c))},lr:function(t){this.Dk!=t&&(this.sa.style.filter=t?"grayscale(70%)":"",this.Dk=t)},Wl:function(t,i,n,e,s,a){e=i+e,s=n+s,t.beginPath(),t.moveTo(e-a,n),t.arcTo(e,n,e,n+a,a),t.lineTo(e,s-a),t.arcTo(e,s,e-a,s,a),t.lineTo(i+a,s),t.arcTo(i,s,i,s-a,a),t.lineTo(i,n+a),t.arcTo(i,n,i+a,n,a),t.closePath()},Sq:function(t){var i=this;D.Gi(this.c,!1);var n=t.Td,e=t.Sd;if(1==t.ld)this.c.save(),this.c.resetTransform(),this.c.fillStyle=D.lc(t.jd),this.c.fillRect(0,0,this.sa.width,this.sa.height),this.c.restore(),this.c.strokeStyle="white",this.c.fillStyle="#7a9a60",this.Wl(this.c,-n,-e,2*n,2*e,t.Uc),this.c.save(),this.c.scale(2,2),this.c.fill(),this.c.restore(),this.c.moveTo(0,-e),this.c.lineTo(0,e),this.c.stroke(),this.c.beginPath(),this.c.arc(0,0,t.kd,0,2*Math.PI),this.c.stroke();else if(2==t.ld){this.c.strokeStyle="#E9CC6E",this.c.save(),this.c.beginPath(),this.c.rect(this.Ya.x-1e4,this.Ya.y-1e4,2e4,2e4),this.c.scale(2,2),this.c.fillStyle="#424242",this.c.fill(),this.c.restore(),this.c.save(),this.Wl(this.c,-n,-e,2*n,2*e,t.Uc),this.c.scale(2,2),this.c.fillStyle="#525252",this.c.fill(),this.c.restore(),this.c.stroke(),this.c.beginPath(),this.c.moveTo(0,-e),this.c.setLineDash([15,15]),this.c.lineTo(0,e),this.c.stroke(),this.c.setLineDash([]);var s=t.Fe;n=n-s;s<t.Uc&&(n=0),(s=function(n,s,a){i.c.beginPath(),i.c.strokeStyle=n,i.c.arc(0,0,t.kd,-1.5707963267948966,1.5707963267948966,a),0!=s&&(i.c.moveTo(s,-e),i.c.lineTo(s,e)),i.c.stroke()})("#85ACF3",n,!1),s("#E18977",-n,!0)}else this.c.save(),this.c.resetTransform(),this.c.fillStyle=D.lc(t.jd),this.c.fillRect(0,0,this.sa.width,this.sa.height),this.c.restore();D.Gi(this.c,!0)},Nq:function(t,i){for(var n=It.A.Ak.L(),e=0,s=t.I;e<s.length;){var a=s[e];if(++e,null!=(h=a.H)){var h=h.a,o=this.dd.get(a.V);n&&o.Xf&&this.c.drawImage(It.Dm,h.x-.5*It.Dm.width,h.y-35),a!=i&&o.so(this.c,h.x,h.y+50)}}},Ll:function(t,i){if(this.c.beginPath(),null==i?(this.c.fillStyle=D.lc(t.R),this.c.strokeStyle="black"):(this.c.fillStyle=i.Ij,this.c.strokeStyle=i.lo),this.c.beginPath(),this.c.arc(t.a.x,t.a.y,t.Z,0,2*Math.PI,!1),null!=i){this.c.save();var n=t.Z/32;this.c.translate(t.a.x,t.a.y),this.c.scale(n,n),this.c.translate(-32,-32),this.c.fill(),this.c.restore()}else-1!=(0|t.R)&&this.c.fill();this.c.stroke()},Rq:function(t){if(null!=t){var i=0;for(t=t.U;i<t.length;)this.Qq(t[i++])}},Mq:function(t,i){if(!(0>t.R)){this.c.beginPath(),this.c.strokeStyle="white";var n=i[t.Yd],e=i[t.Zd];null!=n&&null!=e&&(n=n.a,e=e.a,this.c.moveTo(n.x,n.y),this.c.lineTo(e.x,e.y),this.c.stroke())}},Qq:function(t){if(t.Za){this.c.beginPath(),this.c.strokeStyle="white";var i=t.W.a,n=t.ca.a;if(0!=0*t.vb)this.c.moveTo(i.x,i.y),this.c.lineTo(n.x,n.y);else{t=t.Xd;var e=i.x-t.x;i=i.y-t.y;this.c.arc(t.x,t.y,Math.sqrt(e*e+i*i),Math.atan2(i,e),Math.atan2(n.y-t.y,n.x-t.x))}this.c.stroke()}},Lq:function(t,i,n){var e=t.K;if(null!=e)for(e=e.ta.F[0],this.nk(e.a,e.R,i,n),e=0,t=t.I;e<t.length;){var s=t[e];++e,null!=s.H&&this.nk(s.H.a,s.ea.R,i,n)}},nk:function(t,i,n,e){n=.5*n-25,e=.5*e-25;var s=this.Ya,a=t.x-s.x,h=(s=t.y-s.y,-n),o=-e,r=this.Ya;n=r.x+(a>n?n:a<h?h:a),e=r.y+(s>e?e:s<o?o:s),900<(a=t.x-n)*a+(t=t.y-e)*t&&(this.c.fillStyle="rgba(0,0,0,0.5)",this.pk(n+2,e+2,Math.atan2(t,a)),this.c.fillStyle=D.lc(i),this.pk(n-2,e-2,Math.atan2(t,a)))},pk:function(t,i,n){this.c.save(),this.c.translate(t,i),this.c.rotate(n),this.c.beginPath(),this.c.moveTo(15,0),this.c.lineTo(0,7),this.c.lineTo(0,-7),this.c.closePath(),this.c.fill(),this.c.restore()},Xq:function(){for(var t=this.dd.values(),i=t.next();!i.done;){var n=i.value;i=t.next();n.Xf=!1}},f:D},q.b=!0,q.prototype={zo:function(){return 2.31+.1155*(this.We.length-1)},Kc:function(t,i){var n=i/2.31,e=0;t.imageSmoothingEnabled=!0;for(var s=0,a=this.We;s<a.length;){var h=a[s];++s;var o=n-.05*e,r=180*q.kn.eval(o)*(0!=(1&e)?-1:1);t.globalAlpha=q.jn.eval(o),t.drawImage(h,r-.5*h.width,35*-(this.We.length-1)+70*e-.5*h.height),t.globalAlpha=1,++e}t.imageSmoothingEnabled=!1},Tq:function(t){var i=0;t.imageSmoothingEnabled=!0;for(var n=0,e=this.We;n<e.length;){var s=e[n];++n,t.drawImage(s,.5*-s.width,35*-(this.We.length-1)+70*i-.5*s.height),++i}t.imageSmoothingEnabled=!1},lc:function(t){return"rgba("+[(16711680&t)>>>16,(65280&t)>>>8,255&t].join()+",255)"},sp:function(t,i){var n=window.document.createElement("canvas"),e=n.getContext("2d",null);return e.font="900 70px Arial Black,Arial Bold,Gadget,sans-serif",n.width=Math.ceil(e.measureText(t).width)+7,n.height=90,e.font="900 70px Arial Black,Arial Bold,Gadget,sans-serif",e.textAlign="left",e.textBaseline="middle",e.fillStyle="black",e.fillText(t,7,52),e.fillStyle=this.lc(i),e.fillText(t,0,45),n},f:q},U.b=!0,U.prototype={Pa:function(t){this.ab.push(t)},Nn:function(){this.ab=[],this.xc=0},C:function(t){0<this.ab.length&&(this.xc+=t,this.xc>this.ab[0].zo()&&(this.xc=0,this.ab.shift()))},Kc:function(t){0<this.ab.length&&this.ab[0].Kc(t,this.xc)},f:U},B.b=!0,B.Ln=function(t,i){if(t.hd!=i.hd||t.ed!=i.ed)return!1;var n=t.fb,e=i.fb;if(n.length!=e.length)return!1;for(var s=0,a=n.length;s<a;){var h=s++;if(n[h]!=e[h])return!1}return!0},B.ao=function(t,i){t.hd=i.hd,t.ed=i.ed,t.fb=i.fb.slice(0)},B.prototype={fo:function(){var t=window.document.createElement("canvas");t.width=160,t.height=34,this.vl=t.getContext("2d",null)},Or:function(){var t=this.vl;t.resetTransform(),t.clearRect(0,0,160,34),t.font="26px sans-serif",t.fillStyle="white",t.globalAlpha=.5,160<t.measureText(this.w).width?(t.textAlign="left",t.translate(2,29)):(t.textAlign="center",t.translate(80,29)),t.fillText(this.w,0,0),t.globalAlpha=1},so:function(t,i,n){t.drawImage(this.vl.canvas,0,0,160,34,i-40,n-34,80,17)},C:function(t,i){if(null!=t.H){var n=It.A.xm.L()?i.kb[t.ea.$]:t.ea.wm,e="",s=It.A.lm.L()&&!0;(!B.Ln(this.kb,n)||!s&&t.Jb!=this.uh||s&&this.Jf!=e)&&(B.ao(this.kb,n),s?(this.Jf=e,this.uh=-1):(this.Jf=""+t.Jb,this.uh=t.Jb),this.Hq(this.Jf))}this.lo=0<i.K.Oa||!t.Wb?"black":t.Wb&&0>=t.Sc&&0<=t.yc?"white":"black",t.w!=this.w&&(this.w=t.w,this.Or())},Hq:function(t){var i=this.kb.fb;if(!(1>i.length)){this.rb.save(),this.rb.translate(32,32),this.rb.rotate(3.141592653589793*this.kb.hd/128);for(var n=-32,e=64/i.length,s=0;s<i.length;)this.rb.fillStyle=D.lc(i[s++]),this.rb.fillRect(n,-32,e+4,64),n+=e;this.rb.restore(),this.rb.fillStyle=D.lc(this.kb.ed),this.rb.textAlign="center",this.rb.textBaseline="alphabetic",this.rb.font="900 34px 'Arial Black','Arial Bold',Gadget,sans-serif",this.rb.fillText(t,32,44),this.Ij=this.rb.createPattern(this.rb.canvas,"no-repeat")}},f:B},I.b=!0,I.prototype={ki:function(t){for(var i=this,n=0,e=Gt.ab.length>>2;n<e;){var s=[h=n++],a=Gt.ab[h<<2],h=Gt.ab[1+(h<<2)].toLowerCase(),o=[window.document.createElement("div")];o[0].className="elem",o[0].innerHTML='<div class="flagico f-'+h+'"></div> '+a,t.appendChild(o[0]),o[0].onclick=function(t,n){return function(){null!=i.rf&&i.rf.Ja.classList.remove("selected"),i.wh.disabled=!1,i.rf={Ja:t[0],index:n[0]},t[0].classList.add("selected")}}(o,s),o[0].ondblclick=function(t){return function(){i.Zl(t[0])}}(s)}},Zl:function(t){var i=new Ot;i.ub=Gt.ab[1+(t<<2)].toLowerCase(),i.Ec=Gt.ab[2+(t<<2)],i.Gc=Gt.ab[3+(t<<2)],It.A.Ne.Xa(i),Xt.i(this.qb)},f:I},P.b=!0,P.Yo=function(t){return t.parentElement.querySelector(":hover")==t},P.prototype={pp:function(t,i,n){var e=window.document.createElement("p");switch(e.className="announcement",e.textContent=t,0<=i&&(e.style.color=D.lc(i)),n){case 1:case 4:e.style.fontWeight="bold";break;case 2:case 5:e.style.fontStyle="italic"}switch(n){case 3:case 4:case 5:e.style.fontSize="12px"}this.Ok(e)},Ok:function(t){var i=this.dc.clientHeight;i=this.dc.scrollTop+i-this.dc.scrollHeight>=.5*-i||!P.Yo(this.dc);for(this.dc.appendChild(t),i&&(this.dc.scrollTop=t.offsetTop),t=i?50:100;this.dc.childElementCount>t;)this.dc.firstElementChild.remove();this.vg.update()},ba:function(t,i){var n=window.document.createElement("p");null!=i&&(n.className=i),n.textContent=t,this.Ok(n)},Gb:function(t){this.ba(t,"notice")},f:P},M.b=!0,M.vo=function(t){return-1!=".$^{[(|)*+?\\".indexOf(t)?"\\"+t:t},M.prototype={Qh:function(){this.Ui(null)},Hn:function(t,i){if(null!=(s=this.Iq.exec(Oi.substr(t,0,i)))){var n=s[0],e=new RegExp(Oi.substr(n,1,null).split("").map(M.vo).join(".*?"),"i");this.Ek="#"==n.charAt(0),this.si=s.index,this.Vq=n.length,this.Ml=t;for(var s=function(t){return null==(t=e.exec(t.w))?-1:t.index+t[0].length},a=(n=[],0),h=this.Hj;a<h.length;){var o=h[a];++a;var r=s(o);0<=r&&n.push({dn:r,item:o})}n.sort(function(t,i){return t.dn-i.dn}),this.Ui(n)}else this.Ui(null)},lk:function(t){t=this.Ek?"#"+t.$:"@"+Ui.replace(t.w," ","_"),this.Rp(Oi.substr(this.Ml,0,this.si)+t+" "+Oi.substr(this.Ml,this.si+this.Vq,null),this.si+t.length+1)},Ui:function(t){var i=this,n=null!=t&&0!=t.length;if(this.Mb.hidden||wi.Cf(this.Mb),this.Wc=null,this.Mb.hidden=!n,n){n=[];for(var e=0;e<t.length;){var s=t[e++],a=window.document.createElement("div"),h=(s=[s.item])[0].w;this.Ek&&(h="("+s[0].$+") "+h),a.textContent=h,this.Mb.appendChild(a),a.onclick=function(t){return function(){i.lk(t[0])}}(s),n.push({item:s[0],Ja:a})}this.Wc=n,this.Wc[0].Ja.classList.toggle("selected",!0),this.wc=0}},Qj:function(t){if(null!=this.Wc){var i=this.wc;this.wc+=t,t=this.Wc.length-1,0>this.wc?this.wc=t:this.wc>t&&(this.wc=0),t=this.Wc[this.wc],i!=this.wc&&(t.Ja.classList.toggle("selected",!0),this.Wc[i].Ja.classList.toggle("selected",!1)),t=(i=(t=t.Ja).offsetTop)+t.offsetHeight;var n=this.Mb.scrollTop+this.Mb.clientHeight;i<this.Mb.scrollTop?this.Mb.scrollTop=i:t>n&&(this.Mb.scrollTop=t-this.Mb.clientHeight)}},qo:function(){null!=this.Wc&&(this.lk(this.Wc[this.wc].item),this.Qh())},f:M},R.b=!0,R.prototype={Dc:function(){var t=this.Cb.value;return 25>=t.length&&0<t.length},C:function(){this.af.disabled=!this.Dc()},f:R},L.b=!0,L.prototype={ba:function(t){var i=window.document.createElement("p");i.textContent=t,this.dc.appendChild(i)},f:L},A.b=!0,A.prototype={Fj:function(t){this.Fm=t,this.Em.textContent="Show in room list: "+(t?"No":"Yes")},Dc:function(){var t=this.$e.value;return 40>=t.length&&0<t.length},C:function(){this.Wj.disabled=!this.Dc()},f:A},T.b=!0,T.prototype={f:T},S.b=!0,S.prototype={Gg:function(t){this.g.classList.toggle("restricted",t)},C:function(t){var i=t.K;null!=i&&(this.xc.tr(60*t.Da),this.xc.sr(0|i.Hc),this.Kb.set(i.Kb),this.Pb.set(i.Pb),this.Eb.Kc(t,this.Nb))},f:S},j.b=!0,j.prototype={Wd:function(t,i){var n=window.document.createElement("span");return n.textContent=t,n.className=i,n},sr:function(t){if(t!=this.Ke){var i=t%60,n=t/60|0;this.cr.textContent=""+i%10,this.dr.textContent=""+(i/10|0)%10,this.yp.textContent=""+n%10,this.zp.textContent=""+(n/10|0)%10,this.Ke=t}this.Jl(),this.Kl()},tr:function(t){this.Da=t,this.Jl(),this.Kl()},Jl:function(){this.pr(0!=this.Da&&this.Ke>this.Da)},Kl:function(){this.ur(this.Ke<this.Da&&this.Ke>this.Da-30)},pr:function(t){t!=this.hk&&(this.bq.className=t?"overtime on":"overtime",this.hk=t)},ur:function(t){t!=this.ik&&(this.g.className=t?"game-timer-view time-warn":"game-timer-view",this.ik=t)},f:j},C.b=!0,C.prototype={C:function(t){null==t.T.K&&this.me(!0),Xt.i(this.yl),this.bi.disabled=null==t.T.K,this.Gd?this.Wa.C(t.T,t.T.na(t.uc)):(t=t.Sf(),this.Fb.C(t),It.Na.Xj.Ls(t))},me:function(t){this.Gd!=t&&((this.Gd=t)?(this.Jh.appendChild(this.Wa.g),this.Fb.g.remove()):(this.Jh.appendChild(this.Fb.g),this.Wa.g.remove()))},Zo:function(){return null!=C.kq},bb:function(t,i){wi.Cf(this.hf),C.kq=t,null!=t?(this.hf.style.display="flex",this.hf.appendChild(t),this.yl=i):(this.hf.style.display="none",this.yl=null)},f:C},x.b=!0,x.prototype={Aj:function(t){this.Jj=t,this.An.textContent=t?"Yes":"No"},f:x},k.b=!0,k.prototype={f:k},y.b=!0,y.prototype={Lg:function(){this.hi.disabled=null==this.jb,this.bk.disabled=null==this.jb||null==this.jb.Lm,this.rk.disabled=null==this.jb},Sk:function(t,i,n){var e=this,s=window.document.createElement("div");s.textContent=t,s.className="elem",null!=n&&s.classList.add("custom");var a={Ja:s,Pd:i,Lm:n};return s.onclick=function(){null!=e.jb&&e.jb.Ja.classList.remove("selected"),e.jb=a,s.classList.add("selected"),e.Lg()},s.ondblclick=function(){return e.jb=a,e.Lg(),e.hi.onclick()},s},ki:function(t){for(var i=this,n=gt.Kh(),e=0;e<n.length;){var s=[n[e]];++e,s=this.Sk(s[0].w,function(t){return function(){return Promise.resolve(t[0])}}(s),null),t.appendChild(s)}St.getAll().then(function(n){for(var e=0;e<n.length;){var s=n[e];++e;var a=[s.id];s=i.Sk(s.name,function(t){return function(){return St.get(t[0])}}(a),function(t){return function(){return St.delete(t[0])}}(a));t.appendChild(s)}i.vg.update()})},f:y},m.b=!0,m.prototype={tn:function(t){0>t?(t=150,this.c.fillStyle="white"):this.c.fillStyle="gray";var i=this.Vi,n=this.yk,e=this.Ah++;this.Ah>=i&&(this.Ah=0),this.fq[e]=t,this.c.clearRect(e,0,1,n),t=t*n/this.vp,this.c.fillRect(e,n-t,1,t),this.Eh.clearRect(0,0,i,n),this.Eh.drawImage(this.sa,i-e-1,0),this.Eh.drawImage(this.sa,-e-1,0)},f:m},w.b=!0,w.prototype={C:function(t,i){var n=t.na(this.Nb);null==n?Xt.i(this.qb):(this.Nr(n),this.Hf.disabled=!i||0==this.Nb,this.Qe.disabled=!i||0==this.Nb)},Nr:function(t){this.fe!=t.w&&this.Ej(t.w),this.ql!=t.cb&&this.Dj(t.cb)},Ej:function(t){this.fe=t,this.Ze.textContent=t},Dj:function(t){this.ql=t,this.Hf.textContent=t?"Remove Admin":"Give Admin"},f:w},g.b=!0,g.prototype={C:function(t,i){this.g.draggable=i,this.yb!=t.yb&&(this.yb=t.yb,this.rg.textContent=""+this.yb),this.un!=t.cb&&this.em(t.cb)},em:function(t){this.un=t,this.g.className="player-list-item"+(t?" admin":"")},f:g},v.b=!0,v.prototype={C:function(t,i,n,e){var s=this;this.Vh.disabled=i||n,this.vi.disabled=n,i=new Set;for(var a=(n=this.xd.keys()).next();!a.done;){var h=a.value;a=n.next();i.add(h)}for(n=0;n<t.length;)a=t[n],++n,null==(h=this.xd.get(a.V))&&((h=new g(a)).ff=function(t){Yt.i(s.ff,t)},this.xd.set(a.V,h),this.ab.appendChild(h.g)),h.C(a,e),i.delete(a.V);for(i=(e=i.values()).next();!i.done;)n=i.value,i=e.next(),this.xd.get(n).g.remove(),this.xd.delete(n);for(e=0,i=t.length-1;e<i;)a=e++,n=this.xd.get(t[a].V).g,a=this.xd.get(t[a+1].V).g,n.nextSibling!=a&&this.ab.insertBefore(n,a)},f:v},p.b=!0,p.prototype={f:p},b.b=!0,b.Wk=function(t){return((t=t/1e3|0)/60|0)+":"+Ui.Af(qi.ye(t%60))},b.prototype={C:function(){this.Er.textContent=b.Wk(this.ti.Qb),this.Aq.style.width=100*this.ti.Go()+"%",!this.Wf||0<this.ti.Fd||(this.Wf=!1,this.Up())},f:b},d.b=!0,d.prototype={nr:function(t){this.gk!=t&&(this.gk=t,this.Zf.value=t)},f:d},f.b=!0,f.prototype={f:f},u.b=!0,u.As=function(t){return Promise.race([new Promise(function(t,i){return window.setTimeout(function(){i(null)},5e3)}),t])},u.prototype={Om:function(){function t(){i.pj.disabled=!1,i.bn(n)}var i=this;this.en(null),this.pj.disabled=!0,wi.Cf(this.gj);var n=[];this.dj=[],u.As(Tt.get().then(function(t){return n=t},function(){return{}})).then(t,t)},bn:function(t){var i=this;this.dj=t,Tt.Hs(this.gs,t),t.sort(function(t,i){return t.Le-i.Le}),wi.Cf(this.gj);for(var n=0,e=0,s=!this.fs.Ta,a=!this.zs.Ta,h=0;h<t.length;){var o=[t[h]];++h;var r=o[0].vd;if(!(s&&r.I>=r.Xe||a&&r.Ib)){var c=[new f(o[0])];c[0].Ja.ondblclick=function(t){return function(){Yt.i(i.Ym,t[0])}}(o),c[0].Ja.onclick=function(t){return function(){i.en(t[0])}}(c),this.gj.appendChild(c[0].Ja),n+=r.I,++e}}this.cs.textContent=n+" players in "+e+" rooms",this.Bs.update()},en:function(t){null!=this.Od&&this.Od.Ja.classList.remove("selected"),this.Od=t,null!=this.Od&&this.Od.Ja.classList.add("selected"),this.Tm.disabled=null==this.Od},f:u},l.b=!0,l.prototype={Il:function(){var t=this;zt.tk(It.Ee+"api/notice").then(function(i){var n=i.content;null!=n&&""!=n&&l.On!=n&&(t.$n.innerHTML=n,t.Xk.hidden=!1,t.nd.onclick=function(){return l.On=n,t.Xk.hidden=!0})})},f:l},c.b=!0,c.prototype={Dc:function(){var t=this.Cb.value;return 30>=t.length&&0<t.length},C:function(){this.af.disabled=!this.Dc()},f:c},r.b=!0,r.prototype={Th:function(t,i,n,e){var s=this;wi.xe(t,i.g),i.mg=function(t,i){Zt.i(s.mg,t,i)},i.ee=function(t){Yt.i(s.ee,t)},i.Kp=function(t){Zt.i(s.mg,e,t)},i.ff=function(t){Yt.i(s.ff,t)}},Tk:function(t){for(var i=[],n=0;n<t;){var e=n++;i.push(null==e?"null":""+e)}return i},Uk:function(t,i){for(var n=0;n<i.length;){var e=i[n++],s=window.document.createElement("option");s.textContent=e,t.appendChild(s)}},rr:function(t){this.Fl.classList.toggle("active",t)},C:function(t,i){this.Uq!=t.jc&&(this.Uq=t.jc,this.jc.textContent=t.jc);var n=null!=i&&i.cb;this.fk!=n&&(this.g.className="room-view"+(n?" admin":""),this.fk=n);var e=!n||null!=t.K;this.wf.disabled=e,this.qf.disabled=e,this.sm.disabled=e,e=null!=t.K,this.tm.hidden=e,this.vm.hidden=!e,this.gi.hidden=!e,this.wf.selectedIndex=t.Da,this.qf.selectedIndex=t.ib,this.rm.textContent=t.S.w,this.rm.classList.toggle("custom",!t.S.Pe());var s=t.Pc;this.Hl.C(t.I.filter(function(t){return t.ea==pt.fa}),s,e,n),this.Lj.C(t.I.filter(function(t){return t.ea==pt.xa}),s,e,n),this.qm.C(t.I.filter(function(t){return t.ea==pt.Ia}),s,e,n),this.Rl.disabled=e,this.Xh!=t.Pc&&this.Bj(t.Pc),e&&(n=120==t.K.Oa,this.ll!=n&&this.Cj(n))},Bj:function(t){this.Xh=t,this.Nk.innerHTML=this.Xh?"<i class='icon-lock'></i>Unlock":"<i class='icon-lock-open'></i>Lock"},Cj:function(t){this.ll=t,this.gi.innerHTML="<i class='icon-pause'></i>"+(this.ll?"Resume (P)":"Pause (P)")},f:r},o.b=!0,o.prototype={f:o},h.b=!0,h.prototype={f:h},a.b=!0,a.prototype={qr:function(t){this.rg.textContent=null==t?"null":""+t},or:function(t){this.wp.textContent=""+t},hm:function(t){this.wo.textContent=null==t?"null":""+t},f:a},s.b=!0,s.prototype={f:s},e.b=!0,e.ma=Error,e.prototype=Ni(Error.prototype,{f:e}),n.b=!0,n.Nm=function(t){if(t instanceof Array&&null==t.eb)return Array;var i=t.f;return null!=i?i:null!=(t=n.wj(t))?n.rn(t):null},n.Be=function(t,i){if(null==t)return"null";if(5<=i.length)return"<...>";switch("function"==(e=typeof t)&&(t.b||t.Gf)&&(e="object"),e){case"function":return"<function>";case"object":if(t.eb){if((h=(s=Hi[t.eb])[e=s.nh[t.nb]]).Ae){i+="\t";for(var e=e+"(",s=[],a=0,h=h.Ae;a<h.length;){var o=h[a];++a,s.push(n.Be(t[o],i))}return e+s.join(",")+")"}return e}if(t instanceof Array){for(e=t.length,s="[",i+="\t",a=0;a<e;)s+=(0<(h=a++)?",":"")+n.Be(t[h],i);return s+"]"}try{s=t.toString}catch(t){return"???"}if(null!=s&&s!=Object.toString&&"function"==typeof s&&"[object Object]"!=(e=t.toString()))return e;for(e in e=null,s="{\n",i+="\t",a=null!=t.hasOwnProperty,t)a&&!t.hasOwnProperty(e)||"prototype"==e||"__class__"==e||"__super__"==e||"__interfaces__"==e||"__properties__"==e||(2!=s.length&&(s+=", \n"),s+=i+e+" : "+n.Be(t[e],i));return s+"\n"+(i=i.substring(1))+"}";case"string":return t;default:return String(t)}},n.ph=function(t,i){if(null==t)return!1;if(t==i)return!0;var e=t.Rd;if(null!=e)for(var s=0,a=e.length;s<a;){var h=e[s++];if(h==i||n.ph(h,i))return!0}return n.ph(t.ma,i)},n.pn=function(t,i){if(null==i)return!1;switch(i){case Array:return t instanceof Array&&null==t.eb;case Qi:return"boolean"==typeof t;case zi:return!0;case $i:return"number"==typeof t;case Xi:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof i){if(t instanceof i||n.ph(n.Nm(t),i))return!0}else if("object"==typeof i&&n.qn(i)&&t instanceof i)return!0;return i==_i&&null!=t.b||i==tn&&null!=t.Gf||Hi[t.eb]==i}},n.G=function(t,i){if(n.pn(t,i))return t;throw new e("Cannot cast "+qi.ye(t)+" to "+qi.ye(i))},n.wj=function(t){return"Object"==(t=n.sn.call(t).slice(8,-1))||"Function"==t||"Math"==t||"JSON"==t?null:t},n.qn=function(t){return null!=n.wj(t)},n.rn=function(i){return t[i]},i.b=!0,i.Is=function(t,i){var n=new Uint8Array(this,t,null==i?null:i-t),e=new Uint8Array(n.byteLength);return e.set(n),e.buffer};var Yi=0;null==String.fromCodePoint&&(String.fromCodePoint=function(t){return 65536>t?String.fromCharCode(t):String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t))}),String.prototype.f=String,String.b=!0,Array.b=!0,Date.prototype.f=Date,Date.b="Date";var Xi={},zi={},$i=Number,Qi=Boolean,_i={},tn={};pt.Ia=new pt(0,16777215,0,-1,"Spectators","t-spec",0,0),pt.fa=new pt(1,15035990,-1,8,"Red","t-red",0,2),pt.xa=new pt(2,5671397,1,16,"Blue","t-blue",0,4),pt.Ia.pg=pt.Ia,pt.fa.pg=pt.xa,pt.xa.pg=pt.fa,Object.defineProperty(e.prototype,"message",{get:function(){return String(this.Ta)}}),null==ArrayBuffer.prototype.slice&&(ArrayBuffer.prototype.slice=i.Is),Mi.Yn={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},ji.qh={name:"ECDSA",namedCurve:"P-256"},ji.mm={name:"ECDSA",hash:{name:"SHA-256"}},xi.Uo=["click-rail","drag-thumb","wheel","touch"],pi.Qm=new Map,pi.yf=0,fi.za=pi.Fa({Ba:!1,Aa:!1}),hi.zc=0,ii.Km=[{name:"ro",reliable:!0,kj:!0},{name:"ru",reliable:!0,kj:!1},{name:"uu",reliable:!1,kj:!1}],zt.vj="application/x-www-form-urlencoded",Gt.ab=["Afghanistan","AF",33.3,65.1,"Albania","AL",41.1,20.1,"Algeria","DZ",28,1.6,"American Samoa","AS",-14.2,-170.1,"Andorra","AD",42.5,1.6,"Angola","AO",-11.2,17.8,"Anguilla","AI",18.2,-63,"Antigua and Barbuda","AG",17,-61.7,"Argentina","AR",-34.5,-58.4,"Armenia","AM",40,45,"Aruba","AW",12.5,-69.9,"Australia","AU",-25.2,133.7,"Austria","AT",47.5,14.5,"Azerbaijan","AZ",40.1,47.5,"Bahamas","BS",25,-77.3,"Bahrain","BH",25.9,50.6,"Bangladesh","BD",23.6,90.3,"Barbados","BB",13.1,-59.5,"Belarus","BY",53.7,27.9,"Belgium","BE",50.5,4.4,"Belize","BZ",17.1,-88.4,"Benin","BJ",9.3,2.3,"Bermuda","BM",32.3,-64.7,"Bhutan","BT",27.5,90.4,"Bolivia","BO",-16.2,-63.5,"Bosnia and Herzegovina","BA",43.9,17.6,"Botswana","BW",-22.3,24.6,"Bouvet Island","BV",-54.4,3.4,"Brazil","BR",-14.2,-51.9,"British Indian Ocean Territory","IO",-6.3,71.8,"British Virgin Islands","VG",18.4,-64.6,"Brunei","BN",4.5,114.7,"Bulgaria","BG",42.7,25.4,"Burkina Faso","BF",12.2,-1.5,"Burundi","BI",-3.3,29.9,"Cambodia","KH",12.5,104.9,"Cameroon","CM",7.3,12.3,"Canada","CA",56.1,-106.3,"Cape Verde","CV",16,-24,"Cayman Islands","KY",19.5,-80.5,"Central African Republic","CF",6.6,20.9,"Chad","TD",15.4,18.7,"Chile","CL",-35.6,-71.5,"China","CN",35.8,104.1,"Christmas Island","CX",-10.4,105.6,"Colombia","CO",4.5,-74.2,"Comoros","KM",-11.8,43.8,"Congo [DRC]","CD",-4,21.7,"Congo [Republic]","CG",-.2,15.8,"Cook Islands","CK",-21.2,-159.7,"Costa Rica","CR",9.7,-83.7,"Croatia","HR",45.1,15.2,"Cuba","CU",21.5,-77.7,"Cyprus","CY",35.1,33.4,"Czech Republic","CZ",49.8,15.4,"Cte d'Ivoire","CI",7.5,-5.5,"Denmark","DK",56.2,9.5,"Djibouti","DJ",11.8,42.5,"Dominica","DM",15.4,-61.3,"Dominican Republic","DO",18.7,-70.1,"Ecuador","EC",-1.8,-78.1,"Egypt","EG",26.8,30.8,"El Salvador","SV",13.7,-88.8,"England","ENG",55.3,-3.4,"Equatorial Guinea","GQ",1.6,10.2,"Eritrea","ER",15.1,39.7,"Estonia","EE",58.5,25,"Ethiopia","ET",9.1,40.4,"Faroe Islands","FO",61.8,-6.9,"Fiji","FJ",-16.5,179.4,"Finland","FI",61.9,25.7,"France","FR",46.2,2.2,"French Guiana","GF",3.9,-53.1,"French Polynesia","PF",-17.6,-149.4,"Gabon","GA",-.8,11.6,"Gambia","GM",13.4,-15.3,"Georgia","GE",42.3,43.3,"Germany","DE",51.1,10.4,"Ghana","GH",7.9,-1,"Gibraltar","GI",36.1,-5.3,"Greece","GR",39,21.8,"Greenland","GL",71.7,-42.6,"Grenada","GD",12.2,-61.6,"Guadeloupe","GP",16.9,-62,"Guam","GU",13.4,144.7,"Guatemala","GT",15.7,-90.2,"Guinea","GN",9.9,-9.6,"Guinea-Bissau","GW",11.8,-15.1,"Guyana","GY",4.8,-58.9,"Haiti","HT",18.9,-72.2,"Honduras","HN",15.1,-86.2,"Hong Kong","HK",22.3,114.1,"Hungary","HU",47.1,19.5,"Iceland","IS",64.9,-19,"India","IN",20.5,78.9,"Indonesia","ID",-.7,113.9,"Iran","IR",32.4,53.6,"Iraq","IQ",33.2,43.6,"Ireland","IE",53.4,-8.2,"Israel","IL",31,34.8,"Italy","IT",41.8,12.5,"Jamaica","JM",18.1,-77.2,"Japan","JP",36.2,138.2,"Jordan","JO",30.5,36.2,"Kazakhstan","KZ",48,66.9,"Kenya","KE",-0,37.9,"Kiribati","KI",-3.3,-168.7,"Kosovo","XK",42.6,20.9,"Kuwait","KW",29.3,47.4,"Kyrgyzstan","KG",41.2,74.7,"Laos","LA",19.8,102.4,"Latvia","LV",56.8,24.6,"Lebanon","LB",33.8,35.8,"Lesotho","LS",-29.6,28.2,"Liberia","LR",6.4,-9.4,"Libya","LY",26.3,17.2,"Liechtenstein","LI",47.1,9.5,"Lithuania","LT",55.1,23.8,"Luxembourg","LU",49.8,6.1,"Macau","MO",22.1,113.5,"Macedonia [FYROM]","MK",41.6,21.7,"Madagascar","MG",-18.7,46.8,"Malawi","MW",-13.2,34.3,"Malaysia","MY",4.2,101.9,"Maldives","MV",3.2,73.2,"Mali","ML",17.5,-3.9,"Malta","MT",35.9,14.3,"Marshall Islands","MH",7.1,171.1,"Martinique","MQ",14.6,-61,"Mauritania","MR",21,-10.9,"Mauritius","MU",-20.3,57.5,"Mayotte","YT",-12.8,45.1,"Mexico","MX",23.6,-102.5,"Micronesia","FM",7.4,150.5,"Moldova","MD",47.4,28.3,"Monaco","MC",43.7,7.4,"Mongolia","MN",46.8,103.8,"Montenegro","ME",42.7,19.3,"Montserrat","MS",16.7,-62.1,"Morocco","MA",31.7,-7,"Mozambique","MZ",-18.6,35.5,"Myanmar [Burma]","MM",21.9,95.9,"Namibia","NA",-22.9,18.4,"Nauru","NR",-.5,166.9,"Nepal","NP",28.3,84.1,"Netherlands","NL",52.1,5.2,"Netherlands Antilles","AN",12.2,-69,"New Caledonia","NC",-20.9,165.6,"New Zealand","NZ",-40.9,174.8,"Nicaragua","NI",12.8,-85.2,"Niger","NE",17.6,8,"Nigeria","NG",9,8.6,"Niue","NU",-19,-169.8,"Norfolk Island","NF",-29,167.9,"North Korea","KP",40.3,127.5,"Northern Mariana Islands","MP",17.3,145.3,"Norway","NO",60.4,8.4,"Oman","OM",21.5,55.9,"Pakistan","PK",30.3,69.3,"Palau","PW",7.5,134.5,"Palestinian Territories","PS",31.9,35.2,"Panama","PA",8.5,-80.7,"Papua New Guinea","PG",-6.3,143.9,"Paraguay","PY",-23.4,-58.4,"Peru","PE",-9.1,-75,"Philippines","PH",12.8,121.7,"Pitcairn Islands","PN",-24.7,-127.4,"Poland","PL",51.9,19.1,"Portugal","PT",39.3,-8.2,"Puerto Rico","PR",18.2,-66.5,"Qatar","QA",25.3,51.1,"Romania","RO",45.9,24.9,"Russia","RU",61.5,105.3,"Rwanda","RW",-1.9,29.8,"Runion","RE",-21.1,55.5,"Saint Helena","SH",-24.1,-10,"Saint Kitts","KN",17.3,-62.7,"Saint Lucia","LC",13.9,-60.9,"Saint Pierre","PM",46.9,-56.2,"Saint Vincent","VC",12.9,-61.2,"Samoa","WS",-13.7,-172.1,"San Marino","SM",43.9,12.4,"Saudi Arabia","SA",23.8,45,"Scotland","SCT",56.5,4.2,"Senegal","SN",14.4,-14.4,"Serbia","RS",44,21,"Seychelles","SC",-4.6,55.4,"Sierra Leone","SL",8.4,-11.7,"Singapore","SG",1.3,103.8,"Slovakia","SK",48.6,19.6,"Slovenia","SI",46.1,14.9,"Solomon Islands","SB",-9.6,160.1,"Somalia","SO",5.1,46.1,"South Africa","ZA",-30.5,22.9,"South Georgia","GS",-54.4,-36.5,"South Korea","KR",35.9,127.7,"Spain","ES",40.4,-3.7,"Sri Lanka","LK",7.8,80.7,"Sudan","SD",12.8,30.2,"Suriname","SR",3.9,-56,"Svalbard and Jan Mayen","SJ",77.5,23.6,"Swaziland","SZ",-26.5,31.4,"Sweden","SE",60.1,18.6,"Switzerland","CH",46.8,8.2,"Syria","SY",34.8,38.9,"So Tom and Prncipe","ST",.1,6.6,"Taiwan","TW",23.6,120.9,"Tajikistan","TJ",38.8,71.2,"Tanzania","TZ",-6.3,34.8,"Thailand","TH",15.8,100.9,"Timor-Leste","TL",-8.8,125.7,"Togo","TG",8.6,.8,"Tokelau","TK",-8.9,-171.8,"Tonga","TO",-21.1,-175.1,"Trinidad and Tobago","TT",10.6,-61.2,"Tunisia","TN",33.8,9.5,"Turkey","TR",38.9,35.2,"Turkmenistan","TM",38.9,59.5,"Turks and Caicos Islands","TC",21.6,-71.7,"Tuvalu","TV",-7.1,177.6,"U.S. Minor Outlying Islands","UM",0,0,"U.S. Virgin Islands","VI",18.3,-64.8,"Uganda","UG",1.3,32.2,"Ukraine","UA",48.3,31.1,"United Arab Emirates","AE",23.4,53.8,"United Kingdom","GB",55.3,-3.4,"United States","US",37,-95.7,"Uruguay","UY",-32.5,-55.7,"Uzbekistan","UZ",41.3,64.5,"Vanuatu","VU",-15.3,166.9,"Vatican City","VA",41.9,12.4,"Venezuela","VE",6.4,-66.5,"Vietnam","VN",14,108.2,"Wales","WLS",55.3,-3.4,"Wallis and Futuna","WF",-13.7,-177.1,"Western Sahara","EH",24.2,-12.8,"Yemen","YE",15.5,48.5,"Zambia","ZM",-13.1,27.8,"Zimbabwe","ZW",-19,29.1],It.Vr="wss://p2p.haxball.com/",It.Ee="https://www.haxball.com/rs/",It.Vf=[{urls:"stun:stun.l.google.com:19302"}],It.A=new Dt,kt.Yk=function(){for(var t=[],i=0;256>i;)++i,t.push(new $t(0,0));return t}(),kt.dk=function(){for(var t=[],i=0;256>i;)++i,t.push(0);return t}(),gt.Fr=Si.ha(1024),ft.za=pi.Fa({Ba:!1,Aa:!1}),ut.za=pi.Fa({Ba:!1,Aa:!1,oj:{$i:10,uj:900}}),lt.za=pi.Fa({Ba:!1,Aa:!1}),ct.za=pi.Fa({Ba:!1,Aa:!1}),rt.za=pi.Fa({Ba:!1,Aa:!1}),ot.za=pi.Fa({Ba:!1,Aa:!1}),ht.za=pi.Fa({Ba:!1,Aa:!1}),at.za=pi.Fa({Ba:!1,Aa:!1,oj:{$i:10,uj:2e3}}),st.za=pi.Fa({Ba:!1,Aa:!1}),et.za=pi.Fa({Ba:!1,Aa:!1}),nt.za=pi.Fa({Ba:!1,Aa:!1}),it.za=pi.Fa({Ba:!1,Aa:!1}),tt.za=pi.Fa({}),_.za=pi.Fa({Ba:!1,Aa:!1,oj:{$i:10,uj:900}}),Q.za=pi.Fa({}),$.za=pi.Fa({Ba:!1,Aa:!1}),X.za=pi.Fa({Ba:!1,Aa:!1}),Y.za=pi.Fa({Ba:!1,Aa:!1}),Z.za=pi.Fa({Ba:!1,Aa:!1}),W.za=pi.Fa({Ba:!1,Aa:!1}),J.za=pi.Fa({Ba:!1,Aa:!1}),V.za=pi.Fa({Ba:!1,Aa:!1}),H.za=pi.Fa({Ba:!1,Aa:!1}),F.mn=.17435839227423353,F.ln=5.934119456780721,q.jn=new Qt([0,0,2,1,0,.35,1,0,1,0,.7,1,0,0,0,1]),q.kn=new Qt([0,-1,3,0,0,.35,0,0,0,0,.65,0,0,1,3,1]),I.N="<div class='dialog change-location-view'><h1>Change Location</h1><div class='splitter'><div class='list' data-hook='list'></div><div class='buttons'><button data-hook='change'>Change</button><button data-hook='cancel'>Cancel</button></div></div></div>",P.N="<div class='chatbox-view'><div data-hook='log' class='log'><p>Controls:<br/>Move: WASD or Arrows<br/>Kick: X, Space, Ctrl, Shift, Numpad 0<br/>View: Numbers 1 to 4</p></div><div class='autocompletebox' data-hook='autocompletebox'></div><div class='input'><input data-hook='input' type='text' /><button data-hook='send'>Send</button></div></div>",R.N="<div class='choose-nickname-view'><img src=\"images/haxball.png\" /><div class='dialog'><h1>Choose nickname</h1><div class='label-input'><label>Nick:</label><input data-hook='input' type='text' /></div><button data-hook='ok'>Ok</button></div></div>",L.N="<div class='connecting-view'><div class='dialog'><h1>Connecting</h1><div class='connecting-view-log' data-hook='log'></div><button data-hook='cancel'>Cancel</button></div></div>",A.N="<div class='create-room-view'><div class='dialog'><h1>Create room</h1><div class='label-input'><label>Room name:</label><input data-hook='name' required /></div><div class='label-input'><label>Password:</label><input data-hook='pass' /></div><div class='label-input'><label>Max players:</label><select data-hook='max-pl'></select></div><button data-hook='unlisted'></button><div class='row'><button data-hook='cancel'>Cancel</button><button data-hook='create'>Create</button></div></div></div>",T.N="<div class='disconnected-view'><div class='dialog basic-dialog'><h1>Disconnected</h1><p data-hook='reason'></p><div class='buttons'><button data-hook='ok'>Ok</button><button data-hook='replay'>Save replay</button></div></div></div>",S.N="<div class='game-state-view'><div class='bar-container'><div class='bar'><div class='scoreboard'><div class='teamicon red'></div><div class='score' data-hook='red-score'>0</div><div>-</div><div class='score' data-hook='blue-score'>0</div><div class='teamicon blue'></div></div><div data-hook='timer'></div></div></div><div class='canvas' data-hook='canvas'></div></div>",C.N="<div class='game-view' tabindex='-1'><div class='top-section' data-hook='gameplay-section'></div><div class='bottom-section'><div data-hook='stats'></div><div data-hook='chatbox'></div><div class='buttons'><button data-hook='menu'><i class='icon-menu'></i>Menu<span class='tooltip'>Toggle room menu [Escape]</span></button><button data-hook='settings'><i class='icon-cog'></i>Settings</button></div></div><div data-hook='popups'></div></div>",x.N="<div class='dialog kick-player-view'><h1 data-hook='title'></h1><div class=label-input><label>Reason: </label><input type='text' data-hook='reason' /></div><button data-hook='ban-btn'><i class='icon-block'></i>Ban from rejoining: <span data-hook='ban-text'></span></button><div class=\"row\"><button data-hook='close'>Cancel</button><button data-hook='kick'>Kick</button></div></div>",k.N="<div class='dialog basic-dialog leave-room-view'><h1>Leave room?</h1><p>Are you sure you want to leave the room?</p><div class='buttons'><button data-hook='cancel'>Cancel</button><button data-hook='leave'><i class='icon-logout'></i>Leave</button></div></div>",y.N="<div class='dialog pick-stadium-view'><h1>Pick a stadium</h1><div class='splitter'><div class='list' data-hook='list'></div><div class='buttons'><button data-hook='pick'>Pick</button><button data-hook='delete'>Delete</button><div class='file-btn'><label for='stadfile'>Load</label><input id='stadfile' type='file' accept='.hbs' data-hook='file'/></div><button data-hook='export'>Export</button><div class='spacer'></div><button data-hook='cancel'>Cancel</button></div></div></div>",w.N="<div class='dialog' style='min-width:200px'><h1 data-hook='name'></h1><button data-hook='admin'></button><button data-hook='kick'>Kick</button><button data-hook='close'>Close</button></div>",g.N="<div class='player-list-item'><div data-hook='flag' class='flagico'></div><div data-hook='name'></div><div data-hook='ping'></div></div>",v.N="<div class='player-list-view'><div class='buttons'><button data-hook='join-btn'>Join</button><button data-hook='reset-btn' class='admin-only'></button></div><div class='list' data-hook='list'></div></div>",b.N="<div class='replay-controls-view'><button data-hook='reset'><i class='icon-to-start'></i></button><button data-hook='play'><i data-hook='playicon'></i></button><div data-hook='spd'>1x</div><button data-hook='spddn'>-</button><button data-hook='spdup'>+</button><div data-hook='time'>00:00</div><div class='timebar' data-hook='timebar'><div class='barbg'><div class='bar' data-hook='progbar'></div></div><div class='timetooltip' data-hook='timetooltip'></div></div><button data-hook='leave'>Leave</button></div>",d.N="<div class='dialog basic-dialog room-link-view'><h1>Room link</h1><p>Use this url to link others directly into this room.</p><input data-hook='link' readonly></input><div class='buttons'><button data-hook='close'>Close</button><button data-hook='copy'>Copy to clipboard</button></div></div>",f.tj="<tr><td><span data-hook='tag'></span><span data-hook='name'></span></td><td data-hook='players'></td><td data-hook='pass'></td><td><div data-hook='flag' class='flagico'></div><span data-hook='distance'></span></td></tr>",u.tj="<div class='roomlist-view'><div class='notice' data-hook='notice' hidden><div data-hook='notice-contents'>Testing the notice.</div><div data-hook='notice-close'><i class='icon-cancel'></i></div></div><div class='dialog'><h1>Room list</h1><p>Tip: Join rooms near you to reduce lag.</p><div class='splitter'><div class='list'><table class='header'><colgroup><col><col><col><col></colgroup><thead><tr><td>Name</td><td>Players</td><td>Pass</td><td>Distance</td></tr></thead></table><div class='separator'></div><div class='content' data-hook='listscroll'><table><colgroup><col><col><col><col></colgroup><tbody data-hook='list'></tbody></table></div><div class='filters'><span class='bool' data-hook='fil-pass'>Show locked <i></i></span><span class='bool' data-hook='fil-full'>Show full <i></i></span></div></div><div class='buttons'><button data-hook='refresh'><i class='icon-cw'></i><div>Refresh</div></button><button data-hook='join'><i class='icon-login'></i><div>Join Room</div></button><button data-hook='create'><i class='icon-plus'></i><div>Create Room</div></button><div class='spacer'></div><div class='file-btn'><label for='replayfile'><i class='icon-play'></i><div>Replays</div></label><input id='replayfile' type='file' accept='.hbr2' data-hook='replayfile'/></div><button data-hook='settings'><i class='icon-cog'></i><div>Settings</div></button><button data-hook='changenick'><i class='icon-cw'></i><div>Change Nick</div></button></div></div><p data-hook='count'></p></div></div>",c.N="<div class='room-password-view'><div class='dialog'><h1>Password required</h1><div class='label-input'><label>Password:</label><input data-hook='input' /></div><div class='buttons'><button data-hook='cancel'>Cancel</button><button data-hook='ok'>Ok</button></div></div></div>",r.N="<div class='room-view'><div class='container'><h1 data-hook='room-name'></h1><div class='header-btns'><button data-hook='rec-btn'><i class='icon-circle'></i>Rec</button><button data-hook='link-btn'><i class='icon-link'></i>Link</button><button data-hook='leave-btn'><i class='icon-logout'></i>Leave</button></div><div class='teams'><div class='tools admin-only'><button data-hook='auto-btn'>Auto</button><button data-hook='rand-btn'>Rand</button><button data-hook='lock-btn'>Lock</button><button data-hook='reset-all-btn'>Reset</button></div><div data-hook='red-list'></div><div data-hook='spec-list'></div><div data-hook='blue-list'></div><div class='spacer admin-only'></div></div><div class='settings'><div><label class='lbl'>Time limit</label><select data-hook='time-limit-sel'></select></div><div><label class='lbl'>Score limit</label><select data-hook='score-limit-sel'></select></div><div><label class='lbl'>Stadium</label><label class='val' data-hook='stadium-name'>testing the stadium name</label><button class='admin-only' data-hook='stadium-pick'>Pick</button></div></div><div class='controls admin-only'><button data-hook='start-btn'><i class='icon-play'></i>Start game</button><button data-hook='stop-btn'><i class='icon-stop'></i>Stop game</button><button data-hook='pause-btn'><i class='icon-pause'></i>Pause</button></div></div></div>",o.N="<div class='dialog settings-view'><h1>Settings</h1><button data-hook='close'>Close</button><div class='tabs'><button data-hook='soundbtn'>Sound</button><button data-hook='videobtn'>Video</button><button data-hook='inputbtn'>Input</button><button data-hook='miscbtn'>Misc</button></div><div data-hook='presskey' tabindex='-1'><div>Press a key</div></div><div class='tabcontents'><div class='section' data-hook='miscsec'><div class='loc' data-hook='loc'></div><div class='loc' data-hook='loc-ovr'></div><button data-hook='loc-ovr-btn'></button></div><div class='section' data-hook='soundsec'><div data-hook=\"tsound-main\">Sounds enabled</div><div data-hook=\"tsound-chat\">Chat sound enabled</div><div data-hook=\"tsound-highlight\">Nick highlight sound enabled</div><div data-hook=\"tsound-crowd\">Crowd sound enabled</div></div><div class='section' data-hook='inputsec'></div><div class='section' data-hook='videosec'><div>Viewport Mode:<select data-hook='viewmode'><option>Dynamic</option><option>Restricted 840x410</option><option>Full 1x Zoom</option><option>Full 1.25x Zoom</option><option>Full 1.5x Zoom</option><option>Full 1.75x Zoom</option><option>Full 2x Zoom</option><option>Full 2.25x Zoom</option><option>Full 2.5x Zoom</option></select></div><div>FPS Limit:<select data-hook='fps'><option>None (Recommended)</option><option>30</option></select></div><div>Resolution Scaling:<select data-hook='resscale'><option>100%</option><option>75%</option><option>50%</option><option>25%</option></select></div><div data-hook=\"tvideo-teamcol\">Custom team colors enabled</div><div data-hook=\"tvideo-showindicators\">Show chat indicators</div><div data-hook=\"tvideo-showavatars\">Show player avatars</div></div></div></div>",o.$l=0,h.N="<div class='simple-dialog-view'><div class='dialog basic-dialog'><h1 data-hook='title'></h1><p data-hook='content'></p><div class='buttons' data-hook='buttons'></div></div></div>",a.N="<div class='stats-view'><p>Ping: <span data-hook='ping'></span></p><p>Max Ping: <span data-hook='max-ping'></span></p><p>Fps: <span data-hook='fps'></span></p><div data-hook='graph'></div></div>",s.N='<div class=\'unsupported-browser-view\'><div class=\'dialog\'><h1>Unsupported Browser</h1><p>Sorry! Your browser doesn\'t yet implement some features which are required for HaxBall to work.</p><p>The missing features are: <span data-hook=\'features\'></span></p><h2>Recommended browsers:</h2><div><a href="https://www.mozilla.org/firefox/new/"><img src="images/firefox-icon.png"/>Firefox</a></div><div><a href="https://www.google.com/chrome/"><img src="images/chrome-icon.png"/>Chrome</a></div><div><a href="http://www.opera.com/"><img src="images/opera-icon.png"/>Opera</a></div></div></div>',n.sn={}.toString,Mt.qp()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
